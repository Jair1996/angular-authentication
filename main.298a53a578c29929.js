"use strict";(self.webpackChunkauthentication=self.webpackChunkauthentication||[]).push([[179],{2313:(zt,Ye,H)=>{H.d(Ye,{nm:()=>Li});var C=H(9883),pe=(H(8256),H(3692),H(259),H(5861)),Le=H(9681),Be=H(4859),De=H(2090),$e=H(1877);const K=new Map,ee={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function Qe(fe){return K.get(fe)||Object.assign({},ee)}function at(){return Me}class je{constructor(se,ve,he,Oe,It){if(this.operation=se,this.retryPolicy=ve,this.getWaitDuration=he,this.lowerBound=Oe,this.upperBound=It,this.pending=null,this.nextErrorWaitInterval=Oe,Oe>It)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(se){var ve=this;return(0,pe.Z)(function*(){ve.stop();try{ve.pending=new De.BH,yield function Ze(fe){return new Promise(se=>{setTimeout(se,fe)})}(ve.getNextRun(se)),ve.pending.resolve(),yield ve.pending.promise,ve.pending=new De.BH,yield ve.operation(),ve.pending.resolve(),yield ve.pending.promise,ve.process(!0).catch(()=>{})}catch(he){ve.retryPolicy(he)?ve.process(!1).catch(()=>{}):ve.stop()}})()}getNextRun(se){if(se)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ve}}}const ce=new De.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ie(fe){if(!Qe(fe).activated)throw ce.create("use-before-activation",{appName:fe.name})}function xe(fe,se){return ye.apply(this,arguments)}function ye(){return(ye=(0,pe.Z)(function*({url:fe,body:se},ve){const he={"Content-Type":"application/json"},Oe=ve.getImmediate({optional:!0});if(Oe){const Hr=yield Oe.getHeartbeatsHeader();Hr&&(he["X-Firebase-Client"]=Hr)}const It={method:"POST",body:JSON.stringify(se),headers:he};let Ut,kn;try{Ut=yield fetch(fe,It)}catch(Hr){throw ce.create("fetch-network-error",{originalErrorMessage:Hr?.message})}if(200!==Ut.status)throw ce.create("fetch-status-error",{httpStatus:Ut.status});try{kn=yield Ut.json()}catch(Hr){throw ce.create("fetch-parse-error",{originalErrorMessage:Hr?.message})}const jt=kn.ttl.match(/^([\d.]+)(s)$/);if(!jt||!jt[2]||isNaN(Number(jt[1])))throw ce.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${kn.ttl}`});const Yr=1e3*Number(jt[1]),zn=Date.now();return{token:kn.token,expireTimeMillis:zn+Yr,issuedAtTimeMillis:zn}})).apply(this,arguments)}function ht(fe,se){const{projectId:ve,appId:he,apiKey:Oe}=fe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ve}/apps/${he}:exchangeDebugToken?key=${Oe}`,body:{debug_token:se}}}const mt="firebase-app-check-store";let pn=null;function un(){return pn||(pn=new Promise((fe,se)=>{try{const ve=indexedDB.open("firebase-app-check-database",1);ve.onsuccess=he=>{fe(he.target.result)},ve.onerror=he=>{var Oe;se(ce.create("storage-open",{originalErrorMessage:null===(Oe=he.target.error)||void 0===Oe?void 0:Oe.message}))},ve.onupgradeneeded=he=>{0===he.oldVersion&&he.target.result.createObjectStore(mt,{keyPath:"compositeKey"})}}catch(ve){se(ce.create("storage-open",{originalErrorMessage:ve?.message}))}}),pn)}function Nn(){return(Nn=(0,pe.Z)(function*(fe,se){const he=(yield un()).transaction(mt,"readwrite"),It=he.objectStore(mt).put({compositeKey:fe,value:se});return new Promise((Ut,kn)=>{It.onsuccess=jt=>{Ut()},he.onerror=jt=>{var Yr;kn(ce.create("storage-set",{originalErrorMessage:null===(Yr=jt.target.error)||void 0===Yr?void 0:Yr.message}))}})})).apply(this,arguments)}const $r=new $e.Yd("@firebase/app-check");function Fr(fe,se){return(0,De.hl)()?function Qt(fe,se){return function er(fe,se){return Nn.apply(this,arguments)}(function ci(fe){return`${fe.options.appId}-${fe.name}`}(fe),se)}(fe,se).catch(ve=>{$r.warn(`Failed to write token to IndexedDB. Error: ${ve}`)}):Promise.resolve()}function Ti(){return at().enabled}function tr(){return nr.apply(this,arguments)}function nr(){return(nr=(0,pe.Z)(function*(){const fe=at();if(fe.enabled&&fe.token)return fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wn={error:"UNKNOWN_ERROR"};function ur(fe){return De.US.encodeString(JSON.stringify(fe),!1)}function on(fe){return xt.apply(this,arguments)}function xt(){return(xt=(0,pe.Z)(function*(fe,se=!1){const ve=fe.app;ie(ve);const he=Qe(ve);let It,Oe=he.token;if(Oe&&!Un(Oe)&&(he.token=void 0,Oe=void 0),!Oe){const jt=yield he.cachedTokenPromise;jt&&(Un(jt)?Oe=jt:yield Fr(ve,void 0))}if(!se&&Oe&&Un(Oe))return{token:Oe.token};let kn,Ut=!1;if(Ti()){he.exchangeTokenPromise||(he.exchangeTokenPromise=xe(ht(ve,yield tr()),fe.heartbeatServiceProvider).finally(()=>{he.exchangeTokenPromise=void 0}),Ut=!0);const jt=yield he.exchangeTokenPromise;return yield Fr(ve,jt),he.token=jt,{token:jt.token}}try{he.exchangeTokenPromise||(he.exchangeTokenPromise=he.provider.getToken().finally(()=>{he.exchangeTokenPromise=void 0}),Ut=!0),Oe=yield Qe(ve).exchangeTokenPromise}catch(jt){"appCheck/throttled"===jt.code?$r.warn(jt.message):$r.error(jt),It=jt}return Oe?It?kn=Un(Oe)?{token:Oe.token,internalError:It}:dn(It):(kn={token:Oe.token},he.token=Oe,yield Fr(ve,Oe)):kn=dn(It),Ut&&jr(ve,kn),kn})).apply(this,arguments)}function Xt(fe,se){const ve=Qe(fe),he=ve.tokenObservers.filter(Oe=>Oe.next!==se);0===he.length&&ve.tokenRefresher&&ve.tokenRefresher.isRunning()&&ve.tokenRefresher.stop(),ve.tokenObservers=he}function vn(fe){const{app:se}=fe,ve=Qe(se);let he=ve.tokenRefresher;he||(he=function cn(fe){const{app:se}=fe;return new je((0,pe.Z)(function*(){let he;if(he=Qe(se).token?yield on(fe,!0):yield on(fe),he.error)throw he.error;if(he.internalError)throw he.internalError}),()=>!0,()=>{const ve=Qe(se);if(ve.token){let he=ve.token.issuedAtTimeMillis+.5*(ve.token.expireTimeMillis-ve.token.issuedAtTimeMillis)+3e5;return he=Math.min(he,ve.token.expireTimeMillis-3e5),Math.max(0,he-Date.now())}return 0},3e4,96e4)}(fe),ve.tokenRefresher=he),!he.isRunning()&&ve.isTokenAutoRefreshEnabled&&he.start()}function jr(fe,se){const ve=Qe(fe).tokenObservers;for(const he of ve)try{"EXTERNAL"===he.type&&null!=se.error?he.error(se.error):he.next(se)}catch{}}function Un(fe){return fe.expireTimeMillis-Date.now()>0}function dn(fe){return{token:ur(wn),error:fe}}class xn{constructor(se,ve){this.app=se,this.heartbeatServiceProvider=ve}_delete(){const{tokenObservers:se}=Qe(this.app);for(const ve of se)Xt(this.app,ve.next);return Promise.resolve()}}const vt="app-check-internal";!function rr(){(0,Le.Xd)(new Be.wA("app-check",fe=>function yi(fe,se){return new xn(fe,se)}(fe.getProvider("app").getImmediate(),fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((fe,se,ve)=>{fe.getProvider(vt).initialize()})),(0,Le.Xd)(new Be.wA(vt,fe=>function gn(fe){return{getToken:se=>on(fe,se),addTokenListener:se=>function nt(fe,se,ve,he){const{app:Oe}=fe,It=Qe(Oe);if(It.tokenObservers=[...It.tokenObservers,{next:ve,error:he,type:se}],It.token&&Un(It.token)){const kn=It.token;Promise.resolve().then(()=>{ve({token:kn.token}),vn(fe)}).catch(()=>{})}It.cachedTokenPromise.then(()=>vn(fe))}(fe,"INTERNAL",se),removeTokenListener:se=>Xt(fe.app,se)}}(fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.KN)("@firebase/app-check","0.6.1")}();class Li{constructor(){return(0,C.vb)("app-check")}}typeof window<"u"&&window},3692:(zt,Ye,H)=>{H.d(Ye,{Ot:()=>ne,ZF:()=>kt,hX:()=>Qe,z6:()=>pe});var C=H(259),$=H(8256),ae=H(9883);class ne{constructor(je){return je}}class pe{constructor(){return(0,C.C6)()}}const De=new $.OlP("angularfire2._apps"),$e={provide:ne,useFactory:function Be(Pe){return Pe&&1===Pe.length?Pe[0]:new ne((0,C.Mq)())},deps:[[new $.FiY,De]]},K={provide:pe,deps:[[new $.FiY,De]]};function ee(Pe){return(je,Ze)=>{const dt=je.runOutsideAngular(()=>Pe(Ze));return new ne(dt)}}let Me=(()=>{class Pe{constructor(Ze){(0,C.KN)("angularfire",ae.q4.full,"core"),(0,C.KN)("angularfire",ae.q4.full,"app"),(0,C.KN)("angular",$.q4F.full,Ze.toString())}}return Pe.\u0275fac=function(Ze){return new(Ze||Pe)($.LFG($.Lbi))},Pe.\u0275mod=$.oAB({type:Pe}),Pe.\u0275inj=$.cJS({providers:[$e,K]}),Pe})();function Qe(Pe,...je){return{ngModule:Me,providers:[{provide:De,useFactory:ee(Pe),multi:!0,deps:[$.R0b,$.zs3,ae.HU,...je]}]}}const kt=(0,ae.u3)(C.ZF,!0)},7323:(zt,Ye,H)=>{H.d(Ye,{gx:()=>Me,dh:()=>Qe,Xb:()=>xe,v0:()=>ht,AR:()=>Pe,e5:()=>ur,rh:()=>nt,w7:()=>vn,EA:()=>Ze});var C=H(9883),$=H(8256),ae=H(3692),ne=H(259),pe=H(2313),Le=H(1434),Be=H(9751);function $e(it){return new Be.y(function(Ae){return{unsubscribe:(0,Le.MX)(it,Ae.next.bind(Ae),Ae.error.bind(Ae),Ae.complete.bind(Ae))}})}class Me{constructor(Ae){return Ae}}class Qe{constructor(){return(0,C.vb)("auth")}}const at=new $.OlP("angularfire2.auth-instances");function kt(it){return(Ae,ke)=>{const Tt=Ae.runOutsideAngular(()=>it(ke));return new Me(Tt)}}const Ct={provide:Qe,deps:[[new $.FiY,at]]},St={provide:Me,useFactory:function Et(it,Ae){const ke=(0,C.JM)("auth",it,Ae);return ke&&new Me(ke)},deps:[[new $.FiY,at],ae.Ot]};let tt=(()=>{class it{constructor(){(0,ne.KN)("angularfire",C.q4.full,"auth")}}return it.\u0275fac=function(ke){return new(ke||it)},it.\u0275mod=$.oAB({type:it}),it.\u0275inj=$.cJS({providers:[St,Ct]}),it})();function Pe(it,...Ae){return{ngModule:tt,providers:[{provide:at,useFactory:kt(it),multi:!0,deps:[$.R0b,$.zs3,C.HU,ae.z6,[new $.FiY,pe.nm],...Ae]}]}}const Ze=(0,C.u3)($e,!0),xe=(0,C.u3)(Le.Xb,!0),ht=(0,C.u3)(Le.v0,!0),ur=(0,C.u3)(Le.e5,!0),nt=(0,C.u3)(Le.rh,!0),vn=(0,C.u3)(Le.w7,!0)},89:(zt,Ye,H)=>{H.d(Ye,{gg:()=>Q,hJ:()=>ar,BS:()=>Wt,oe:()=>$n,JU:()=>nr,ad:()=>xn,Cm:()=>Yt});var C=H(9883),$=H(8256),ae=H(7323),ne=H(3692),pe=H(259),Le=H(2313),Be=H(5525),De=H(9751),$e=H(4004),K={includeMetadataChanges:!1};function ie(Ue,Ve){return void 0===Ve&&(Ve={}),function dt(Ue){return function ee(Ue,Ve){return void 0===Ve&&(Ve=K),new De.y(function(pt){return{unsubscribe:(0,Be.cf)(Ue,Ve,{next:pt.next.bind(pt),error:pt.error.bind(pt),complete:pt.complete.bind(pt)})}})}(Ue,{includeMetadataChanges:!0}).pipe((0,$e.U)(function(Ve){return Ve.docs}))}(Ue).pipe((0,$e.U)(function(pt){return pt.map(function(vt){return function Ne(Ue,Ve){void 0===Ve&&(Ve={});var pt=Ue.data();return!Ue.exists()||"object"!=typeof pt||null===pt||Ve.idField&&(pt[Ve.idField]=Ue.id),pt}(vt,Ve)})}))}class Q{constructor(Ve){return Ve}}const oe="firestore",Ge=new $.OlP("angularfire2.firestore-instances");function ht(Ue){return(Ve,pt)=>{const vt=Ve.runOutsideAngular(()=>Ue(pt));return new Q(vt)}}const rn={provide:class xe{constructor(){return(0,C.vb)(oe)}},deps:[[new $.FiY,Ge]]},Pn={provide:Q,useFactory:function be(Ue,Ve){const pt=(0,C.JM)(oe,Ue,Ve);return pt&&new Q(pt)},deps:[[new $.FiY,Ge],ne.Ot]};let mt=(()=>{class Ue{constructor(){(0,pe.KN)("angularfire",C.q4.full,"fst")}}return Ue.\u0275fac=function(pt){return new(pt||Ue)},Ue.\u0275mod=$.oAB({type:Ue}),Ue.\u0275inj=$.cJS({providers:[Pn,rn]}),Ue})();function Yt(Ue,...Ve){return{ngModule:mt,providers:[{provide:Ge,useFactory:ht(Ue),multi:!0,deps:[$.R0b,$.zs3,C.HU,ne.z6,[new $.FiY,ae.dh],[new $.FiY,Le.nm],...Ve]}]}}const Wt=(0,C.u3)(ie,!0),ar=(0,C.u3)(Be.hJ,!0),$n=(0,C.u3)(Be.oe,!0),nr=(0,C.u3)(Be.JU,!0),xn=(0,C.u3)(Be.ad,!0)},9883:(zt,Ye,H)=>{H.d(Ye,{q4:()=>ks,HU:()=>bt,vb:()=>O,JM:()=>M,u3:()=>no});var C=H(8256),$=H(259),ae=H(5861),ne=H(9681),pe=H(2090),Le=H(4859),Be=H(1877),De=H(8766);const $e="@firebase/installations",K="0.6.1",Me=`w:${K}`,Qe="FIS_v2",St=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(A){return A instanceof pe.ZR&&A.code.includes("request-failed")}function Pe({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function je(A){return{token:A.token,requestStatus:2,expiresIn:oe(A.expiresIn),creationTime:Date.now()}}function Ze(A,R){return dt.apply(this,arguments)}function dt(){return(dt=(0,ae.Z)(function*(A,R){const W=(yield R.json()).error;return St.create("request-failed",{requestName:A,serverCode:W.code,serverMessage:W.message,serverStatus:W.status})})).apply(this,arguments)}function ce({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function Se(A,{refreshToken:R}){const F=ce(A);return F.append("Authorization",function xe(A){return`${Qe} ${A}`}(R)),F}function ie(A){return Q.apply(this,arguments)}function Q(){return(Q=(0,ae.Z)(function*(A){const R=yield A();return R.status>=500&&R.status<600?A():R})).apply(this,arguments)}function oe(A){return Number(A.replace("s","000"))}function ye(A,R){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,ae.Z)(function*({appConfig:A,heartbeatServiceProvider:R},{fid:F}){const W=Pe(A),de=ce(A),ge=R.getImmediate({optional:!0});if(ge){const Bt=yield ge.getHeartbeatsHeader();Bt&&de.append("x-firebase-client",Bt)}const _t={method:"POST",headers:de,body:JSON.stringify({fid:F,authVersion:Qe,appId:A.appId,sdkVersion:Me})},ft=yield ie(()=>fetch(W,_t));if(ft.ok){const Bt=yield ft.json();return{fid:Bt.fid||F,registrationStatus:2,refreshToken:Bt.refreshToken,authToken:je(Bt.authToken)}}throw yield Ze("Create Installation",ft)})).apply(this,arguments)}function be(A){return new Promise(R=>{setTimeout(R,A)})}const rn=/^[cdef][\w-]{21}$/;function mt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const F=function Yt(A){return function ht(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return rn.test(F)?F:""}catch{return""}}function pn(A){return`${A.appName}!${A.appId}`}const un=new Map;function Tr(A,R){const F=pn(A);On(F,R),function er(A,R){const F=function Ft(){return!Nn&&"BroadcastChannel"in self&&(Nn=new BroadcastChannel("[Firebase] FID Change"),Nn.onmessage=A=>{On(A.data.key,A.data.fid)}),Nn}();F&&F.postMessage({key:A,fid:R}),function Zr(){0===un.size&&Nn&&(Nn.close(),Nn=null)}()}(F,R)}function On(A,R){const F=un.get(A);if(F)for(const W of F)W(R)}let Nn=null;const yn="firebase-installations-store";let ar=null;function Fr(){return ar||(ar=(0,De.X3)("firebase-installations-database",1,{upgrade:(A,R)=>{0===R&&A.createObjectStore(yn)}})),ar}function Dt(A,R){return $n.apply(this,arguments)}function $n(){return($n=(0,ae.Z)(function*(A,R){const F=pn(A),de=(yield Fr()).transaction(yn,"readwrite"),ge=de.objectStore(yn),et=yield ge.get(F);return yield ge.put(R,F),yield de.done,(!et||et.fid!==R.fid)&&Tr(A,R.fid),R})).apply(this,arguments)}function Ti(A){return tr.apply(this,arguments)}function tr(){return(tr=(0,ae.Z)(function*(A){const R=pn(A),W=(yield Fr()).transaction(yn,"readwrite");yield W.objectStore(yn).delete(R),yield W.done})).apply(this,arguments)}function nr(A,R){return li.apply(this,arguments)}function li(){return(li=(0,ae.Z)(function*(A,R){const F=pn(A),de=(yield Fr()).transaction(yn,"readwrite"),ge=de.objectStore(yn),et=yield ge.get(F),_t=R(et);return void 0===_t?yield ge.delete(F):yield ge.put(_t,F),yield de.done,_t&&(!et||et.fid!==_t.fid)&&Tr(A,_t.fid),_t})).apply(this,arguments)}function wn(A){return ur.apply(this,arguments)}function ur(){return(ur=(0,ae.Z)(function*(A){let R;const F=yield nr(A.appConfig,W=>{const de=on(W),ge=xt(A,de);return R=ge.registrationPromise,ge.installationEntry});return""===F.fid?{installationEntry:yield R}:{installationEntry:F,registrationPromise:R}})).apply(this,arguments)}function on(A){return Un(A||{fid:mt(),registrationStatus:0})}function xt(A,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(St.create("app-offline"))};const F={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},W=function nt(A,R){return Xt.apply(this,arguments)}(A,F);return{installationEntry:F,registrationPromise:W}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:vn(A)}:{installationEntry:R}}function Xt(){return(Xt=(0,ae.Z)(function*(A,R){try{const F=yield ye(A,R);return Dt(A.appConfig,F)}catch(F){throw tt(F)&&409===F.customData.serverCode?yield Ti(A.appConfig):yield Dt(A.appConfig,{fid:R.fid,registrationStatus:0}),F}})).apply(this,arguments)}function vn(A){return cn.apply(this,arguments)}function cn(){return(cn=(0,ae.Z)(function*(A){let R=yield jr(A.appConfig);for(;1===R.registrationStatus;)yield be(100),R=yield jr(A.appConfig);if(0===R.registrationStatus){const{installationEntry:F,registrationPromise:W}=yield wn(A);return W||F}return R})).apply(this,arguments)}function jr(A){return nr(A,R=>{if(!R)throw St.create("installation-not-found");return Un(R)})}function Un(A){return function dn(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function xn(A,R){return yi.apply(this,arguments)}function yi(){return(yi=(0,ae.Z)(function*({appConfig:A,heartbeatServiceProvider:R},F){const W=gn(A,F),de=Se(A,F),ge=R.getImmediate({optional:!0});if(ge){const Bt=yield ge.getHeartbeatsHeader();Bt&&de.append("x-firebase-client",Bt)}const _t={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:Me,appId:A.appId}})},ft=yield ie(()=>fetch(W,_t));if(ft.ok)return je(yield ft.json());throw yield Ze("Generate Auth Token",ft)})).apply(this,arguments)}function gn(A,{fid:R}){return`${Pe(A)}/${R}/authTokens:generate`}function Sr(A){return br.apply(this,arguments)}function br(){return(br=(0,ae.Z)(function*(A,R=!1){let F;const W=yield nr(A.appConfig,ge=>{if(!Jt(ge))throw St.create("not-registered");const et=ge.authToken;if(!R&&X(et))return ge;if(1===et.requestStatus)return F=it(A,R),ge;{if(!navigator.onLine)throw St.create("app-offline");const _t=te(ge);return F=Tt(A,_t),_t}});return F?yield F:W.authToken})).apply(this,arguments)}function it(A,R){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,ae.Z)(function*(A,R){let F=yield ke(A.appConfig);for(;1===F.authToken.requestStatus;)yield be(100),F=yield ke(A.appConfig);const W=F.authToken;return 0===W.requestStatus?Sr(A,R):W})).apply(this,arguments)}function ke(A){return nr(A,R=>{if(!Jt(R))throw St.create("not-registered");return function He(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function Tt(A,R){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,ae.Z)(function*(A,R){try{const F=yield xn(A,R),W=Object.assign(Object.assign({},R),{authToken:F});return yield Dt(A.appConfig,W),F}catch(F){if(!tt(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const W=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Dt(A.appConfig,W)}else yield Ti(A.appConfig);throw F}})).apply(this,arguments)}function Jt(A){return void 0!==A&&2===A.registrationStatus}function X(A){return 2===A.requestStatus&&!function Z(A){const R=Date.now();return R<A.creationTime||A.creationTime+A.expiresIn<R+36e5}(A)}function te(A){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:R})}function yt(){return(yt=(0,ae.Z)(function*(A){const R=A,{installationEntry:F,registrationPromise:W}=yield wn(R);return W?W.catch(console.error):Sr(R).catch(console.error),F.fid})).apply(this,arguments)}function an(){return(an=(0,ae.Z)(function*(A,R=!1){const F=A;return yield mr(F),(yield Sr(F,R)).token})).apply(this,arguments)}function mr(A){return me.apply(this,arguments)}function me(){return(me=(0,ae.Z)(function*(A){const{registrationPromise:R}=yield wn(A);R&&(yield R)})).apply(this,arguments)}function rr(A){return St.create("missing-app-config-values",{valueName:A})}const Ar="installations",Li=A=>{const R=A.getProvider("app").getImmediate(),F=function vt(A){if(!A||!A.options)throw rr("App Configuration");if(!A.name)throw rr("App Name");const R=["projectId","apiKey","appId"];for(const F of R)if(!A.options[F])throw rr(F);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(R);return{app:R,appConfig:F,heartbeatServiceProvider:(0,ne.qX)(R,"heartbeat"),_delete:()=>Promise.resolve()}},ni=A=>{const R=A.getProvider("app").getImmediate(),F=(0,ne.qX)(R,Ar).getImmediate();return{getId:()=>function Te(A){return yt.apply(this,arguments)}(F),getToken:de=>function qt(A){return an.apply(this,arguments)}(F,de)}};(function yr(){(0,ne.Xd)(new Le.wA(Ar,Li,"PUBLIC")),(0,ne.Xd)(new Le.wA("installations-internal",ni,"PRIVATE"))})(),(0,ne.KN)($e,K),(0,ne.KN)($e,K,"esm2017");const bs="@firebase/remote-config",xr=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class di{constructor(R,F,W,de){this.client=R,this.storage=F,this.storageCache=W,this.logger=de}isCachedDataFresh(R,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const W=Date.now()-F,de=W<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${W}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${de}.`),de}fetch(R){var F=this;return(0,ae.Z)(function*(){const[W,de]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(de&&F.isCachedDataFresh(R.cacheMaxAgeMillis,W))return de;R.eTag=de&&de.eTag;const ge=yield F.client.fetch(R),et=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&et.push(F.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(et),ge})()}}function Vt(A=navigator){return A.languages&&A.languages[0]||A.language}class _i{constructor(R,F,W,de,ge,et){this.firebaseInstallations=R,this.sdkVersion=F,this.namespace=W,this.projectId=de,this.apiKey=ge,this.appId=et}fetch(R){var F=this;return(0,ae.Z)(function*(){const[W,de]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,_t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},ft={sdk_version:F.sdkVersion,app_instance_id:W,app_instance_id_token:de,app_id:F.appId,language_code:Vt()},Bt={method:"POST",headers:_t,body:JSON.stringify(ft)},tn=fetch(et,Bt),$t=new Promise((pi,Os)=>{R.signal.addEventListener(()=>{const ro=new Error("The operation was aborted.");ro.name="AbortError",Os(ro)})});let or;try{yield Promise.race([tn,$t]),or=yield tn}catch(pi){let Os="fetch-client-network";throw"AbortError"===pi?.name&&(Os="fetch-timeout"),xr.create(Os,{originalErrorMessage:pi?.message})}let oi=or.status;const Kn=or.headers.get("ETag")||void 0;let Mc,ma;if(200===or.status){let pi;try{pi=yield or.json()}catch(Os){throw xr.create("fetch-client-parse",{originalErrorMessage:Os?.message})}Mc=pi.entries,ma=pi.state}if("INSTANCE_STATE_UNSPECIFIED"===ma?oi=500:"NO_CHANGE"===ma?oi=304:("NO_TEMPLATE"===ma||"EMPTY_CONFIG"===ma)&&(Mc={}),304!==oi&&200!==oi)throw xr.create("fetch-status",{httpStatus:oi});return{status:oi,eTag:Kn,config:Mc}})()}}class lr{constructor(R,F){this.client=R,this.storage=F}fetch(R){var F=this;return(0,ae.Z)(function*(){const W=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(R,W)})()}attemptFetch(R,{throttleEndTimeMillis:F,backoffCount:W}){var de=this;return(0,ae.Z)(function*(){yield function Ii(A,R){return new Promise((F,W)=>{const de=Math.max(R-Date.now(),0),ge=setTimeout(F,de);A.addEventListener(()=>{clearTimeout(ge),W(xr.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,F);try{const ge=yield de.client.fetch(R);return yield de.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function To(A){if(!(A instanceof pe.ZR&&A.customData))return!1;const R=Number(A.customData.httpStatus);return 429===R||500===R||503===R||504===R}(ge))throw ge;const et={throttleEndTimeMillis:Date.now()+(0,pe.$s)(W),backoffCount:W+1};return yield de.storage.setThrottleMetadata(et),de.attemptFetch(R,et)}})()}}class ss{constructor(R,F,W,de,ge){this.app=R,this._client=F,this._storageCache=W,this._storage=de,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Mr(A,R){const F=A.target.error||void 0;return xr.create(R,{originalErrorMessage:F&&F?.message})}const Gr="app_namespace_store";class ao{constructor(R,F,W,de=function _u(){return new Promise((A,R)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=W=>{R(Mr(W,"storage-open"))},F.onsuccess=W=>{A(W.target.result)},F.onupgradeneeded=W=>{0===W.oldVersion&&W.target.result.createObjectStore(Gr,{keyPath:"compositeKey"})}}catch(F){R(xr.create("storage-open",{originalErrorMessage:F?.message}))}})}()){this.appId=R,this.appName=F,this.namespace=W,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var F=this;return(0,ae.Z)(function*(){const W=yield F.openDbPromise;return new Promise((de,ge)=>{const _t=W.transaction([Gr],"readonly").objectStore(Gr),ft=F.createCompositeKey(R);try{const Bt=_t.get(ft);Bt.onerror=tn=>{ge(Mr(tn,"storage-get"))},Bt.onsuccess=tn=>{const $t=tn.target.result;de($t?$t.value:void 0)}}catch(Bt){ge(xr.create("storage-get",{originalErrorMessage:Bt?.message}))}})})()}set(R,F){var W=this;return(0,ae.Z)(function*(){const de=yield W.openDbPromise;return new Promise((ge,et)=>{const ft=de.transaction([Gr],"readwrite").objectStore(Gr),Bt=W.createCompositeKey(R);try{const tn=ft.put({compositeKey:Bt,value:F});tn.onerror=$t=>{et(Mr($t,"storage-set"))},tn.onsuccess=()=>{ge()}}catch(tn){et(xr.create("storage-set",{originalErrorMessage:tn?.message}))}})})()}delete(R){var F=this;return(0,ae.Z)(function*(){const W=yield F.openDbPromise;return new Promise((de,ge)=>{const _t=W.transaction([Gr],"readwrite").objectStore(Gr),ft=F.createCompositeKey(R);try{const Bt=_t.delete(ft);Bt.onerror=tn=>{ge(Mr(tn,"storage-delete"))},Bt.onsuccess=()=>{de()}}catch(Bt){ge(xr.create("storage-delete",{originalErrorMessage:Bt?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Vs{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,ae.Z)(function*(){const F=R.storage.getLastFetchStatus(),W=R.storage.getLastSuccessfulFetchTimestampMillis(),de=R.storage.getActiveConfig(),ge=yield F;ge&&(R.lastFetchStatus=ge);const et=yield W;et&&(R.lastSuccessfulFetchTimestampMillis=et);const _t=yield de;_t&&(R.activeConfig=_t)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function zr(){return bo.apply(this,arguments)}function bo(){return(bo=(0,ae.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function Bo(){(0,ne.Xd)(new Le.wA("remote-config",function A(R,{instanceIdentifier:F}){const W=R.getProvider("app").getImmediate(),de=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xr.create("registration-window");if(!(0,pe.hl)())throw xr.create("indexed-db-unavailable");const{projectId:ge,apiKey:et,appId:_t}=W.options;if(!ge)throw xr.create("registration-project-id");if(!et)throw xr.create("registration-api-key");if(!_t)throw xr.create("registration-app-id");const ft=new ao(_t,W.name,F=F||"firebase"),Bt=new Vs(ft),tn=new Be.Yd(bs);tn.logLevel=Be.in.ERROR;const $t=new _i(de,ne.Jn,F,ge,et,_t),or=new lr($t,ft),oi=new di(or,ft,Bt,tn),Kn=new ss(W,oi,Bt,ft,tn);return function ve(A){const R=(0,pe.m9)(A);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Kn),Kn},"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(bs,"0.4.1"),(0,ne.KN)(bs,"0.4.1","esm2017")}();const wr="/firebase-messaging-sw.js",En="/firebase-cloud-messaging-push-scope",Ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Si="google.c.a.c_id",Ai="google.c.a.c_l",Zi="google.c.a.ts",Yi="google.c.a.e";var Ui=(()=>{return(A=Ui||(Ui={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Ui;var A})();function uo(A){const R=new Uint8Array(A);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function us(A){const F=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),W=atob(F),de=new Uint8Array(W.length);for(let ge=0;ge<W.length;++ge)de[ge]=W.charCodeAt(ge);return de}const xi="fcm_token_details_db",co="fcm_token_object_Store";function Ya(A){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,ae.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(xi))return null;let R=null;return(yield(0,De.X3)(xi,5,{upgrade:(W=(0,ae.Z)(function*(de,ge,et,_t){var ft;if(ge<2||!de.objectStoreNames.contains(co))return;const Bt=_t.objectStore(co),tn=yield Bt.index("fcmSenderId").get(A);if(yield Bt.clear(),tn)if(2===ge){const $t=tn;if(!$t.auth||!$t.p256dh||!$t.endpoint)return;R={token:$t.fcmToken,createTime:null!==(ft=$t.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:$t.auth,p256dh:$t.p256dh,endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:"string"==typeof $t.vapidKey?$t.vapidKey:uo($t.vapidKey)}}}else if(3===ge){const $t=tn;R={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:uo($t.auth),p256dh:uo($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:uo($t.vapidKey)}}}else if(4===ge){const $t=tn;R={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:uo($t.auth),p256dh:uo($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:uo($t.vapidKey)}}}}),function(ge,et,_t,ft){return W.apply(this,arguments)})})).close(),yield(0,De.Lj)(xi),yield(0,De.Lj)("fcm_vapid_details_db"),yield(0,De.Lj)("undefined"),ua(R)?R:null;var W}),Vi.apply(this,arguments)}function ua(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:R}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const $o="firebase-messaging-store";let xs=null;function Bs(){return xs||(xs=(0,De.X3)("firebase-messaging-database",1,{upgrade:(A,R)=>{0===R&&A.createObjectStore($o)}})),xs}function $s(A){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,ae.Z)(function*(A){const R=cs(A),W=yield(yield Bs()).transaction($o).objectStore($o).get(R);if(W)return W;{const de=yield Ya(A.appConfig.senderId);if(de)return yield lo(A,de),de}})).apply(this,arguments)}function lo(A,R){return jo.apply(this,arguments)}function jo(){return(jo=(0,ae.Z)(function*(A,R){const F=cs(A),de=(yield Bs()).transaction($o,"readwrite");return yield de.objectStore($o).put(R,F),yield de.done,R})).apply(this,arguments)}function Mi(A){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,ae.Z)(function*(A){const R=cs(A),W=(yield Bs()).transaction($o,"readwrite");yield W.objectStore($o).delete(R),yield W.done})).apply(this,arguments)}function cs({appConfig:A}){return A.appId}const Yn=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hs(A,R){return ls.apply(this,arguments)}function ls(){return(ls=(0,ae.Z)(function*(A,R){const F=yield Qn(A),W=dr(R),de={method:"POST",headers:F,body:JSON.stringify(W)};let ge;try{ge=yield(yield fetch(Ni(A.appConfig),de)).json()}catch(et){throw Yn.create("token-subscribe-failed",{errorInfo:et?.toString()})}if(ge.error)throw Yn.create("token-subscribe-failed",{errorInfo:ge.error.message});if(!ge.token)throw Yn.create("token-subscribe-no-token");return ge.token})).apply(this,arguments)}function Co(A,R){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,ae.Z)(function*(A,R){const F=yield Qn(A),W=dr(R.subscriptionOptions),de={method:"PATCH",headers:F,body:JSON.stringify(W)};let ge;try{ge=yield(yield fetch(`${Ni(A.appConfig)}/${R.token}`,de)).json()}catch(et){throw Yn.create("token-update-failed",{errorInfo:et?.toString()})}if(ge.error)throw Yn.create("token-update-failed",{errorInfo:ge.error.message});if(!ge.token)throw Yn.create("token-update-no-token");return ge.token})).apply(this,arguments)}function Ri(A,R){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,ae.Z)(function*(A,R){const W={method:"DELETE",headers:yield Qn(A)};try{const ge=yield(yield fetch(`${Ni(A.appConfig)}/${R}`,W)).json();if(ge.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:ge.error.message})}catch(de){throw Yn.create("token-unsubscribe-failed",{errorInfo:de?.toString()})}})).apply(this,arguments)}function Ni({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function Qn(A){return ho.apply(this,arguments)}function ho(){return(ho=(0,ae.Z)(function*({appConfig:A,installations:R}){const F=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function dr({p256dh:A,auth:R,endpoint:F,vapidKey:W}){const de={web:{endpoint:F,auth:R,p256dh:A}};return W!==Ki&&(de.web.applicationPubKey=W),de}const Go=6048e5;function la(A){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,ae.Z)(function*(A){const R=yield Da(A.swRegistration,A.vapidKey),F={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:R.endpoint,auth:uo(R.getKey("auth")),p256dh:uo(R.getKey("p256dh"))},W=yield $s(A.firebaseDependencies);if(W){if(fo(W.subscriptionOptions,F))return Date.now()>=W.createTime+Go?ds(A,{token:W.token,createTime:Date.now(),subscriptionOptions:F}):W.token;try{yield Ri(A.firebaseDependencies,W.token)}catch(de){console.warn(de)}return hs(A.firebaseDependencies,F)}return hs(A.firebaseDependencies,F)})).apply(this,arguments)}function zo(A){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,ae.Z)(function*(A){const R=yield $s(A.firebaseDependencies);R&&(yield Ri(A.firebaseDependencies,R.token),yield Mi(A.firebaseDependencies));const F=yield A.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function ds(A,R){return hr.apply(this,arguments)}function hr(){return(hr=(0,ae.Z)(function*(A,R){try{const F=yield Co(A.firebaseDependencies,R),W=Object.assign(Object.assign({},R),{token:F,createTime:Date.now()});return yield lo(A.firebaseDependencies,W),F}catch(F){throw yield zo(A),F}})).apply(this,arguments)}function hs(A,R){return fs.apply(this,arguments)}function fs(){return(fs=(0,ae.Z)(function*(A,R){const W={token:yield Hs(A,R),createTime:Date.now(),subscriptionOptions:R};return yield lo(A,W),W.token})).apply(this,arguments)}function Da(A,R){return qr.apply(this,arguments)}function qr(){return(qr=(0,ae.Z)(function*(A,R){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:us(R)})})).apply(this,arguments)}function fo(A,R){return R.vapidKey===A.vapidKey&&R.endpoint===A.endpoint&&R.auth===A.auth&&R.p256dh===A.p256dh}function po(A){const R={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Kt(A,R){if(!R.notification)return;A.notification={};const F=R.notification.title;F&&(A.notification.title=F);const W=R.notification.body;W&&(A.notification.body=W);const de=R.notification.image;de&&(A.notification.image=de);const ge=R.notification.icon;ge&&(A.notification.icon=ge)}(R,A),function Wn(A,R){R.data&&(A.data=R.data)}(R,A),function Ta(A,R){var F,W,de,ge,et;if(!(R.fcmOptions||null!==(F=R.notification)&&void 0!==F&&F.click_action))return;A.fcmOptions={};const _t=null!==(de=null===(W=R.fcmOptions)||void 0===W?void 0:W.link)&&void 0!==de?de:null===(ge=R.notification)||void 0===ge?void 0:ge.click_action;_t&&(A.fcmOptions.link=_t);const ft=null===(et=R.fcmOptions)||void 0===et?void 0:et.analytics_label;ft&&(A.fcmOptions.analyticsLabel=ft)}(R,A),R}function ba(A){return"object"==typeof A&&!!A&&Si in A}function Wo(A,R){const F=[];for(let W=0;W<A.length;W++)F.push(A.charAt(W)),W<R.length&&F.push(R.charAt(W));return F.join("")}function zs(A){return Yn.create("missing-app-config-values",{valueName:A})}Wo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class da{constructor(R,F,W){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Gs(A){if(!A||!A.options)throw zs("App Configuration Object");if(!A.name)throw zs("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:F}=A;for(const W of R)if(!F[W])throw zs(W);return{appName:A.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:de,installations:F,analyticsProvider:W}}_delete(){return Promise.resolve()}}function Ca(A){return qe.apply(this,arguments)}function qe(){return(qe=(0,ae.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(wr,{scope:En}),A.swRegistration.update().catch(()=>{})}catch(R){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:R?.message})}})).apply(this,arguments)}function Dn(A,R){return go.apply(this,arguments)}function go(){return(go=(0,ae.Z)(function*(A,R){if(!R&&!A.swRegistration&&(yield Ca(A)),R||!A.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");A.swRegistration=R}})).apply(this,arguments)}function qo(A,R){return fr.apply(this,arguments)}function fr(){return(fr=(0,ae.Z)(function*(A,R){R?A.vapidKey=R:A.vapidKey||(A.vapidKey=Ki)})).apply(this,arguments)}function Cr(){return(Cr=(0,ae.Z)(function*(A,R){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield qo(A,R?.vapidKey),yield Dn(A,R?.serviceWorkerRegistration),la(A)})).apply(this,arguments)}function Rr(A,R,F){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,ae.Z)(function*(A,R,F){const W=Sa(R);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(W,{message_id:F[Si],message_name:F[Ai],message_time:F[Zi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Sa(A){switch(A){case Ui.NOTIFICATION_CLICKED:return"notification_open";case Ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qs(){return(qs=(0,ae.Z)(function*(A,R){const F=R.data;if(!F.isFirebaseMessaging)return;A.onMessageHandler&&F.messageType===Ui.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(po(F)):A.onMessageHandler.next(po(F)));const W=F.data;ba(W)&&"1"===W[Yi]&&(yield Rr(A,F.messageType,W))})).apply(this,arguments)}const Qr="@firebase/messaging",ki=A=>{const R=new da(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function Aa(A,R){return qs.apply(this,arguments)}(R,F)),R},Ks=A=>{const R=A.getProvider("messaging").getImmediate();return{getToken:W=>function mo(A,R){return Cr.apply(this,arguments)}(R,W)}};function Xi(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,ae.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function So(){(0,ne.Xd)(new Le.wA("messaging",ki,"PUBLIC")),(0,ne.Xd)(new Le.wA("messaging-internal",Ks,"PRIVATE")),(0,ne.KN)(Qr,"0.12.1"),(0,ne.KN)(Qr,"0.12.1","esm2017")}();const Pi="analytics",Ji="firebase_id",rt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pr="https://www.googletagmanager.com/gtag/js",jn=new Be.Yd("@firebase/analytics");function Yo(A){return Promise.all(A.map(R=>R.catch(F=>F)))}function Mt(A,R){const F=document.createElement("script");F.src=`${pr}?l=${A}&id=${R}`,F.async=!0,document.head.appendChild(F)}function Ys(A,R,F,W,de,ge){return _.apply(this,arguments)}function _(){return(_=(0,ae.Z)(function*(A,R,F,W,de,ge){const et=W[de];try{if(et)yield R[et];else{const ft=(yield Yo(F)).find(Bt=>Bt.measurementId===de);ft&&(yield R[ft.appId])}}catch(_t){jn.error(_t)}A("config",de,ge)})).apply(this,arguments)}function x(A,R,F,W,de){return D.apply(this,arguments)}function D(){return(D=(0,ae.Z)(function*(A,R,F,W,de){try{let ge=[];if(de&&de.send_to){let et=de.send_to;Array.isArray(et)||(et=[et]);const _t=yield Yo(F);for(const ft of et){const Bt=_t.find($t=>$t.measurementId===ft),tn=Bt&&R[Bt.appId];if(!tn){ge=[];break}ge.push(tn)}}0===ge.length&&(ge=Object.values(R)),yield Promise.all(ge),A("event",W,de||{})}catch(ge){jn.error(ge)}})).apply(this,arguments)}function Re(A){const R=window.document.getElementsByTagName("script");for(const F of Object.values(R))if(F.src&&F.src.includes(pr)&&F.src.includes(A))return F;return null}const gt=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hn=new class Sn{constructor(R={},F=1e3){this.throttleMetadata=R,this.intervalMillis=F}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,F){this.throttleMetadata[R]=F}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function gr(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function Rn(A){return sn.apply(this,arguments)}function sn(){return(sn=(0,ae.Z)(function*(A){var R;const{appId:F,apiKey:W}=A,de={method:"GET",headers:gr(W)},ge=rt.replace("{app-id}",F),et=yield fetch(ge,de);if(200!==et.status&&304!==et.status){let _t="";try{const ft=yield et.json();null!==(R=ft.error)&&void 0!==R&&R.message&&(_t=ft.error.message)}catch{}throw gt.create("config-fetch-failed",{httpStatus:et.status,responseMessage:_t})}return et.json()})).apply(this,arguments)}function Ht(A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,ae.Z)(function*(A,R=hn,F){const{appId:W,apiKey:de,measurementId:ge}=A.options;if(!W)throw gt.create("no-app-id");if(!de){if(ge)return{measurementId:ge,appId:W};throw gt.create("no-api-key")}const et=R.getThrottleMetadata(W)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_t=new _n;return setTimeout((0,ae.Z)(function*(){_t.abort()}),void 0!==F?F:6e4),Bi({appId:W,apiKey:de,measurementId:ge},et,_t,R)})).apply(this,arguments)}function Bi(A,R,F){return An.apply(this,arguments)}function An(){return(An=(0,ae.Z)(function*(A,{throttleEndTimeMillis:R,backoffCount:F},W,de=hn){var ge;const{appId:et,measurementId:_t}=A;try{yield Pt(W,R)}catch(ft){if(_t)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:et,measurementId:_t};throw ft}try{const ft=yield Rn(A);return de.deleteThrottleMetadata(et),ft}catch(ft){const Bt=ft;if(!Qs(Bt)){if(de.deleteThrottleMetadata(et),_t)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Bt?.message}]`),{appId:et,measurementId:_t};throw ft}const tn=503===Number(null===(ge=Bt?.customData)||void 0===ge?void 0:ge.httpStatus)?(0,pe.$s)(F,de.intervalMillis,30):(0,pe.$s)(F,de.intervalMillis),$t={throttleEndTimeMillis:Date.now()+tn,backoffCount:F+1};return de.setThrottleMetadata(et,$t),jn.debug(`Calling attemptFetch again in ${tn} millis`),Bi(A,$t,W,de)}})).apply(this,arguments)}function Pt(A,R){return new Promise((F,W)=>{const de=Math.max(R-Date.now(),0),ge=setTimeout(F,de);A.addEventListener(()=>{clearTimeout(ge),W(gt.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function Qs(A){if(!(A instanceof pe.ZR&&A.customData))return!1;const R=Number(A.customData.httpStatus);return 429===R||500===R||503===R||504===R}class _n{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Iu,Js;function lt(){return(lt=(0,ae.Z)(function*(A,R,F,W,de){if(de&&de.global)A("event",F,W);else{const ge=yield R;A("event",F,Object.assign(Object.assign({},W),{send_to:ge}))}})).apply(this,arguments)}function Oi(A){Js=A}function fa(A){Iu=A}function wu(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,ae.Z)(function*(){if(!(0,pe.hl)())return jn.warn(gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(A){return jn.warn(gt.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function pa(){return(pa=(0,ae.Z)(function*(A,R,F,W,de,ge,et){var _t;const ft=Ht(A);ft.then(oi=>{F[oi.measurementId]=oi.appId,A.options.measurementId&&oi.measurementId!==A.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${oi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(oi=>jn.error(oi)),R.push(ft);const Bt=wu().then(oi=>{if(oi)return W.getId()}),[tn,$t]=yield Promise.all([ft,Bt]);Re(ge)||Mt(ge,tn.measurementId),Js&&(de("consent","default",Js),Oi(void 0)),de("js",new Date);const or=null!==(_t=et?.config)&&void 0!==_t?_t:{};return or.origin="firebase",or.update=!0,null!=$t&&(or[Ji]=$t),de("config",tn.measurementId,or),Iu&&(de("set",Iu),fa(void 0)),tn.measurementId})).apply(this,arguments)}class Ce{constructor(R){this.app=R}_delete(){return delete hi[this.app.options.appId],Promise.resolve()}}let hi={},Hi=[];const Xo={};let Ja,Kr,ys="dataLayer",ei=!1;function xo(A,R,F){!function Na(){const A=[];if((0,pe.ru)()&&A.push("This is a browser extension environment."),(0,pe.zI)()||A.push("Cookies are not available."),A.length>0){const R=A.map((W,de)=>`(${de+1}) ${W}`).join(" "),F=gt.create("invalid-analytics-context",{errorInfo:R});jn.warn(F.message)}}();const W=A.options.appId;if(!W)throw gt.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw gt.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hi[W])throw gt.create("already-exists",{id:W});if(!ei){!function wt(A){let R=[];Array.isArray(window[A])?R=window[A]:window[A]=R}(ys);const{wrappedGtag:ge,gtagCore:et}=function Y(A,R,F,W,de){let ge=function(...et){window[W].push(arguments)};return window[de]&&"function"==typeof window[de]&&(ge=window[de]),window[de]=function U(A,R,F,W){function ge(){return(ge=(0,ae.Z)(function*(et,_t,ft){try{"event"===et?yield x(A,R,F,_t,ft):"config"===et?yield Ys(A,R,F,W,_t,ft):"consent"===et?A("consent","update",ft):A("set",_t)}catch(Bt){jn.error(Bt)}})).apply(this,arguments)}return function de(et,_t,ft){return ge.apply(this,arguments)}}(ge,A,R,F),{gtagCore:ge,wrappedGtag:window[de]}}(hi,Hi,Xo,ys,"gtag");Kr=ge,Ja=et,ei=!0}return hi[W]=function ii(A,R,F,W,de,ge,et){return pa.apply(this,arguments)}(A,Hi,Xo,R,Ja,ys,F),new Ce(A)}function Mo(){return ka.apply(this,arguments)}function ka(){return(ka=(0,ae.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}const _s="@firebase/analytics";!function qn(){(0,ne.Xd)(new Le.wA(Pi,(R,{options:F})=>xo(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,ne.Xd)(new Le.wA("analytics-internal",function A(R){try{const F=R.getProvider(Pi).getImmediate();return{logEvent:(W,de,ge)=>function Oa(A,R,F,W){A=(0,pe.m9)(A),function Xn(A,R,F,W,de){return lt.apply(this,arguments)}(Kr,hi[A.app.options.appId],R,F,W).catch(de=>jn.error(de))}(F,W,de,ge)}}catch(F){throw gt.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,ne.KN)(_s,"0.9.1"),(0,ne.KN)(_s,"0.9.1","esm2017")}();var ea=H(727);class _o extends ea.w0{constructor(R,F){super()}schedule(R,F=0){return this}}const zi={setInterval(A,R,...F){const{delegate:W}=zi;return W?.setInterval?W.setInterval(A,R,...F):setInterval(A,R,...F)},clearInterval(A){const{delegate:R}=zi;return(R?.clearInterval||clearInterval)(A)},delegate:void 0};var Io=H(8737);class wo extends _o{constructor(R,F){super(R,F),this.scheduler=R,this.work=F,this.pending=!1}schedule(R,F=0){var W;if(this.closed)return this;this.state=R;const de=this.id,ge=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(ge,de,F)),this.pending=!0,this.delay=F,this.id=null!==(W=this.id)&&void 0!==W?W:this.requestAsyncId(ge,this.id,F),this}requestAsyncId(R,F,W=0){return zi.setInterval(R.flush.bind(R,this),W)}recycleAsyncId(R,F,W=0){if(null!=W&&this.delay===W&&!1===this.pending)return F;null!=F&&zi.clearInterval(F)}execute(R,F){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const W=this._execute(R,F);if(W)return W;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,F){let de,W=!1;try{this.work(R)}catch(ge){W=!0,de=ge||new Error("Scheduled action threw falsy error")}if(W)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:R,scheduler:F}=this,{actions:W}=F;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Io.P)(W,this),null!=R&&(this.id=this.recycleAsyncId(F,R,null)),this.delay=null,super.unsubscribe()}}}const ta={now:()=>(ta.delegate||Date).now(),delegate:void 0};class Ur{constructor(R,F=Ur.now){this.schedulerActionCtor=R,this.now=F}schedule(R,F=0,W){return new this.schedulerActionCtor(this,R).schedule(W,F)}}Ur.now=ta.now;class Ro extends Ur{constructor(R,F=Ur.now){super(R,F),this.actions=[],this._active=!1}flush(R){const{actions:F}=this;if(this._active)return void F.push(R);let W;this._active=!0;do{if(W=R.execute(R.state,R.delay))break}while(R=F.shift());if(this._active=!1,W){for(;R=F.shift();)R.unsubscribe();throw W}}}const xc=new class na extends Ro{}(class Bn extends wo{constructor(R,F){super(R,F),this.scheduler=R,this.work=F}schedule(R,F=0){return F>0?super.schedule(R,F):(this.delay=F,this.state=R,this.scheduler.flush(this),this)}execute(R,F){return F>0||this.closed?super.execute(R,F):this._execute(R,F)}requestAsyncId(R,F,W=0){return null!=W&&W>0||null==W&&this.delay>0?super.requestAsyncId(R,F,W):(R.flush(this),0)}}),tu=new Ro(wo);var nu=H(9751),Fa=H(8505),Er=H(9468),La=H(5363);const ks=new C.GfV("7.5.0"),ra="__angularfire_symbol__analyticsIsSupportedValue",si="__angularfire_symbol__analyticsIsSupported",Is="__angularfire_symbol__remoteConfigIsSupportedValue",ga="__angularfire_symbol__remoteConfigIsSupported",ws="__angularfire_symbol__messagingIsSupportedValue",No="__angularfire_symbol__messagingIsSupported";function M(A,R,F){if(R){if(1===R.length)return R[0];const ge=R.filter(et=>et.app===F);if(1===ge.length)return ge[0]}return F.container.getProvider(A).getImmediate({optional:!0})}globalThis[si]||(globalThis[si]=Mo().then(A=>globalThis[ra]=A).catch(()=>globalThis[ra]=!1)),globalThis[No]||(globalThis[No]=Xi().then(A=>globalThis[ws]=A).catch(()=>globalThis[ws]=!1)),globalThis[ga]||(globalThis[ga]=zr().then(A=>globalThis[Is]=A).catch(()=>globalThis[Is]=!1));const O=(A,R)=>{const F=R?[R]:(0,$.C6)(),W=[];return F.forEach(de=>{de.container.getProvider(A).instances.forEach(et=>{W.includes(et)||W.push(et)})}),W};function V(){}class le{constructor(R,F=xc){this.zone=R,this.delegate=F}now(){return this.delegate.now()}schedule(R,F,W){const de=this.zone;return this.delegate.schedule(function(et){de.runGuarded(()=>{R.apply(this,[et])})},F,W)}}class Fe{constructor(R){this.zone=R,this.task=null}call(R,F){const W=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",V,{},V,V)),F.pipe((0,Fa.b)({next:W,complete:W,error:W})).subscribe(R).add(W)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bt=(()=>{class A{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new le(Zone.current)),this.insideAngular=F.run(()=>new le(Zone.current,tu)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(F){return new(F||A)(C.LFG(C.R0b))},A.\u0275prov=C.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function ct(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function bn(A){return ct().ngZone.runOutsideAngular(()=>A())}function sr(A){return ct().ngZone.run(()=>A())}function to(A){return ct(),function fi(A){return function(F){return(F=F.lift(new Fe(A.ngZone))).pipe((0,Er.R)(A.outsideAngular),(0,La.Q)(A.insideAngular))}}(ct())(A)}const Du=(A,R)=>function(){const W=arguments;return R&&setTimeout(()=>{"scheduled"===R.state&&R.invoke()},10),sr(()=>A.apply(void 0,W))},no=(A,R)=>function(){let F;const W=arguments;for(let ge=0;ge<arguments.length;ge++)"function"==typeof W[ge]&&(R&&(F||(F=sr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",V,{},V,V)))),W[ge]=Du(W[ge],F));const de=bn(()=>A.apply(this,W));if(!R){if(de instanceof nu.y){const ge=ct();return de.pipe((0,Er.R)(ge.outsideAngular),(0,La.Q)(ge.insideAngular))}return sr(()=>de)}return de instanceof nu.y?de.pipe(to):de instanceof Promise?sr(()=>new Promise((ge,et)=>de.then(_t=>sr(()=>ge(_t)),_t=>sr(()=>et(_t))))):"function"==typeof de&&F?function(){return setTimeout(()=>{F&&"scheduled"===F.state&&F.invoke()},10),de.apply(this,arguments)}:sr(()=>de)}},5525:(zt,Ye,H)=>{H.d(Ye,{ET:()=>zg,hJ:()=>Qc,oe:()=>Gg,JU:()=>_c,ad:()=>kg,cf:()=>Wg});var De,C=H(5861),$=H(9681),ae=H(4859),ne=H(1877),pe=H(2090),Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={},$e=$e||{},K=Le||self;function ee(){}function Me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),Et=0;function kt(i,e,t){return i.call.apply(i.bind,arguments)}function Ct(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function St(i,e,t){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kt:Ct).apply(null,arguments)}function tt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Pe(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,l){for(var p=Array(arguments.length-2),E=2;E<arguments.length;E++)p[E-2]=arguments[E];return e.prototype[u].apply(o,p)}}function je(){this.s=this.s,this.o=this.o}je.prototype.s=!1,je.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Ne(i){Object.prototype.hasOwnProperty.call(i,at)&&i[at]||(i[at]=++Et)}(this)},je.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function ce(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Se(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Me(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let p=0;p<l;p++)i[u+p]=o[p]}else i.push(o)}}function ie(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{K.addEventListener("test",ee,e),K.removeEventListener("test",ee,e)}catch{}return i}();function oe(i){return/^[\s\xa0]*$/.test(i)}var xe=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function ye(i,e){return i<e?-1:i>e?1:0}function Ge(){var i=K.navigator;return i&&(i=i.userAgent)?i:""}function be(i){return-1!=Ge().indexOf(i)}function ht(i){return ht[" "](i),i}ht[" "]=ee;var Wt,i,Pn=be("Opera"),mt=be("Trident")||be("MSIE"),Yt=be("Edge"),pn=Yt||mt,un=be("Gecko")&&!(-1!=Ge().toLowerCase().indexOf("webkit")&&!be("Edge"))&&!(be("Trident")||be("MSIE"))&&!be("Edge"),Tr=-1!=Ge().toLowerCase().indexOf("webkit")&&!be("Edge");function Qt(){var i=K.document;return i?i.documentMode:void 0}e:{var On="",er=(i=Ge(),un?/rv:([^\);]+)(\)|;)/.exec(i):Yt?/Edge\/([\d\.]+)/.exec(i):mt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Tr?/WebKit\/(\S+)/.exec(i):Pn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(er&&(On=er?er[1]:""),mt){var Nn=Qt();if(null!=Nn&&Nn>parseFloat(On)){Wt=String(Nn);break e}}Wt=On}var Ft={};var yn=K.document&&mt&&(Qt()||parseInt(Wt,10))||void 0;function ar(i,e){if(ie.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(un){e:{try{ht(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Fr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ar.X.h.call(this)}}Pe(ar,ie);var Fr={2:"touch",3:"pen",4:"mouse"};ar.prototype.h=function(){ar.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),$n=0;function Ti(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++$n,this.ba=this.ea=!1}function tr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function nr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function li(i){const e={};for(const t in i)e[t]=i[t];return e}const wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ur(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let l=0;l<wn.length;l++)t=wn[l],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function on(i){this.src=i,this.g={},this.h=0}function xt(i,e){var t=e.type;if(t in i.g){var l,o=i.g[t],u=dt(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(tr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function nt(i,e,t,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==o)return u}return-1}on.prototype.add=function(i,e,t,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var p=nt(i,e,o,u);return-1<p?(e=i[p],t||(e.ea=!1)):((e=new Ti(e,this.src,l,!!o,u)).ea=t,i.push(e)),e};var Xt="closure_lm_"+(1e6*Math.random()|0),vn={};function cn(i,e,t,o,u){if(o&&o.once)return dn(i,e,t,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)cn(i,e[l],t,o,u);return null}return t=Ae(t),i&&i[Dt]?i.N(e,t,Qe(o)?!!o.capture:!!o,u):jr(i,e,t,!1,o,u)}function jr(i,e,t,o,u,l){if(!e)throw Error("Invalid event type");var p=Qe(u)?!!u.capture:!!u,E=br(i);if(E||(i[Xt]=E=new on(i)),(t=E.add(e,t,o,p,l)).proxy)return t;if(o=function Un(){const e=Sr;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Q||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(gn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function dn(i,e,t,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)dn(i,e[l],t,o,u);return null}return t=Ae(t),i&&i[Dt]?i.O(e,t,Qe(o)?!!o.capture:!!o,u):jr(i,e,t,!0,o,u)}function xn(i,e,t,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)xn(i,e[l],t,o,u);else o=Qe(o)?!!o.capture:!!o,t=Ae(t),i&&i[Dt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=nt(l=i.g[e],t,o,u))&&(tr(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=br(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nt(e,t,o,u)),(t=-1<i?e[i]:null)&&yi(t))}function yi(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Dt])xt(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(gn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=br(e))?(xt(t,i),0==t.h&&(t.src=null,e[Xt]=null)):tr(i)}}}function gn(i){return i in vn?vn[i]:vn[i]="on"+i}function Sr(i,e){if(i.ba)i=!0;else{e=new ar(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&yi(i),i=t.call(o,e)}return i}function br(i){return(i=i[Xt])instanceof on?i:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(i){return"function"==typeof i?i:(i[it]||(i[it]=function(e){return i.handleEvent(e)}),i[it])}function ke(){je.call(this),this.i=new on(this),this.P=this,this.I=null}function Tt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ie(e,i);else if(e instanceof ie)e.target=e.target||i;else{var u=e;ur(e=new ie(o,i),u)}if(u=!0,t)for(var l=t.length-1;0<=l;l--){var p=e.g=t[l];u=Lt(p,o,!0,e)&&u}if(u=Lt(p=e.g=i,o,!0,e)&&u,u=Lt(p,o,!1,e)&&u,t)for(l=0;l<t.length;l++)u=Lt(p=e.g=t[l],o,!1,e)&&u}function Lt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var p=e[l];if(p&&!p.ba&&p.capture==t){var E=p.listener,N=p.ha||p.src;p.ea&&xt(i.i,p),u=!1!==E.call(N,o)&&u}}return u&&!o.defaultPrevented}Pe(ke,je),ke.prototype[Dt]=!0,ke.prototype.removeEventListener=function(i,e,t,o){xn(this,i,e,t,o)},ke.prototype.M=function(){if(ke.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)tr(t[o]);delete i.g[e],i.h--}}this.I=null},ke.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},ke.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Jt=K.JSON.stringify;function X(){var i=me;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qt,te=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new He,i=>i.reset());class He{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Te(i){K.setTimeout(()=>{throw i},0)}function yt(i,e){qt||function an(){var i=K.Promise.resolve(void 0);qt=function(){i.then(re)}}(),mr||(qt(),mr=!0),me.add(i,e)}var mr=!1,me=new class Z{constructor(){this.h=this.g=null}add(e,t){const o=te.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function re(){for(var i;i=X();){try{i.h.call(i.g)}catch(t){Te(t)}var e=te;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}mr=!1}function z(i,e){ke.call(this),this.h=i||1,this.g=e||K,this.j=St(this.lb,this),this.l=Date.now()}function _e(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Xe(i,e,t){if("function"==typeof i)t&&(i=St(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=St(i.handleEvent,i)}return 2147483647<Number(e)?-1:K.setTimeout(i,e||0)}function Ue(i){i.g=Xe(()=>{i.g=null,i.i&&(i.i=!1,Ue(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Pe(z,ke),(De=z.prototype).ca=!1,De.R=null,De.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Tt(this,"tick"),this.ca&&(_e(this),this.start()))}},De.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},De.M=function(){z.X.M.call(this),_e(this),delete this.g};class Ve extends je{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ue(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(i){je.call(this),this.h=i,this.g={}}Pe(pt,je);var vt=[];function rr(i,e,t,o){Array.isArray(t)||(t&&(vt[0]=t.toString()),t=vt);for(var u=0;u<t.length;u++){var l=cn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Ar(i){nr(i.g,function(e,t){this.g.hasOwnProperty(t)&&yi(e)},i),i.g={}}function Vn(){this.g=!0}function yr(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ri(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var p=1;p<u.length;p++)u[p]=""}}}return Jt(t)}catch{return e}}(i,t)+(o?" "+o:"")})}pt.prototype.M=function(){pt.X.M.call(this),Ar(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vn.prototype.Aa=function(){this.g=!1},Vn.prototype.info=function(){};var bi={},Cs=null;function Ss(){return Cs=Cs||new ke}function xr(i){ie.call(this,bi.Pa,i)}function Us(i){const e=Ss();Tt(e,new xr(e))}function vi(i,e){ie.call(this,bi.STAT_EVENT,i),this.stat=e}function cr(i){const e=Ss();Tt(e,new vi(e,i))}function Ci(i,e){ie.call(this,bi.Qa,i),this.size=e}function mn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){i()},e)}bi.Pa="serverreachability",Pe(xr,ie),bi.STAT_EVENT="statevent",Pe(vi,ie),bi.Qa="timingevent",Pe(Ci,ie);var Gn={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},vr={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function fe(){}function ve(){}fe.prototype.h=null;var Ut,he={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Oe(){ie.call(this,"d")}function It(){ie.call(this,"c")}function kn(){}function jt(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new pt(this),this.O=zn,this.T=new z(i=pn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Yr}function Yr(){this.i=null,this.g="",this.h=!1}Pe(Oe,ie),Pe(It,ie),Pe(kn,fe),kn.prototype.g=function(){return new XMLHttpRequest},kn.prototype.i=function(){return{}},Ut=new kn;var zn=45e3,Hr={},di={};function Vt(i,e,t){i.K=1,i.v=Ki(Ir(e)),i.s=t,i.P=!0,_i(i,null)}function _i(i,e){i.F=Date.now(),_r(i),i.A=Ir(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Ya(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Yr,i.g=Sa(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Ve(St(i.La,i,i.g),i.N)),rr(i.S,i.g,"readystatechange",i.ib),e=i.H?li(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Us(),function Li(i,e,t,o,u,l){i.info(function(){if(i.g)if(l)for(var p="",E=l.split("&"),N=0;N<E.length;N++){var P=E[N].split("=");if(1<P.length){var j=P[0];P=P[1];var J=j.split("_");p=2<=J.length&&"type"==J[1]?p+(j+"=")+P+"&":p+(j+"=redacted&")}}else p=null;else p=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+p})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ii(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function To(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=lr(i,t),u==di){4==e&&(i.o=4,cr(14),o=!1),yr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Hr){i.o=4,cr(15),yr(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}yr(i.j,i.m,u,null),oo(i,u)}Ii(i)&&u!=di&&u!=Hr&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,cr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dn(e),e.K=!0,cr(11))):(yr(i.j,i.m,t,"[Invalid Chunked Response]"),Gr(i),Mr(i))}function lr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?di:(t=Number(e.substring(t,o)),isNaN(t)?Hr:(o+=1)+t>e.length?di:(e=e.substr(o,t),i.C=o+t,e))}function _r(i){i.V=Date.now()+i.O,As(i,i.O)}function As(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=mn(St(i.gb,i),e)}function ss(i){i.B&&(K.clearTimeout(i.B),i.B=null)}function Mr(i){0==i.l.G||i.I||fr(i.l,i)}function Gr(i){ss(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,_e(i.T),Ar(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function oo(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||$s(t.h,i)))if(!i.J&&$s(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;qo(t),Wn(t)}qe(t),cr(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=mn(St(t.cb,t),6e3));if(1>=Bs(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Cr(t,11)}else if((i.J||t.g==i)&&qo(t),!oe(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let P=u[e];if(t.T=P[0],P=P[1],2==t.G)if("c"==P[0]){t.I=P[1],t.ka=P[2];const j=P[3];null!=j&&(t.ma=j,t.j.info("VER="+t.ma));const J=P[4];null!=J&&(t.Ca=J,t.j.info("SVER="+t.Ca));const Ee=P[5];null!=Ee&&"number"==typeof Ee&&0<Ee&&(t.J=o=1.5*Ee,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const Ke=i.g;if(Ke){const st=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(st){var l=o.h;l.g||-1==st.indexOf("spdy")&&-1==st.indexOf("quic")&&-1==st.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Qi(l,l.h),l.h=null))}if(o.D){const Rt=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Rt&&(o.za=Rt,En(o.F,o.D,Rt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var p=i;if((o=t).sa=Ws(o,o.H?o.ka:null,o.V),p.J){lo(o.h,p);var E=p,N=o.J;N&&E.setTimeout(N),E.B&&(ss(E),_r(E)),o.g=p}else Ca(o);0<t.i.length&&ba(t)}else"stop"!=P[0]&&"close"!=P[0]||Cr(t,7);else 3==t.G&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Cr(t,7):Kt(t):"noop"!=P[0]&&t.l&&t.l.wa(P),t.A=0)}Us()}catch{}}function ao(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Me(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function _u(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Me(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Zn(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Me(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],t&&t[l],i)}(De=jt.prototype).setTimeout=function(i){this.O=i},De.ib=function(i){i=i.target;const e=this.L;e&&3==hs(i)?e.l():this.La(i)},De.La=function(i){try{if(i==this.g)e:{const j=hs(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>j)&&(3!=j||pn||this.g&&(this.h.h||this.g.fa()||fs(this.g)))){this.I||4!=j||7==e||Us(),ss(this);var t=this.g.aa();this.Y=t;t:if(Ii(this)){var o=fs(this.g);i="";var u=o.length,l=4==hs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),Mr(this);var p="";break t}this.h.i=new K.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==t,function ni(i,e,t,o,u,l,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+l+" "+p})}(this.j,this.u,this.A,this.m,this.U,j,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var E,N=this.g;if((E=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(E)){var P=E;break t}}P=null}if(!(t=P)){this.i=!1,this.o=3,cr(12),Gr(this),Mr(this);break e}yr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,oo(this,t)}this.P?(To(this,j,p),pn&&this.i&&3==j&&(rr(this.S,this.T,"tick",this.hb),this.T.start())):(yr(this.j,this.m,p,null),oo(this,p)),4==j&&Gr(this),this.i&&!this.I&&(4==j?fr(this.l,this):(this.i=!1,_r(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,cr(12)):(this.o=0,cr(13)),Gr(this),Mr(this)}}}catch{}},De.hb=function(){if(this.g){var i=hs(this.g),e=this.g.fa();this.C<e.length&&(ss(this),To(this,i,e),this.i&&4!=i&&_r(this))}},De.cancel=function(){this.I=!0,Gr(this)},De.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function bs(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Us(),cr(17)),Gr(this),this.o=2,Mr(this)):As(this,this.V-i)};var Vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function os(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof os){this.h=void 0!==e?e:i.h,zr(this,i.j),this.s=i.s,this.g=i.g,bo(this,i.m),this.l=i.l,e=i.i;var t=new us;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wr(this,t),this.o=i.o}else i&&(t=String(i).match(Vs))?(this.h=!!e,zr(this,t[1]||"",!0),this.s=as(t[2]||""),this.g=as(t[3]||"",!0),bo(this,t[4]),this.l=as(t[5]||"",!0),wr(this,t[6]||"",!0),this.o=as(t[7]||"")):(this.h=!!e,this.i=new us(null,this.h))}function Ir(i){return new os(i)}function zr(i,e,t){i.j=t?as(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function bo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function wr(i,e,t){e instanceof us?(i.i=e,function ua(i,e){e&&!i.j&&(xi(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(wi(this,o),Ya(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Si(e,Ui)),i.i=new us(e,i.h))}function En(i,e,t){i.i.set(e,t)}function Ki(i){return En(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function as(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Si(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ai),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ai(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}os.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Si(e,Zi,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Si(e,Zi,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Si(t,"/"==t.charAt(0)?aa:Yi,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Si(t,uo)),i.join("")};var Zi=/[#\/\?@]/g,Yi=/[#\?:]/g,aa=/[#\?]/g,Ui=/[#\?@]/g,uo=/#/g;function us(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function xi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Bo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var l=i[t].substring(0,o);u=i[t].substring(o+1)}else l=i[t];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wi(i,e){xi(i),e=Vi(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function co(i,e){return xi(i),e=Vi(i,e),i.g.has(e)}function Ya(i,e,t){wi(i,e),0<t.length&&(i.i=null,i.g.set(Vi(i,e),ce(t)),i.h+=t.length)}function Vi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function ca(i){this.l=i||$o,i=K.PerformanceNavigationTiming?0<(i=K.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(K.g&&K.g.Ga&&K.g.Ga()&&K.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(De=us.prototype).add=function(i,e){xi(this),this.i=null,i=Vi(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},De.forEach=function(i,e){xi(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},De.oa=function(){xi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)t.push(e[o])}return t},De.W=function(i){xi(this);let e=[];if("string"==typeof i)co(this,i)&&(e=e.concat(this.g.get(Vi(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},De.set=function(i,e){return xi(this),this.i=null,co(this,i=Vi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},De.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},De.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const l=encodeURIComponent(String(o)),p=this.W(o);for(o=0;o<p.length;o++){var u=l;""!==p[o]&&(u+="="+encodeURIComponent(String(p[o]))),i.push(u)}}return this.i=i.join("&")};var $o=10;function xs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Bs(i){return i.h?1:i.g?i.g.size:0}function $s(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Qi(i,e){i.g?i.g.add(e):i.h=e}function lo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function jo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return ce(i.i)}function Mi(){}function Ho(){this.g=new Mi}function cs(i,e,t){const o=t||"";try{ao(i,function(u,l){let p=u;Qe(u)&&(p=Jt(u)),e.push(o+l+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Yn(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Hs(i){this.l=i.ac||null,this.j=i.jb||!1}function ls(i,e){ke.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Co,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ca.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Mi.prototype.stringify=function(i){return K.JSON.stringify(i,void 0)},Mi.prototype.parse=function(i){return K.JSON.parse(i,void 0)},Pe(Hs,fe),Hs.prototype.g=function(){return new ls(this.l,this.j)},Hs.prototype.i=function(i){return function(){return i}}({}),Pe(ls,ke);var Co=0;function Ms(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Ri(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Rs(i)}function Rs(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(De=ls.prototype).open=function(i,e){if(this.readyState!=Co)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Rs(this)},De.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||K).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},De.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ri(this)),this.readyState=Co},De.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ms(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},De.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Ri(this):Rs(this),3==this.readyState&&Ms(this)}},De.Va=function(i){this.g&&(this.response=this.responseText=i,Ri(this))},De.Ua=function(i){this.g&&(this.response=i,Ri(this))},De.ga=function(){this.g&&Ri(this)},De.setRequestHeader=function(i,e){this.v.append(i,e)},De.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},De.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ni=K.JSON.parse;function Qn(i){ke.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ho,this.K=this.L=!1}Pe(Qn,ke);var ho="",dr=/^https?$/i,Go=["POST","PUT"];function Wr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,zo(i),ds(i)}function zo(i){i.D||(i.D=!0,Tt(i,"complete"),Tt(i,"error"))}function Lr(i){if(i.h&&typeof $e<"u"&&(!i.C[1]||4!=hs(i)||2!=i.aa()))if(i.v&&4==hs(i))Xe(i.Ha,0,i);else if(Tt(i,"readystatechange"),4==hs(i)){i.h=!1;try{const E=i.aa();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===E){var u=String(i.H).match(Vs)[1]||null;if(!u&&K.self&&K.self.location){var l=K.self.location.protocol;u=l.substr(0,l.length-1)}o=!dr.test(u?u.toLowerCase():"")}t=o}if(t)Tt(i,"complete"),Tt(i,"success");else{i.m=6;try{var p=2<hs(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.aa()+"]",zo(i)}}finally{ds(i)}}}function ds(i,e){if(i.g){hr(i);const t=i.g,o=i.C[0]?ee:null;i.g=null,i.C=null,e||Tt(i,"ready");try{t.onreadystatechange=o}catch{}}}function hr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(K.clearTimeout(i.A),i.A=null)}function hs(i){return i.g?i.g.readyState:0}function fs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case ho:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Da(i){let e="";return nr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function qr(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=Da(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):En(i,e,t))}function fo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function po(i){this.Ca=0,this.i=[],this.j=new Vn,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=fo("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=fo("baseRetryDelayMs",5e3,i),this.bb=fo("retryDelaySeedMs",1e4,i),this.$a=fo("forwardChannelMaxRetries",2,i),this.ta=fo("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new ca(i&&i.concurrentRequestLimit),this.Fa=new Ho,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Kt(i){if(Ta(i),3==i.G){var e=i.U++,t=Ir(i.F);En(t,"SID",i.I),En(t,"RID",e),En(t,"TYPE","terminate"),zs(i,t),(e=new jt(i,i.j,e,void 0)).K=2,e.v=Ki(Ir(t)),t=!1,K.navigator&&K.navigator.sendBeacon&&(t=K.navigator.sendBeacon(e.v.toString(),"")),!t&&K.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sa(e.l,null),e.g.da(e.v)),e.F=Date.now(),_r(e)}Rr(i)}function Wn(i){i.g&&(Dn(i),i.g.cancel(),i.g=null)}function Ta(i){Wn(i),i.u&&(K.clearTimeout(i.u),i.u=null),qo(i),i.h.cancel(),i.m&&("number"==typeof i.m&&K.clearTimeout(i.m),i.m=null)}function ba(i){xs(i.h)||i.m||(i.m=!0,yt(i.Ja,i),i.C=0)}function Gs(i,e){var t;t=e?e.m:i.U++;const o=Ir(i.F);En(o,"SID",i.I),En(o,"RID",t),En(o,"AID",i.T),zs(i,o),i.o&&i.s&&qr(o,i.o,i.s),t=new jt(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=da(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Qi(i.h,t),Vt(t,o,e)}function zs(i,e){i.ia&&nr(i.ia,function(t,o){En(e,o,t)}),i.l&&ao({},function(t,o){En(e,o,t)})}function da(i,e,t){t=Math.min(i.i.length,t);var o=i.l?St(i.l.Ra,i.l,i):null;e:{var u=i.i;let l=-1;for(;;){const p=["count="+t];-1==l?0<t?(l=u[0].h,p.push("ofs="+l)):l=0:p.push("ofs="+l);let E=!0;for(let N=0;N<t;N++){let P=u[N].h;const j=u[N].g;if(P-=l,0>P)l=Math.max(0,u[N].h-100),E=!1;else try{cs(j,p,"req"+P+"_")}catch{o&&o(j)}}if(E){o=p.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Ca(i){i.g||i.u||(i.Z=1,yt(i.Ia,i),i.A=0)}function qe(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=mn(St(i.Ia,i),mo(i,i.A)),i.A++,0))}function Dn(i){null!=i.B&&(K.clearTimeout(i.B),i.B=null)}function go(i){i.g=new jt(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ir(i.sa);En(e,"RID","rpc"),En(e,"SID",i.I),En(e,"CI",i.L?"0":"1"),En(e,"AID",i.T),En(e,"TYPE","xmlhttp"),zs(i,e),i.o&&i.s&&qr(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Ki(Ir(e)),t.s=null,t.P=!0,_i(t,i)}function qo(i){null!=i.v&&(K.clearTimeout(i.v),i.v=null)}function fr(i,e){var t=null;if(i.g==e){qo(i),Dn(i),i.g=null;var o=2}else{if(!$s(i.h,e))return;t=e.D,lo(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Tt(o=Ss(),new Ci(o,t)),ba(i)}else Ca(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Wo(i,e){return!(Bs(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=mn(St(i.Ja,i,e),mo(i,i.C)),i.C++,0)))}(i,e)||2==o&&qe(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:Cr(i,5);break;case 4:Cr(i,10);break;case 3:Cr(i,6);break;default:Cr(i,2)}}function mo(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function Cr(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=St(i.kb,i);t||(t=new os("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||zr(t,"https"),Ki(t)),function js(i,e){const t=new Vn;if(K.Image){const o=new Image;o.onload=tt(Yn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=tt(Yn,t,o,"TestLoadImage: error",!1,e),o.onabort=tt(Yn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=tt(Yn,t,o,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else cr(2);i.G=0,i.l&&i.l.va(e),Rr(i),Ta(i)}function Rr(i){if(i.G=0,i.la=[],i.l){const e=jo(i.h);(0!=e.length||0!=i.i.length)&&(Se(i.la,e),Se(i.la,i.i),i.h.i.length=0,ce(i.i),i.i.length=0),i.l.ua()}}function Ws(i,e,t){var o=t instanceof os?Ir(t):new os(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),bo(o,o.m);else{var u=K.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new os(null,void 0);o&&zr(l,o),e&&(l.g=e),u&&bo(l,u),t&&(l.l=t),o=l}return e=i.za,(t=i.D)&&e&&En(o,t,e),En(o,"VER",i.ma),zs(i,o),o}function Sa(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&i.Da&&!i.ra?new Hs({jb:!0}):i.ra)).Ka(i.H),e}function Aa(){}function qs(){if(mt&&!(10<=Number(yn)))throw Error("Environmental error: no available transport.")}function Qr(i,e){ke.call(this),this.g=new po(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!oe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!oe(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Ks(this)}function Xr(i){Oe.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ki(){It.call(this),this.status=1}function Ks(i){this.g=i}(De=Qn.prototype).Ka=function(i){this.L=i},De.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ut.g(),this.C=function se(i){return i.h||(i.h=i.i())}(this.u?this.u:Ut),this.g.onreadystatechange=St(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(l){return void Wr(this,l)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())t.set(l,o.get(l))}o=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),u=K.FormData&&i instanceof K.FormData,!(0<=dt(Go,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,p]of t)this.g.setRequestHeader(l,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{hr(this),0<this.B&&((this.K=function la(i){return mt&&function Zr(){return function rn(i){var e=Ft;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=xe(String(Wt)).split("."),t=xe("9").split("."),o=Math.max(e.length,t.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",l=t[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==u[0].length&&0==l[0].length)break;i=ye(0==u[1].length?0:parseInt(u[1],10),0==l[1].length?0:parseInt(l[1],10))||ye(0==u[2].length,0==l[2].length)||ye(u[2],l[2]),u=u[3],l=l[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.qa,this)):this.A=Xe(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Wr(this,l)}},De.qa=function(){typeof $e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))},De.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Tt(this,"complete"),Tt(this,"abort"),ds(this))},De.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ds(this,!0)),Qn.X.M.call(this)},De.Ha=function(){this.s||(this.F||this.v||this.l?Lr(this):this.fb())},De.fb=function(){Lr(this)},De.aa=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},De.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},De.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ni(e)}},De.Ea=function(){return this.m},De.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(De=po.prototype).ma=8,De.G=1,De.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new jt(this,this.j,i,void 0);let l=this.s;if(this.S&&(l?(l=li(l),ur(l,this.S)):l=this.S),null!==this.o||this.N||(u.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=da(this,u,e),En(t=Ir(this.F),"RID",i),En(t,"CVER",22),this.D&&En(t,"X-HTTP-Session-Id",this.D),zs(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(Da(l)))+"&"+e:this.o&&qr(t,this.o,l)),Qi(this.h,u),this.Ya&&En(t,"TYPE","init"),this.O?(En(t,"$req",e),En(t,"SID","null"),u.Z=!0,Vt(u,t,null)):Vt(u,t,e),this.G=2}}else 3==this.G&&(i?Gs(this,i):0==this.i.length||xs(this.h)||Gs(this))},De.Ia=function(){if(this.u=null,go(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=mn(St(this.eb,this),i)}},De.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,cr(10),Wn(this),go(this))},De.cb=function(){null!=this.v&&(this.v=null,Wn(this),qe(this),cr(19))},De.kb=function(i){i?(this.j.info("Successfully pinged google.com"),cr(2)):(this.j.info("Failed to ping google.com"),cr(1))},(De=Aa.prototype).xa=function(){},De.wa=function(){},De.va=function(){},De.ua=function(){},De.Ra=function(){},qs.prototype.g=function(i,e){return new Qr(i,e)},Pe(Qr,ke),Qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;cr(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Ws(i,null,i.V),ba(i)},Qr.prototype.close=function(){Kt(this.g)},Qr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Jt(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&ba(e)},Qr.prototype.M=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,Qr.X.M.call(this)},Pe(Xr,Oe),Pe(ki,It),Pe(Ks,Aa),Ks.prototype.xa=function(){Tt(this.g,"a")},Ks.prototype.wa=function(i){Tt(this.g,new Xr(i))},Ks.prototype.va=function(i){Tt(this.g,new ki)},Ks.prototype.ua=function(){Tt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,vr.COMPLETE="complete",ve.EventType=he,he.OPEN="a",he.CLOSE="b",he.ERROR="c",he.MESSAGE="d",ke.prototype.listen=ke.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.Oa,Qn.prototype.getLastErrorCode=Qn.prototype.Ea,Qn.prototype.getStatus=Qn.prototype.aa,Qn.prototype.getResponseJson=Qn.prototype.Sa,Qn.prototype.getResponseText=Qn.prototype.fa,Qn.prototype.send=Qn.prototype.da,Qn.prototype.setWithCredentials=Qn.prototype.Ka;var So=Be.createWebChannelTransport=function(){return new qs},Xi=Be.getStatEventTarget=function(){return Ss()},Ko=Be.ErrorCode=Gn,ha=Be.EventType=vr,xa=Be.Event=bi,Ma=Be.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ao=Be.FetchXmlHttpFactory=Hs,Zo=Be.WebChannel=ve,Ra=Be.XhrIo=Qn;const Qa="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Pi="9.16.0";const Ji=new ne.Yd("@firebase/firestore");function Zs(){return Ji.logLevel}function rt(i,...e){if(Ji.logLevel<=ne.in.DEBUG){const t=e.map(Yo);Ji.debug(`Firestore (${Pi}): ${i}`,...t)}}function pr(i,...e){if(Ji.logLevel<=ne.in.ERROR){const t=e.map(Yo);Ji.error(`Firestore (${Pi}): ${i}`,...t)}}function jn(i,...e){if(Ji.logLevel<=ne.in.WARN){const t=e.map(Yo);Ji.warn(`Firestore (${Pi}): ${i}`,...t)}}function Yo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Mt(i="Unexpected state"){const e=`FIRESTORE (${Pi}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function wt(i,e){i||Mt()}function _(i,e){return i}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class U{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Y{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class We{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gt{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const l=P=>this.i!==u?(u=this.i,t(P)):Promise.resolve();let p=new U;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new U,e.enqueueRetryable(()=>l(this.currentUser))};const E=()=>{const P=p;e.enqueueRetryable((0,C.Z)(function*(){yield P.promise,yield l(o.currentUser)}))},N=P=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),E()};this.t.onInit(P=>N(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?N(P):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new U)}},0),E()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(wt("string"==typeof o.accessToken),new Y(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wt(null===e||"string"==typeof e),new Jr(e)}}class Mn{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(wt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Tn{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new Mn(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hn{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=l=>{null!=l.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const p=l.token!==this.A;return this.A=l.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?u(l):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wt("string"==typeof t.token),this.A=t.token,new Sn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class sn{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Rn(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<t&&(o+=e.charAt(u[l]%e.length))}return o}}function Ht(i,e){return i<e?-1:i>e?1:0}function Nr(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}class An{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new An(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new An(0,0))}static max(){return new Pt(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qs{constructor(e,t,o){void 0===t?t=0:t>e.length&&Mt(),void 0===o?o=e.length-t:o>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Qs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qs?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const l=e.get(u),p=t.get(u);if(l<p)return-1;if(l>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends Qs{construct(e,t,o){return new _n(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new D(x.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const Iu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Qs{construct(e,t,o){return new Xn(e,t,o)}static isValidIdentifier(e){return Iu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const l=()=>{if(0===o.length)throw new D(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let p=!1;for(;u<e.length;){const E=e[u];if("\\"===E){if(u+1===e.length)throw new D(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new D(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=N,u+=2}else"`"===E?(p=!p,u++):"."!==E||p?(o+=E,u++):(l(),u++)}if(l(),p)throw new D(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(_n.fromString(e))}static fromName(e){return new lt(_n.fromString(e).popFirst(5))}static empty(){return new lt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new _n(e.slice()))}}function Js(i){return new Oi(i.readTime,i.key,-1)}class Oi{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Oi(Pt.min(),lt.empty(),-1)}static max(){return new Oi(Pt.max(),lt.empty(),-1)}}function fa(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(i.documentKey,e.documentKey),0!==t?t:Ht(i.largestBatchId,e.largestBatchId))}const wu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ii(i){return pa.apply(this,arguments)}function pa(){return pa=(0,C.Z)(function*(i){if(i.code!==x.FAILED_PRECONDITION||i.message!==wu)throw i;rt("LocalStore","Unexpectedly lost primary lease")}),pa.apply(this,arguments)}class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ce((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ce?t:Ce.resolve(t)}catch(t){return Ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ce.reject(t)}static resolve(e){return new Ce((t,o)=>{t(e)})}static reject(e){return new Ce((t,o)=>{o(e)})}static waitFor(e){return new Ce((t,o)=>{let u=0,l=0,p=!1;e.forEach(E=>{++u,E.next(()=>{++l,p&&l===u&&t()},N=>o(N))}),p=!0,l===u&&t()})}static or(e){let t=Ce.resolve(!1);for(const o of e)t=t.next(u=>u?Ce.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,l)=>{o.push(t.call(this,u,l))}),this.waitFor(o)}static mapArray(e,t){return new Ce((o,u)=>{const l=e.length,p=new Array(l);let E=0;for(let N=0;N<l;N++){const P=N;t(e[P]).next(j=>{p[P]=j,++E,E===l&&o(p)},j=>u(j))}})}static doWhile(e,t){return new Ce((o,u)=>{const l=()=>{!0===e()?t().next(()=>{l()},u):o()};l()})}}function eo(i){return"IndexedDbTransactionError"===i.name}let ti=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=u=>this.ut(u),this.ct=u=>o.writeSequenceNumber(u))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return i.at=-1,i})();class Eu{constructor(e,t,o,u,l,p,E,N){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=p,this.autoDetectLongPolling=E,this.useFetchStreams=N}}class Mo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mo&&e.projectId===this.projectId&&e.database===this.database}}function ka(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function vs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Pa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Jo(i){return null==i}function Ns(i){return 0===i&&1/i==-1/0}class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ir(t)}static fromUint8Array(e){const t=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const _s=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(i){if(wt(!!i),"string"==typeof i){let e=0;const t=_s.exec(i);if(wt(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:qn(i.seconds),nanos:qn(i.nanos)}}function qn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ea(i){return"string"==typeof i?ir.fromBase64String(i):ir.fromUint8Array(i)}function _o(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zi(i){const e=i.mapValue.fields.__previous_value__;return _o(e)?zi(e):e}function Io(i){const e=Gi(i.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}const wo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ta(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?_o(i)?4:si(i)?9007199254740991:10:Mt()}function Ur(i,e){if(i===e)return!0;const t=ta(i);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Io(i).isEqual(Io(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=Gi(o.timestampValue),p=Gi(u.timestampValue);return l.seconds===p.seconds&&l.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ea(i.bytesValue).isEqual(ea(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return qn(o.geoPointValue.latitude)===qn(u.geoPointValue.latitude)&&qn(o.geoPointValue.longitude)===qn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return qn(o.integerValue)===qn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=qn(o.doubleValue),p=qn(u.doubleValue);return l===p?Ns(l)===Ns(p):isNaN(l)&&isNaN(p)}return!1}(i,e);case 9:return Nr(i.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(o,u){const l=o.mapValue.fields||{},p=u.mapValue.fields||{};if(ka(l)!==ka(p))return!1;for(const E in l)if(l.hasOwnProperty(E)&&(void 0===p[E]||!Ur(l[E],p[E])))return!1;return!0}(i,e);default:return Mt()}var u}function Ro(i,e){return void 0!==(i.values||[]).find(t=>Ur(t,e))}function na(i,e){if(i===e)return 0;const t=ta(i),o=ta(e);if(t!==o)return Ht(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(i.booleanValue,e.booleanValue);case 2:return function(u,l){const p=qn(u.integerValue||u.doubleValue),E=qn(l.integerValue||l.doubleValue);return p<E?-1:p>E?1:p===E?0:isNaN(p)?isNaN(E)?0:-1:1}(i,e);case 3:return xc(i.timestampValue,e.timestampValue);case 4:return xc(Io(i),Io(e));case 5:return Ht(i.stringValue,e.stringValue);case 6:return function(u,l){const p=ea(u),E=ea(l);return p.compareTo(E)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const p=u.split("/"),E=l.split("/");for(let N=0;N<p.length&&N<E.length;N++){const P=Ht(p[N],E[N]);if(0!==P)return P}return Ht(p.length,E.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const p=Ht(qn(u.latitude),qn(l.latitude));return 0!==p?p:Ht(qn(u.longitude),qn(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const p=u.values||[],E=l.values||[];for(let N=0;N<p.length&&N<E.length;++N){const P=na(p[N],E[N]);if(P)return P}return Ht(p.length,E.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===wo_mapValue&&l===wo_mapValue)return 0;if(u===wo_mapValue)return 1;if(l===wo_mapValue)return-1;const p=u.fields||{},E=Object.keys(p),N=l.fields||{},P=Object.keys(N);E.sort(),P.sort();for(let j=0;j<E.length&&j<P.length;++j){const J=Ht(E[j],P[j]);if(0!==J)return J;const Ee=na(p[E[j]],N[P[j]]);if(0!==Ee)return Ee}return Ht(E.length,P.length)}(i.mapValue,e.mapValue);default:throw Mt()}}function xc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ht(i,e);const t=Gi(i),o=Gi(e),u=Ht(t.seconds,o.seconds);return 0!==u?u:Ht(t.nanos,o.nanos)}function Eo(i){return tu(i)}function tu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Gi(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ea(i.bytesValue).toBase64():"referenceValue"in i?lt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const p of o.values||[])l?l=!1:u+=",",u+=tu(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",p=!0;for(const E of u)p?p=!1:l+=",",l+=`${E}:${tu(o.fields[E])}`;return l+"}"}(i.mapValue):Mt();var e}function nu(i){return!!i&&"integerValue"in i}function Fa(i){return!!i&&"arrayValue"in i}function Er(i){return!!i&&"nullValue"in i}function La(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ks(i){return!!i&&"mapValue"in i}function ra(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ra(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ra(i.arrayValue.values[t]);return e}return Object.assign({},i)}function si(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class y{constructor(e,t){this.position=e,this.inclusive=t}}function v(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],p=i.position[u];if(o=l.field.isKeyField()?lt.comparator(lt.fromName(p.referenceValue),t.key):na(p,t.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function g(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ur(i.position[t],e.position[t]))return!1;return!0}class b{}class M extends b{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new ko(e,t,o):"array-contains"===t?new no(e,o):"in"===t?new A(e,o):"not-in"===t?new R(e,o):"array-contains-any"===t?new F(e,o):new M(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new to(e,o):new fi(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(na(t,this.value)):null!==t&&ta(this.value)===ta(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class O extends b{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new O(e,t)}matches(e){return V(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function V(i){return"and"===i.op}function Fe(i){return function bt(i){for(const e of i.filters)if(e instanceof O)return!1;return!0}(i)&&V(i)}function ct(i){if(i instanceof M)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(Fe(i))return i.filters.map(e=>ct(e)).join(",");{const e=i.filters.map(t=>ct(t)).join(",");return`${i.op}(${e})`}}function bn(i,e){return i instanceof M?(t=i,(o=e)instanceof M&&t.op===o.op&&t.field.isEqual(o.field)&&Ur(t.value,o.value)):i instanceof O?function(t,o){return o instanceof O&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,l,p)=>u&&bn(l,o.filters[p]),!0)}(i,e):void Mt();var t,o}function Ps(i){return i instanceof M?`${(e=i).field.canonicalString()} ${e.op} ${Eo(e.value)}`:i instanceof O?function(e){return e.op.toString()+" {"+e.getFilters().map(Ps).join(" ,")+"}"}(i):"Filter";var e}class ko extends M{constructor(e,t,o){super(e,t,o),this.key=lt.fromName(o.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class to extends M{constructor(e,t){super(e,"in",t),this.keys=Du(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fi extends M{constructor(e,t){super(e,"not-in",t),this.keys=Du(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Du(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>lt.fromName(o.referenceValue))}class no extends M{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fa(t)&&Ro(t.arrayValue,this.value)}}class A extends M{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ro(this.value.arrayValue,t)}}class R extends M{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ro(this.value.arrayValue,t)}}class F extends M{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fa(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ro(this.value.arrayValue,o))}}class W{constructor(e,t="asc"){this.field=e,this.dir=t}}function de(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ge{constructor(e,t){this.comparator=e,this.root=t||_t.EMPTY}insert(e,t){return new ge(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new et(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new et(this.root,e,this.comparator,!1)}getReverseIterator(){return new et(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new et(this.root,e,this.comparator,!0)}}class et{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,t,o,u,l){this.key=e,this.value=t,this.color=o??_t.RED,this.left=u??_t.EMPTY,this.right=l??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,l){return new _t(e??this.key,t??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===l?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return _t.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1,_t.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new _t(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bt(this.data.getIterator())}getIteratorFrom(e){return new Bt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class Bt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $t{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new $t([])}unionWith(e){let t=new ft(Xn.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new $t(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!ks(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(t)}setAll(e){let t=Xn.emptyPath(),o={},u=[];e.forEach((p,E)=>{if(!t.isImmediateParentOf(E)){const N=this.getFieldsMap(t);this.applyChanges(N,o,u),o={},u=[],t=E.popLast()}p?o[E.lastSegment()]=ra(p):u.push(E.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,u)}delete(e){const t=this.field(e.popLast());ks(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];ks(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){vs(t,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new or(ra(this.value))}}function oi(i){const e=[];return vs(i.fields,(t,o)=>{const u=new Xn([t]);if(ks(o)){const l=oi(o.mapValue).fields;if(0===l.length)e.push(u);else for(const p of l)e.push(u.child(p))}else e.push(u)}),new $t(e)}class Kn{constructor(e,t,o,u,l,p,E){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=l,this.data=p,this.documentState=E}static newInvalidDocument(e){return new Kn(e,0,Pt.min(),Pt.min(),Pt.min(),or.empty(),0)}static newFoundDocument(e,t,o,u){return new Kn(e,1,t,Pt.min(),o,u,0)}static newNoDocument(e,t){return new Kn(e,2,t,Pt.min(),Pt.min(),or.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,Pt.min(),Pt.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mc{constructor(e,t=null,o=[],u=[],l=null,p=null,E=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=p,this.endAt=E,this.ft=null}}function ma(i,e=null,t=[],o=[],u=null,l=null,p=null){return new Mc(i,e,t,o,u,l,p)}function pi(i){const e=_(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>ct(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Jo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Eo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Eo(o)).join(",")),e.ft=t}return e.ft}function Os(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!de(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!bn(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!g(i.startAt,e.startAt)&&g(i.endAt,e.endAt)}function ro(i){return lt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Ua{constructor(e,t=null,o=[],u=[],l=null,p="F",E=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=p,this.startAt=E,this.endAt=N,this.dt=null,this._t=null}}function zu(i){return new Ua(i)}function fd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Tu(i){const e=_(i);if(null===e.dt){e.dt=[];const t=function Va(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),o=function dl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new W(t)),e.dt.push(new W(Xn.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new W(Xn.keyField(),l))}}}return e.dt}function Wi(i){const e=_(i);if(!e._t)if("F"===e.limitType)e._t=ma(e.path,e.collectionGroup,Tu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Tu(e))t.push(new W(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new y(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new y(e.startAt.position,e.startAt.inclusive):null;e._t=ma(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e._t}function hl(i,e,t){return new Ua(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Wu(i,e){return Os(Wi(i),Wi(e))&&i.limitType===e.limitType}function kh(i){return`${pi(Wi(i))}|lt:${i.limitType}`}function md(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Ps(o)).join(", ")}]`),Jo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Eo(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Eo(o)).join(",")),`Target(${t})`}(Wi(i))}; limitType=${i.limitType})`}function fl(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):lt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of Tu(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,l,p){const E=v(u,l,p);return u.inclusive?E<=0:E<0}(t.startAt,Tu(t),o)||t.endAt&&!function(u,l,p){const E=v(u,l,p);return u.inclusive?E>=0:E>0}(t.endAt,Tu(t),o)));var t,o}function qu(i){return(e,t)=>{let o=!1;for(const u of Tu(i)){const l=yd(u,e,t);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function yd(i,e,t){const o=i.field.isKeyField()?lt.comparator(e.key,t.key):function(u,l,p){const E=l.data.field(u),N=p.data.field(u);return null!==E&&null!==N?na(E,N):Mt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Mt()}}function Ku(i,e){if(i.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ns(e)?"-0":e}}function gl(i){return{integerValue:""+i}}function Po(i,e){return function Ac(i){return"number"==typeof i&&Number.isInteger(i)&&!Ns(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?gl(e):Ku(i,e)}class ml{constructor(){this._=void 0}}function vd(i,e,t){return i instanceof ya?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(l.fields.__previous_value__=u),{mapValue:l}}(t,e):i instanceof ru?_d(i,e):i instanceof iu?yl(i,e):function(o,u){const l=Rc(o,u),p=vl(l)+vl(o.gt);return nu(l)&&nu(o.gt)?gl(p):Ku(o.yt,p)}(i,e)}function Dp(i,e,t){return i instanceof ru?_d(i,e):i instanceof iu?yl(i,e):t}function Rc(i,e){return i instanceof bu?nu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ya extends ml{}class ru extends ml{constructor(e){super(),this.elements=e}}function _d(i,e){const t=Es(e);for(const o of i.elements)t.some(u=>Ur(u,o))||t.push(o);return{arrayValue:{values:t}}}class iu extends ml{constructor(e){super(),this.elements=e}}function yl(i,e){let t=Es(e);for(const o of i.elements)t=t.filter(u=>!Ur(u,o));return{arrayValue:{values:t}}}class bu extends ml{constructor(e,t){super(),this.yt=e,this.gt=t}}function vl(i){return qn(i.integerValue||i.doubleValue)}function Es(i){return Fa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class h{constructor(e,t){this.version=e,this.transformResults=t}}class f{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new f}static exists(e){return new f(void 0,e)}static updateTime(e){return new f(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function T(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class L{}function G(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new _a(i.key,f.none()):new ln(i.key,i.data,f.none());{const t=i.data,o=or.empty();let u=new ft(Xn.comparator);for(let l of e.fields)if(!u.has(l)){let p=t.field(l);null===p&&l.length>1&&(l=l.popLast(),p=t.field(l)),null===p?o.delete(l):o.set(l,p),u=u.add(l)}return new Hn(i.key,o,new $t(u.toArray()),f.none())}}function Ie(i,e,t){i instanceof ln?function(o,u,l){const p=o.value.clone(),E=va(o.fieldTransforms,u,l.transformResults);p.setAll(E),u.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Hn?function(o,u,l){if(!T(o.precondition,u))return void u.convertToUnknownDocument(l.version);const p=va(o.fieldTransforms,u,l.transformResults),E=u.data;E.setAll(Oo(o)),E.setAll(p),u.convertToFoundDocument(l.version,E).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Je(i,e,t,o){return i instanceof ln?function(u,l,p,E){if(!T(u.precondition,l))return p;const N=u.value.clone(),P=ou(u.fieldTransforms,E,l);return N.setAll(P),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),null}(i,e,t,o):i instanceof Hn?function(u,l,p,E){if(!T(u.precondition,l))return p;const N=ou(u.fieldTransforms,E,l),P=l.data;return P.setAll(Oo(u)),P.setAll(N),l.convertToFoundDocument(l.version,P).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(j=>j.field))}(i,e,t,o):(p=t,T(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):p);var l,p}function Nt(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Rc(o.transform,u||null);null!=l&&(null===t&&(t=or.empty()),t.set(o.field,l))}return t||null}function Gt(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Nr(t,o,(u,l)=>function I(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof ru&&o instanceof ru||t instanceof iu&&o instanceof iu?Nr(t.elements,o.elements,Ur):t instanceof bu&&o instanceof bu?Ur(t.gt,o.gt):t instanceof ya&&o instanceof ya);var t,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class ln extends L{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Hn extends L{constructor(e,t,o,u,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Oo(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function va(i,e,t){const o=new Map;wt(i.length===t.length);for(let u=0;u<t.length;u++){const l=i[u],p=l.transform,E=e.data.field(l.field);o.set(l.field,Dp(p,E,t[u]))}return o}function ou(i,e,t){const o=new Map;for(const u of i){const l=u.transform,p=t.data.field(u.field);o.set(u.field,vd(l,p,e))}return o}class _a extends L{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zu extends L{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cu{constructor(e){this.count=e}}var ai,Fn;function Yu(i){switch(i){default:return Mt();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function Qu(i){if(void 0===i)return pr("GRPC error has no .code"),x.UNKNOWN;switch(i){case ai.OK:return x.OK;case ai.CANCELLED:return x.CANCELLED;case ai.UNKNOWN:return x.UNKNOWN;case ai.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case ai.INTERNAL:return x.INTERNAL;case ai.UNAVAILABLE:return x.UNAVAILABLE;case ai.UNAUTHENTICATED:return x.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case ai.NOT_FOUND:return x.NOT_FOUND;case ai.ALREADY_EXISTS:return x.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return x.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case ai.ABORTED:return x.ABORTED;case ai.OUT_OF_RANGE:return x.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return x.UNIMPLEMENTED;case ai.DATA_LOSS:return x.DATA_LOSS;default:return Mt()}}(Fn=ai||(ai={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";class Fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return Pa(this.inner)}size(){return this.innerSize}}const au=new ge(lt.comparator);function ts(){return au}const Xu=new ge(lt.comparator);function Ju(...i){let e=Xu;for(const t of i)e=e.insert(t.key,t);return e}function Id(i){let e=Xu;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ba(){return _l()}function Tp(){return _l()}function _l(){return new Fo(i=>i.toString(),(i,e)=>i.isEqual(e))}const am=new ge(lt.comparator),um=new ft(lt.comparator);function Cn(...i){let e=um;for(const t of i)e=e.add(t);return e}const bp=new ft(Ht);function Nc(){return bp}class kc{constructor(e,t,o,u,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new kc(Pt.min(),u,Nc(),ts(),Cn())}}class ec{constructor(e,t,o,u,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new ec(o,t,Cn(),Cn(),Cn())}}class wd{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class Cp{constructor(e,t){this.targetId=e,this.Et=t}}class Ph{constructor(e,t,o=ir.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Oh{constructor(){this.At=0,this.Rt=Lh(),this.bt=ir.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Cn(),t=Cn(),o=Cn();return this.Rt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Mt()}}),new ec(this.bt,this.Pt,e,t,o)}xt(){this.vt=!1,this.Rt=Lh()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class tc{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=ts(),this.qt=Fh(),this.Ut=new ft(Ht)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const o=this.Wt(t);switch(e.state){case 0:this.zt(t)&&o.Dt(e.resumeToken);break;case 1:o.Mt(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.Mt(),o.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(o.Ft(),o.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.zt(u)&&t(u)})}Jt(e){const t=e.targetId,o=e.Et.count,u=this.Yt(t);if(u){const l=u.target;if(ro(l))if(0===o){const p=new lt(l.path);this.Qt(t,p,Kn.newNoDocument(p,Pt.min()))}else wt(1===o);else this.Xt(t)!==o&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((l,p)=>{const E=this.Yt(p);if(E){if(l.current&&ro(E.target)){const N=new lt(E.target.path);null!==this.Lt.get(N)||this.te(p,N)||this.Qt(p,N,Kn.newNoDocument(N,e))}l.St&&(t.set(p,l.Ct()),l.xt())}});let o=Cn();this.qt.forEach((l,p)=>{let E=!0;p.forEachWhile(N=>{const P=this.Yt(N);return!P||2===P.purpose||(E=!1,!1)}),E&&(o=o.add(l))}),this.Lt.forEach((l,p)=>p.setReadTime(e));const u=new kc(e,t,this.Ut,this.Lt,o);return this.Lt=ts(),this.qt=Fh(),this.Ut=new ft(Ht),u}Gt(e,t){if(!this.zt(e))return;const o=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.zt(e))return;const u=this.Wt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new Oh,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new ft(Ht),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||rt("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new Oh),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function Fh(){return new ge(lt.comparator)}function Lh(){return new ge(lt.comparator)}const cm={asc:"ASCENDING",desc:"DESCENDING"},Av={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ed={and:"AND",or:"OR"};class lm{constructor(e,t){this.databaseId=e,this.wt=t}}function nc(i,e){return i.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Uh(i,e){return i.wt?e.toBase64():e.toUint8Array()}function Sp(i,e){return nc(i,e.toTimestamp())}function ui(i){return wt(!!i),Pt.fromTimestamp(function(e){const t=Gi(e);return new An(t.seconds,t.nanos)}(i))}function Dd(i,e){return(t=i,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Il(i){const e=_n.fromString(i);return wt(jh(e)),e}function Su(i,e){return Dd(i.databaseId,e.path)}function Ia(i,e){const t=Il(e);if(t.get(1)!==i.databaseId.projectId)throw new D(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new D(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new lt(Pc(t))}function wl(i,e){return Dd(i.databaseId,e)}function rc(i){return new _n(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pc(i){return wt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ap(i,e,t){return{name:Su(i,e),fields:t.value.mapValue.fields}}function Dl(i,e){return{documents:[wl(i,e.path)]}}function Tl(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=wl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(N){if(0!==N.length)return bl(O.create(N,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const l=function(N){if(0!==N.length)return N.map(P=>{return{field:Oc((j=P).field),direction:xv(j.dir)};var j})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const p=(P=e.limit,i.wt||Jo(P)?P:{value:P});var P,E,N;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(E=e.startAt).inclusive,values:E.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function Au(i){let e=function Td(i){const e=Il(i);return 4===e.length?_n.emptyPath():Pc(e)}(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){wt(1===o);const j=t.from[0];j.allDescendants?u=j.collectionId:e=e.child(j.collectionId)}let l=[];t.where&&(l=function(j){const J=Mp(j);return J instanceof O&&Fe(J)?J.getFilters():[J]}(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(j=>{return new W(ic((J=j).field),function(Ee){switch(Ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let E=null;t.limit&&(E=function(j){let J;return J="object"==typeof j?j.value:j,Jo(J)?null:J}(t.limit));let N=null;var j;t.startAt&&(N=new y((j=t.startAt).values||[],!!j.before));let P=null;return t.endAt&&(P=function(j){return new y(j.values||[],!j.before)}(t.endAt)),function ll(i,e,t,o,u,l,p,E){return new Ua(i,e,t,o,u,l,p,E)}(e,u,p,l,E,"F",N,P)}function Mp(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ic(e.unaryFilter.field);return M.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=ic(e.unaryFilter.field);return M.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ic(e.unaryFilter.field);return M.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ic(e.unaryFilter.field);return M.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(i):void 0!==i.fieldFilter?M.create(ic((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return O.create(e.compositeFilter.filters.map(t=>Mp(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Mt()}}(e.compositeFilter.op))}(i):Mt();var e}function xv(i){return cm[i]}function pm(i){return Av[i]}function Bh(i){return Ed[i]}function Oc(i){return{fieldPath:i.canonicalString()}}function ic(i){return Xn.fromServerFormat(i.fieldPath)}function bl(i){return i instanceof M?function(e){if("=="===e.op){if(La(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NAN"}};if(Er(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(La(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NOT_NAN"}};if(Er(e.value))return{unaryFilter:{field:Oc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(e.field),op:pm(e.op),value:e.value}}}(i):i instanceof O?function(e){const t=e.getFilters().map(o=>bl(o));return 1===t.length?t[0]:{compositeFilter:{op:Bh(e.op),filters:t}}}(i):Mt()}function $h(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Lp{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&Ie(l,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Je(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Je(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Tp();return this.mutations.forEach(u=>{const l=e.get(u.key),p=l.overlayedDocument;let E=this.applyToLocalView(p,l.mutatedFields);E=t.has(u.key)?null:E;const N=G(p,E);null!==N&&o.set(u.key,N),p.isValidDocument()||p.convertToNoDocument(Pt.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,(t,o)=>Gt(t,o))&&Nr(this.baseMutations,e.baseMutations,(t,o)=>Gt(t,o))}}class Al{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){wt(e.mutations.length===o.length);let u=am;const l=e.mutations;for(let p=0;p<l.length;p++)u=u.insert(l[p].key,o[p].version);return new Al(e,t,o,u)}}class xl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sc{constructor(e,t,o,u,l=Pt.min(),p=Pt.min(),E=ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=E}withSequenceNumber(e){return new sc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class wm{constructor(e){this.ie=e}}function Ml(i){const e=Au({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?hl(e,e.limit,"L"):e}class uc{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(qn(e.integerValue));else if("doubleValue"in e){const o=qn(e.doubleValue);isNaN(o)?this.he(t,13):(this.he(t,15),Ns(o)?t.le(0):t.le(o))}else if("timestampValue"in e){const o=e.timestampValue;this.he(t,20),"string"==typeof o?t.fe(o):(t.fe(`${o.seconds||""}`),t.le(o.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(ea(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.he(t,45),t.le(o.latitude||0),t.le(o.longitude||0)}else"mapValue"in e?si(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):Mt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const o=e.fields||{};this.he(t,55);for(const u of Object.keys(o))this.de(u,t),this.ce(o[u],t)}ye(e,t){const o=e.values||[];this.he(t,50);for(const u of o)this.ce(u,t)}me(e,t){this.he(t,37),lt.fromName(e).path.forEach(o=>{this.he(t,60),this.pe(o,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}uc.Ie=new uc;class Gp{constructor(){this.Je=new cu}addToCollectionParentIndex(e,t){return this.Je.add(t),Ce.resolve()}getCollectionParents(e,t){return Ce.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Ce.resolve()}deleteFieldIndex(e,t){return Ce.resolve()}getDocumentsMatchingTarget(e,t){return Ce.resolve(null)}getIndexType(e,t){return Ce.resolve(0)}getFieldIndexes(e,t){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,t){return Ce.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return Ce.resolve(Oi.min())}updateCollectionGroup(e,t,o){return Ce.resolve()}updateIndexEntries(e,t){return Ce.resolve()}}class cu{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new ft(_n.comparator),l=!u.has(o);return this.index[t]=u.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new ft(_n.comparator)).toArray()}}new Uint8Array(0);class Ls{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class lu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new lu(0)}static vn(){return new lu(-1)}}class xm{constructor(){this.changes=new Fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Ce.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Rm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fd{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Je(o.mutation,u,$t.empty(),An.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Cn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Cn()){const u=Ba();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(l=>{let p=Ju();return l.forEach((E,N)=>{p=p.insert(E,N.overlayedDocument)}),p}))}getOverlayedDocuments(e,t){const o=Ba();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Cn()))}populateOverlays(e,t,o){const u=[];return o.forEach(l=>{t.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((p,E)=>{t.set(p,E)})})}computeViews(e,t,o,u){let l=ts();const p=_l(),E=_l();return t.forEach((N,P)=>{const j=o.get(P.key);u.has(P.key)&&(void 0===j||j.mutation instanceof Hn)?l=l.insert(P.key,P):void 0!==j?(p.set(P.key,j.mutation.getFieldMask()),Je(j.mutation,P,j.mutation.getFieldMask(),An.now())):p.set(P.key,$t.empty())}),this.recalculateAndSaveOverlays(e,l).next(N=>(N.forEach((P,j)=>p.set(P,j)),t.forEach((P,j)=>{var J;return E.set(P,new Rm(j,null!==(J=p.get(P))&&void 0!==J?J:null))}),E))}recalculateAndSaveOverlays(e,t){const o=_l();let u=new ge((p,E)=>p-E),l=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(p=>{for(const E of p)E.keys().forEach(N=>{const P=t.get(N);if(null===P)return;let j=o.get(N)||$t.empty();j=E.applyToLocalView(P,j),o.set(N,j);const J=(u.get(E.batchId)||Cn()).add(N);u=u.insert(E.batchId,J)})}).next(()=>{const p=[],E=u.getReverseIterator();for(;E.hasNext();){const N=E.getNext(),P=N.key,j=N.value,J=Tp();j.forEach(Ee=>{if(!l.has(Ee)){const Ke=G(t.get(Ee),o.get(Ee));null!==Ke&&J.set(Ee,Ke),l=l.add(Ee)}}),p.push(this.documentOverlayCache.saveOverlays(e,P,J))}return Ce.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return lt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function pd(i){return null!==i.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(l=>{const p=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-l.size):Ce.resolve(Ba());let E=-1,N=l;return p.next(P=>Ce.forEach(P,(j,J)=>(E<J.largestBatchId&&(E=J.largestBatchId),l.get(j)?Ce.resolve():this.remoteDocumentCache.getEntry(e,j).next(Ee=>{N=N.insert(j,Ee)}))).next(()=>this.populateOverlays(e,P,l)).next(()=>this.computeViews(e,N,P,Cn())).next(j=>({batchId:E,changes:Id(j)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(o=>{let u=Ju();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let l=Ju();return this.indexManager.getCollectionParents(e,u).next(p=>Ce.forEach(p,E=>{const N=(P=t,j=E.child(u),new Ua(j,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,j;return this.getDocumentsMatchingCollectionQuery(e,N,o).next(P=>{P.forEach((j,J)=>{l=l.insert(j,J)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(l=>(u=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(l=>{l.forEach((E,N)=>{const P=N.getKey();null===u.get(P)&&(u=u.insert(P,Kn.newInvalidDocument(P)))});let p=Ju();return u.forEach((E,N)=>{const P=l.get(E);void 0!==P&&Je(P.mutation,N,$t.empty(),An.now()),fl(t,N)&&(p=p.insert(E,N))}),p})}}class Bl{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Ce.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:ui(o.createTime)}),Ce.resolve()}getNamedQuery(e,t){return Ce.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:Ml(o.bundledQuery),readTime:ui(o.readTime)}),Ce.resolve();var o}}class Nm{constructor(){this.overlays=new ge(lt.comparator),this.es=new Map}getOverlay(e,t){return Ce.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ba();return Ce.forEach(t,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,l)=>{this.oe(e,t,l)}),Ce.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(o)),Ce.resolve()}getOverlaysForCollection(e,t,o){const u=Ba(),l=t.length+1,p=new lt(t.child("")),E=this.overlays.getIteratorFrom(p);for(;E.hasNext();){const N=E.getNext().value,P=N.getKey();if(!t.isPrefixOf(P.path))break;P.path.length===l&&N.largestBatchId>o&&u.set(N.getKey(),N)}return Ce.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let l=new ge((P,j)=>P-j);const p=this.overlays.getIterator();for(;p.hasNext();){const P=p.getNext().value;if(P.getKey().getCollectionGroup()===t&&P.largestBatchId>o){let j=l.get(P.largestBatchId);null===j&&(j=Ba(),l=l.insert(P.largestBatchId,j)),j.set(P.getKey(),P)}}const E=Ba(),N=l.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((P,j)=>E.set(P,j)),!(E.size()>=u)););return Ce.resolve(E)}oe(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new xl(t,o));let l=this.es.get(t);void 0===l&&(l=Cn(),this.es.set(t,l)),this.es.set(t,l.add(o.key))}}class ef{constructor(){this.ns=new ft(ns.ss),this.rs=new ft(ns.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new ns(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new ns(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new lt(new _n([])),o=new ns(t,e),u=new ns(t,e+1),l=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),l.push(p.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new lt(new _n([])),o=new ns(t,e),u=new ns(t,e+1);let l=Cn();return this.rs.forEachInRange([o,u],p=>{l=l.add(p.key)}),l}containsKey(e){const t=new ns(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ns{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return lt.comparator(e.key,t.key)||Ht(e._s,t._s)}static os(e,t){return Ht(e._s,t._s)||lt.comparator(e.key,t.key)}}class km{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ft(ns.ss)}checkEmpty(e){return Ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const l=this.ws;this.ws++;const p=new Lp(l,t,o,u);this.mutationQueue.push(p);for(const E of u)this.gs=this.gs.add(new ns(E.key,l)),this.indexManager.addToCollectionParentIndex(e,E.key.path.popLast());return Ce.resolve(p)}lookupMutationBatch(e,t){return Ce.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),l=u<0?0:u;return Ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ns(t,0),u=new ns(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([o,u],p=>{const E=this.ys(p._s);l.push(E)}),Ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ft(Ht);return t.forEach(u=>{const l=new ns(u,0),p=new ns(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,p],E=>{o=o.add(E._s)})}),Ce.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let l=o;lt.isDocumentKey(l)||(l=l.child(""));const p=new ns(new lt(l),0);let E=new ft(Ht);return this.gs.forEachWhile(N=>{const P=N.key.path;return!!o.isPrefixOf(P)&&(P.length===u&&(E=E.add(N._s)),!0)},p),Ce.resolve(this.Is(E))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){wt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Ce.forEach(t.mutations,u=>{const l=new ns(u.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new ns(t,0),u=this.gs.firstAfterOrEqual(o);return Ce.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return Ce.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pm{constructor(e){this.Es=e,this.docs=new ge(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),l=u?u.size:0,p=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p}),this.size+=p-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Ce.resolve(o?o.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let o=ts();return t.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():Kn.newInvalidDocument(u))}),Ce.resolve(o)}getAllFromCollection(e,t,o){let u=ts();const l=new lt(t.child("")),p=this.docs.getIteratorFrom(l);for(;p.hasNext();){const{key:E,value:{document:N}}=p.getNext();if(!t.isPrefixOf(E.path))break;E.path.length>t.length+1||fa(Js(N),o)<=0||(u=u.insert(N.key,N.mutableCopy()))}return Ce.resolve(u)}getAllFromCollectionGroup(e,t,o,u){Mt()}As(e,t){return Ce.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Om(this)}getSize(e){return Ce.resolve(this.size)}}class Om extends xm{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Ce.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Fm{constructor(e){this.persistence=e,this.Rs=new Fo(t=>pi(t),Os),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ef,this.targetCount=0,this.vs=lu.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),Ce.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new lu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Ce.resolve()}updateTargetData(e,t){return this.Dn(t),Ce.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,t,o){let u=0;const l=[];return this.Rs.forEach((p,E)=>{E.sequenceNumber<=t&&null===o.get(E.targetId)&&(this.Rs.delete(p),l.push(this.removeMatchingKeysForTargetId(e,E.targetId)),u++)}),Ce.waitFor(l).next(()=>u)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return Ce.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),Ce.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,l=[];return u&&t.forEach(p=>{l.push(u.markPotentiallyOrphaned(e,p))}),Ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Ce.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return Ce.resolve(o)}containsKey(e,t){return Ce.resolve(this.Ps.containsKey(t))}}class hc{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new ti(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Fm(this),this.indexManager=new Gp,this.remoteDocumentCache=new Pm(o=>this.referenceDelegate.xs(o)),this.yt=new wm(t),this.Ns=new Bl(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new km(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){rt("MemoryPersistence","Starting transaction:",e);const u=new hu(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(l=>this.referenceDelegate.Os(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Ms(e,t){return Ce.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class hu extends Xa{constructor(e){super(),this.currentSequenceNumber=e}}class Ld{constructor(e){this.persistence=e,this.Fs=new ef,this.$s=null}static Bs(e){return new Ld(e)}get Ls(){if(this.$s)return this.$s;throw Mt()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),Ce.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),Ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Ce.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(l=>this.Ls.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.Ls,o=>{const u=lt.fromPath(o);return this.qs(e,u).next(l=>{l||t.removeEntry(u,Pt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Ce.or([()=>Ce.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class tf{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Cn(),u=Cn();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new tf(e,t.fromCache,o,u)}}class nf{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(l=>l||this.Oi(e,t,u,o)).next(l=>l||this.Mi(e,t))}ki(e,t){if(fd(t))return Ce.resolve(null);let o=Wi(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=hl(t,null,"F"),o=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const p=Cn(...l);return this.Ni.getDocuments(e,p).next(E=>this.indexManager.getMinOffset(e,o).next(N=>{const P=this.Fi(t,E);return this.$i(t,P,p,N.readTime)?this.ki(e,hl(t,null,"F")):this.Bi(e,P,t,N)}))})))}Oi(e,t,o,u){return fd(t)||u.isEqual(Pt.min())?this.Mi(e,t):this.Ni.getDocuments(e,o).next(l=>{const p=this.Fi(t,l);return this.$i(t,p,o,u)?this.Mi(e,t):(Zs()<=ne.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),md(t)),this.Bi(e,p,t,function ms(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Pt.fromTimestamp(1e9===o?new An(t+1,0):new An(t,o));return new Oi(u,lt.empty(),e)}(u,-1)))})}Fi(e,t){let o=new ft(qu(e));return t.forEach((u,l)=>{fl(e,l)&&(o=o.add(l))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Mi(e,t){return Zs()<=ne.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",md(t)),this.Ni.getDocumentsMatchingQuery(e,t,Oi.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(l=>(t.forEach(p=>{l=l.insert(p.key,p)}),l))}}class Vm{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.yt=u,this.qi=new ge(Ht),this.Ui=new Fo(l=>pi(l),Os),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function ia(i,e){return rf.apply(this,arguments)}function rf(){return rf=(0,C.Z)(function*(i,e){const t=_(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const p=[],E=[];let N=Cn();for(const P of u){p.push(P.batchId);for(const j of P.mutations)N=N.add(j.key)}for(const P of l){E.push(P.batchId);for(const j of P.mutations)N=N.add(j.key)}return t.localDocuments.getDocuments(o,N).next(P=>({ji:P,removedBatchIds:p,addedBatchIds:E}))})})}),rf.apply(this,arguments)}function Jp(i,e){const t=_(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(p,E,N,P){const j=N.batch,J=j.keys();let Ee=Ce.resolve();return J.forEach(Ke=>{Ee=Ee.next(()=>P.getEntry(E,Ke)).next(st=>{const Rt=N.docVersions.get(Ke);wt(null!==Rt),st.version.compareTo(Rt)<0&&(j.applyToRemoteDocument(st,N),st.isValidDocument()&&(st.setReadTime(N.commitVersion),P.addEntry(st)))})}),Ee.next(()=>p.mutationQueue.removeMutationBatch(E,j))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let E=Cn();for(let N=0;N<p.mutationResults.length;++N)p.mutationResults[N].transformResults.length>0&&(E=E.add(p.batch.mutations[N].key));return E}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function eg(i){const e=_(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Bm(i,e){const t=_(i),o=e.snapshotVersion;let u=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const p=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.qi;const E=[];e.targetChanges.forEach((j,J)=>{const Ee=u.get(J);if(!Ee)return;E.push(t.Cs.removeMatchingKeys(l,j.removedDocuments,J).next(()=>t.Cs.addMatchingKeys(l,j.addedDocuments,J)));let Ke=Ee.withSequenceNumber(l.currentSequenceNumber);var st,Rt,Zt;e.targetMismatches.has(J)?Ke=Ke.withResumeToken(ir.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):j.resumeToken.approximateByteSize()>0&&(Ke=Ke.withResumeToken(j.resumeToken,o)),u=u.insert(J,Ke),Rt=Ke,Zt=j,(0===(st=Ee).resumeToken.approximateByteSize()||Rt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=3e8||Zt.addedDocuments.size+Zt.modifiedDocuments.size+Zt.removedDocuments.size>0)&&E.push(t.Cs.updateTargetData(l,Ke))});let N=ts(),P=Cn();if(e.documentUpdates.forEach(j=>{e.resolvedLimboDocuments.has(j)&&E.push(t.persistence.referenceDelegate.updateLimboDocument(l,j))}),E.push(function tg(i,e,t){let o=Cn(),u=Cn();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let p=ts();return t.forEach((E,N)=>{const P=l.get(E);N.isFoundDocument()!==P.isFoundDocument()&&(u=u.add(E)),N.isNoDocument()&&N.version.isEqual(Pt.min())?(e.removeEntry(E,N.readTime),p=p.insert(E,N)):!P.isValidDocument()||N.version.compareTo(P.version)>0||0===N.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(N),p=p.insert(E,N)):rt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",P.version," Watch version:",N.version)}),{Wi:p,zi:u}})}(l,p,e.documentUpdates).next(j=>{N=j.Wi,P=j.zi})),!o.isEqual(Pt.min())){const j=t.Cs.getLastRemoteSnapshotVersion(l).next(J=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,o));E.push(j)}return Ce.waitFor(E).next(()=>p.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,N,P)).next(()=>N)}).then(l=>(t.qi=u,l))}function $m(i,e){const t=_(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function fc(i,e){const t=_(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(l=>l?(u=l,Ce.resolve(u)):t.Cs.allocateTargetId(o).next(p=>(u=new sc(e,p,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.qi.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.qi=t.qi.insert(o.targetId,o),t.Ui.set(e,o.targetId)),o})}function Bc(i,e,t){return sf.apply(this,arguments)}function sf(){return sf=(0,C.Z)(function*(i,e,t){const o=_(i),u=o.qi.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",l,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!eo(p))throw p;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.qi=o.qi.remove(e),o.Ui.delete(u.target)}),sf.apply(this,arguments)}function $d(i,e,t){const o=_(i);let u=Pt.min(),l=Cn();return o.persistence.runTransaction("Execute query","readonly",p=>function(E,N,P){const j=_(E),J=j.Ui.get(P);return void 0!==J?Ce.resolve(j.qi.get(J)):j.Cs.getTargetData(N,P)}(o,p,Wi(e)).next(E=>{if(E)return u=E.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,E.targetId).next(N=>{l=N})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,t?u:Pt.min(),t?l:Cn())).next(E=>(function uf(i,e,t){let o=i.Ki.get(e)||Pt.min();t.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Ki.set(e,o)}(o,function pl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),E),{documents:E,Hi:l})))}class fu{constructor(){this.activeTargetIds=Nc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wd{constructor(){this.Lr=new fu,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new fu,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ff{Ur(e){}shutdown(){}}class ig{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Uv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Vv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Bv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,o,u,l){const p=this.ho(e,t);rt("RestConnection","Sending: ",p,o);const E={};return this.lo(E,u,l),this.fo(e,p,E,o).then(N=>(rt("RestConnection","Received: ",N),N),N=>{throw jn("RestConnection",`${e} failed with error: `,N,"url: ",p,"request:",o),N})}_o(e,t,o,u,l,p){return this.ao(e,t,o,u,l)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}ho(e,t){return`${this.oo}/v1/${t}:${Uv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,u){return new Promise((l,p)=>{const E=new Ra;E.setWithCredentials(!0),E.listenOnce(ha.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case Ko.NO_ERROR:const P=E.getResponseJson();rt("Connection","XHR received:",JSON.stringify(P)),l(P);break;case Ko.TIMEOUT:rt("Connection",'RPC "'+e+'" timed out'),p(new D(x.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:const j=E.getStatus();if(rt("Connection",'RPC "'+e+'" failed with status:',j,"response text:",E.getResponseText()),j>0){let J=E.getResponseJson();Array.isArray(J)&&(J=J[0]);const Ee=J?.error;if(Ee&&Ee.status&&Ee.message){const Ke=function(st){const Rt=st.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(Rt)>=0?Rt:x.UNKNOWN}(Ee.status);p(new D(Ke,Ee.message))}else p(new D(x.UNKNOWN,"Server responded with status "+E.getStatus()))}else p(new D(x.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{rt("Connection",'RPC "'+e+'" completed.')}});const N=JSON.stringify(u);E.send(t,"POST",N,o,15)})}wo(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=So(),p=Xi(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new Ao({})),this.lo(E.initMessageHeaders,t,o),E.encodeInitMessageHeaders=!0;const N=u.join("");rt("Connection","Creating WebChannel: "+N,E);const P=l.createWebChannel(N,E);let j=!1,J=!1;const Ee=new Vv({Hr:st=>{J?rt("Connection","Not sending because WebChannel is closed:",st):(j||(rt("Connection","Opening WebChannel transport."),P.open(),j=!0),rt("Connection","WebChannel sending:",st),P.send(st))},Jr:()=>P.close()}),Ke=(st,Rt,Zt)=>{st.listen(Rt,Br=>{try{Zt(Br)}catch(Pr){setTimeout(()=>{throw Pr},0)}})};return Ke(P,Zo.EventType.OPEN,()=>{J||rt("Connection","WebChannel transport opened.")}),Ke(P,Zo.EventType.CLOSE,()=>{J||(J=!0,rt("Connection","WebChannel transport closed"),Ee.io())}),Ke(P,Zo.EventType.ERROR,st=>{J||(J=!0,jn("Connection","WebChannel transport errored:",st),Ee.io(new D(x.UNAVAILABLE,"The operation could not be completed")))}),Ke(P,Zo.EventType.MESSAGE,st=>{var Rt;if(!J){const Zt=st.data[0];wt(!!Zt);const Pr=Zt.error||(null===(Rt=Zt[0])||void 0===Rt?void 0:Rt.error);if(Pr){rt("Connection","WebChannel received error:",Pr);const Dr=Pr.status;let rs=function(Jn){const is=ai[Jn];if(void 0!==is)return Qu(is)}(Dr),Or=Pr.message;void 0===rs&&(rs=x.INTERNAL,Or="Unknown error status: "+Dr+" with message "+Pr.message),J=!0,Ee.io(new D(rs,Or)),P.close()}else rt("Connection","WebChannel received:",Zt),Ee.ro(Zt)}}),Ke(p,xa.STAT_EVENT,st=>{st.stat===Ma.PROXY?rt("Connection","Detected buffering proxy"):st.stat===Ma.NOPROXY&&rt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ee.so()},0),Ee}}function Hl(){return typeof document<"u"?document:null}function qd(i){return new lm(i,!0)}class pf{constructor(e,t,o=1e3,u=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=o,this.yo=u,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,t-o);u>0&&rt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class pc{constructor(e,t,o,u,l,p,E,N){this.Hs=e,this.vo=o,this.Vo=u,this.connection=l,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=E,this.listener=N,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new pf(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,C.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,C.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,C.Z)(function*(){o.Lo(),o.qo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Ao()):t&&t.code===x.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Uo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new D(x.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,C.Z)(function*(){e.state=0,e.start()}))}Qo(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hm extends pc{constructor(e,t,o,u,l,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,p),this.yt=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function hm(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:Mt(),u=e.targetChange.targetIds||[],l=function(N,P){return N.wt?(wt(void 0===P||"string"==typeof P),ir.fromBase64String(P||"")):(wt(void 0===P||P instanceof Uint8Array),ir.fromUint8Array(P||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,E=p&&function(N){const P=void 0===N.code?x.UNKNOWN:Qu(N.code);return new D(P,N.message||"")}(p);t=new Ph(o,u,l,E||null)}else if("documentChange"in e){const o=e.documentChange,u=Ia(i,o.document.name),l=ui(o.document.updateTime),p=o.document.createTime?ui(o.document.createTime):Pt.min(),E=new or({mapValue:{fields:o.document.fields}}),N=Kn.newFoundDocument(u,l,p,E);t=new wd(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const o=e.documentDelete,u=Ia(i,o.document),l=o.readTime?ui(o.readTime):Pt.min(),p=Kn.newNoDocument(u,l);t=new wd([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=Ia(i,o.document);t=new wd([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Mt();{const o=e.filter,l=new Cu(o.count||0);t=new Cp(o.targetId,l)}}var N;return t}(this.yt,e),o=function(u){if(!("targetChange"in u))return Pt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?ui(l.readTime):Pt.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=rc(this.yt),t.addTarget=function(u,l){let p;const E=l.target;return p=ro(E)?{documents:Dl(u,E)}:{query:Tl(u,E)},p.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?p.resumeToken=Uh(u,l.resumeToken):l.snapshotVersion.compareTo(Pt.min())>0&&(p.readTime=nc(u,l.snapshotVersion.toTimestamp())),p}(this.yt,e);const o=function fm(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=rc(this.yt),t.removeTarget=e,this.Bo(t)}}class og extends pc{constructor(e,t,o,u,l,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,p),this.yt=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function xp(i,e){return i&&i.length>0?(wt(void 0!==e),i.map(t=>function(o,u){let l=ui(o.updateTime?o.updateTime:u);return l.isEqual(Pt.min())&&(l=ui(u)),new h(l,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ui(e.commitTime);return this.listener.Zo(o,t)}return wt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=rc(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>function El(i,e){let t;if(e instanceof ln)t={update:Ap(i,e.key,e.value)};else if(e instanceof _a)t={delete:Su(i,e.key)};else if(e instanceof Hn)t={update:Ap(i,e.key,e.data),updateMask:$h(e.fieldMask)};else{if(!(e instanceof Zu))return Mt();t={verify:Su(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const p=l.transform;if(p instanceof ya)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ru)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof bu)return{fieldPath:l.field.canonicalString(),increment:p.gt};throw Mt()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Sp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Mt()),t;var u}(this.yt,o))};this.Bo(t)}}class Kd extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.yt=u,this.nu=!1}su(){if(this.nu)throw new D(x.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.ao(e,t,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new D(x.UNKNOWN,u.toString())})}_o(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,p])=>this.connection._o(e,t,o,l,p,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new D(x.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class zm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(pr(t),this.ou=!1):rt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Wm{constructor(e,t,o,u,l){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.Ur(E=>{o.enqueueAndForget((0,C.Z)(function*(){var N;pu(p)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,C.Z)(function*(P){const j=_(P);j._u.add(4),yield $c(j),j.gu.set("Unknown"),j._u.delete(4),yield Gl(j)}),function(P){return N.apply(this,arguments)})(p))}))}),this.gu=new zm(o,u)}}function Gl(i){return gf.apply(this,arguments)}function gf(){return gf=(0,C.Z)(function*(i){if(pu(i))for(const e of i.wu)yield e(!0)}),gf.apply(this,arguments)}function $c(i){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,C.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Yd.apply(this,arguments)}function Qd(i,e){const t=_(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),zl(t)?ag(t):mc(t).ko()&&Xd(t,e))}function jc(i,e){const t=_(i),o=mc(t);t.du.delete(e),o.ko()&&Jd(t,e),0===t.du.size&&(o.ko()?o.Fo():pu(t)&&t.gu.set("Unknown"))}function Xd(i,e){i.yu.Ot(e.targetId),mc(i).zo(e)}function Jd(i,e){i.yu.Ot(e),mc(i).Ho(e)}function ag(i){i.yu=new tc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.du.get(e)||null}),mc(i).start(),i.gu.uu()}function zl(i){return pu(i)&&!mc(i).No()&&i.du.size>0}function pu(i){return 0===_(i)._u.size}function qm(i){i.yu=void 0}function Hc(i){return eh.apply(this,arguments)}function eh(){return eh=(0,C.Z)(function*(i){i.du.forEach((e,t)=>{Xd(i,e)})}),eh.apply(this,arguments)}function Km(i,e){return th.apply(this,arguments)}function th(){return th=(0,C.Z)(function*(i,e){qm(i),zl(i)?(i.gu.hu(e),ag(i)):i.gu.set("Unknown")}),th.apply(this,arguments)}function Zm(i,e,t){return mf.apply(this,arguments)}function mf(){return mf=(0,C.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Ph&&2===e.state&&e.cause)try{yield(o=(0,C.Z)(function*(u,l){const p=l.cause;for(const E of l.targetIds)u.du.has(E)&&(yield u.remoteSyncer.rejectListen(E,p),u.du.delete(E),u.yu.removeTarget(E))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield gc(i,o)}else if(e instanceof wd?i.yu.Kt(e):e instanceof Cp?i.yu.Jt(e):i.yu.jt(e),!t.isEqual(Pt.min()))try{const o=yield eg(i.localStore);t.compareTo(o)>=0&&(yield function(u,l){const p=u.yu.Zt(l);return p.targetChanges.forEach((E,N)=>{if(E.resumeToken.approximateByteSize()>0){const P=u.du.get(N);P&&u.du.set(N,P.withResumeToken(E.resumeToken,l))}}),p.targetMismatches.forEach(E=>{const N=u.du.get(E);if(!N)return;u.du.set(E,N.withResumeToken(ir.EMPTY_BYTE_STRING,N.snapshotVersion)),Jd(u,E);const P=new sc(N.target,E,1,N.sequenceNumber);Xd(u,P)}),u.remoteSyncer.applyRemoteEvent(p)}(i,t))}catch(o){rt("RemoteStore","Failed to raise snapshot:",o),yield gc(i,o)}var o}),mf.apply(this,arguments)}function gc(i,e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,C.Z)(function*(i,e,t){if(!eo(e))throw e;i._u.add(1),yield $c(i),i.gu.set("Offline"),t||(t=()=>eg(i.localStore)),i.asyncQueue.enqueueRetryable((0,C.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Gl(i)}))}),Uu.apply(this,arguments)}function nh(i,e){return e().catch(t=>gc(i,t,e))}function Ha(i){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,C.Z)(function*(i){const e=_(i),t=Vu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;rh(e);)try{const u=yield $m(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,ug(e,u)}catch(u){yield gc(e,u)}ih(e)&&sh(e)}),Wl.apply(this,arguments)}function rh(i){return pu(i)&&i.fu.length<10}function ug(i,e){i.fu.push(e);const t=Vu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ih(i){return pu(i)&&!Vu(i).No()&&i.fu.length>0}function sh(i){Vu(i).start()}function yf(i){return oh.apply(this,arguments)}function oh(){return oh=(0,C.Z)(function*(i){Vu(i).eu()}),oh.apply(this,arguments)}function vf(i){return _f.apply(this,arguments)}function _f(){return _f=(0,C.Z)(function*(i){const e=Vu(i);for(const t of i.fu)e.Xo(t.mutations)}),_f.apply(this,arguments)}function Ym(i,e,t){return ah.apply(this,arguments)}function ah(){return ah=(0,C.Z)(function*(i,e,t){const o=i.fu.shift(),u=Al.from(o,e,t);yield nh(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ha(i)}),ah.apply(this,arguments)}function Qm(i,e){return uh.apply(this,arguments)}function uh(){return uh=(0,C.Z)(function*(i,e){var t;e&&Vu(i).Yo&&(yield(t=(0,C.Z)(function*(o,u){if(Yu(l=u.code)&&l!==x.ABORTED){const p=o.fu.shift();Vu(o).Mo(),yield nh(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Ha(o)}var l}),function(o,u){return t.apply(this,arguments)})(i,e)),ih(i)&&sh(i)}),uh.apply(this,arguments)}function If(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,C.Z)(function*(i,e){const t=_(i);t.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const o=pu(t);t._u.add(3),yield $c(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Gl(t)}),wf.apply(this,arguments)}function io(){return io=(0,C.Z)(function*(i,e){const t=_(i);e?(t._u.delete(2),yield Gl(t)):e||(t._u.add(2),yield $c(t),t.gu.set("Unknown"))}),io.apply(this,arguments)}function mc(i){return i.pu||(i.pu=function(e,t,o){const u=_(e);return u.su(),new Hm(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:Hc.bind(null,i),Zr:Km.bind(null,i),Wo:Zm.bind(null,i)}),i.wu.push(function(){var e=(0,C.Z)(function*(t){t?(i.pu.Mo(),zl(i)?ag(i):i.gu.set("Unknown")):(yield i.pu.stop(),qm(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Vu(i){return i.Iu||(i.Iu=function(e,t,o){const u=_(e);return u.su(),new og(t,u.connection,u.authCredentials,u.appCheckCredentials,u.yt,o)}(i.datastore,i.asyncQueue,{Yr:yf.bind(null,i),Zr:Qm.bind(null,i),tu:vf.bind(null,i),Zo:Ym.bind(null,i)}),i.wu.push(function(){var e=(0,C.Z)(function*(t){t?(i.Iu.Mo(),yield Ha(i)):(yield i.Iu.stop(),i.fu.length>0&&(rt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class cg{constructor(e,t,o,u,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new U,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,o,u,l){const p=Date.now()+o,E=new cg(e,t,p,u,l);return E.start(o),E}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(i,e){if(pr("AsyncQueue",`${e}: ${i}`),eo(i))return new D(x.UNAVAILABLE,`${e}: ${i}`);throw i}class yc{constructor(e){this.comparator=e?(t,o)=>e(t,o)||lt.comparator(t.key,o.key):(t,o)=>lt.comparator(t.key,o.key),this.keyedMap=Ju(),this.sortedSet=new ge(this.comparator)}static emptySet(e){return new yc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new yc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class lg{constructor(){this.Tu=new ge(lt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Mt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Gc{constructor(e,t,o,u,l,p,E,N,P){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=p,this.syncStateChanged=E,this.excludesMetadataChanges=N,this.hasCachedResults=P}static fromInitialDocuments(e,t,o,u,l){const p=[];return t.forEach(E=>{p.push({type:0,doc:E})}),new Gc(e,t,yc.emptySet(t),p,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Xm{constructor(){this.Au=void 0,this.listeners=[]}}class dg{constructor(){this.queries=new Fo(e=>kh(e),Wu),this.onlineState="Unknown",this.Ru=new Set}}function Tf(){return Tf=(0,C.Z)(function*(i,e){const t=_(i),o=e.query;let u=!1,l=t.queries.get(o);if(l||(u=!0,l=new Xm),u)try{l.Au=yield t.onListen(o)}catch(p){const E=Bu(p,`Initialization of query '${md(e.query)}' failed`);return void e.onError(E)}t.queries.set(o,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&Cf(t)}),Tf.apply(this,arguments)}function bf(){return bf=(0,C.Z)(function*(i,e){const t=_(i),o=e.query;let u=!1;const l=t.queries.get(o);if(l){const p=l.listeners.indexOf(e);p>=0&&(l.listeners.splice(p,1),u=0===l.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),bf.apply(this,arguments)}function Jm(i,e){const t=_(i);let o=!1;for(const u of e){const p=t.queries.get(u.query);if(p){for(const E of p.listeners)E.Pu(u)&&(o=!0);p.Au=u}}o&&Cf(t)}function ey(i,e,t){const o=_(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(t);o.queries.delete(e)}function Cf(i){i.Ru.forEach(e=>{e.next()})}class Sf{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Gc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class Af{constructor(e){this.key=e}}class fg{constructor(e){this.key=e}}class pg{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Cn(),this.mutatedKeys=Cn(),this.Gu=qu(e),this.Qu=new yc(this.Gu)}get ju(){return this.qu}Wu(e,t){const o=t?t.zu:new lg,u=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,p=u,E=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,P="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((j,J)=>{const Ee=u.get(j),Ke=fl(this.query,J)?J:null,st=!!Ee&&this.mutatedKeys.has(Ee.key),Rt=!!Ke&&(Ke.hasLocalMutations||this.mutatedKeys.has(Ke.key)&&Ke.hasCommittedMutations);let Zt=!1;Ee&&Ke?Ee.data.isEqual(Ke.data)?st!==Rt&&(o.track({type:3,doc:Ke}),Zt=!0):this.Hu(Ee,Ke)||(o.track({type:2,doc:Ke}),Zt=!0,(N&&this.Gu(Ke,N)>0||P&&this.Gu(Ke,P)<0)&&(E=!0)):!Ee&&Ke?(o.track({type:0,doc:Ke}),Zt=!0):Ee&&!Ke&&(o.track({type:1,doc:Ee}),Zt=!0,(N||P)&&(E=!0)),Zt&&(Ke?(p=p.add(Ke),l=Rt?l.add(j):l.delete(j)):(p=p.delete(j),l=l.delete(j)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const j="F"===this.query.limitType?p.last():p.first();p=p.delete(j.key),l=l.delete(j.key),o.track({type:1,doc:j})}return{Qu:p,zu:o,$i:E,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((P,j)=>function(J,Ee){const Ke=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return Ke(J)-Ke(Ee)}(P.type,j.type)||this.Gu(P.doc,j.doc)),this.Ju(o);const p=t?this.Yu():[],E=0===this.Ku.size&&this.current?1:0,N=E!==this.Uu;return this.Uu=E,0!==l.length||N?{snapshot:new Gc(this.query,e.Qu,u,l,e.mutatedKeys,0===E,N,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new lg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Cn(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new fg(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Af(o))}),t}tc(e){this.qu=e.Hi,this.Ku=Cn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Gc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class ny{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class xf{constructor(e){this.key=e,this.nc=!1}}class ry{constructor(e,t,o,u,l,p){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new Fo(E=>kh(E),Wu),this.rc=new Map,this.oc=new Set,this.uc=new ge(lt.comparator),this.cc=new Map,this.ac=new ef,this.hc={},this.lc=new Map,this.fc=lu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function iy(i,e){return zc.apply(this,arguments)}function zc(){return zc=(0,C.Z)(function*(i,e){const t=Kc(i);let o,u;const l=t.ic.get(e);if(l)o=l.targetId,t.sharedClientState.addLocalQueryTarget(o),u=l.view.ec();else{const p=yield fc(t.localStore,Wi(e));t.isPrimaryClient&&Qd(t.remoteStore,p);const E=t.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield Kl(t,e,o,"current"===E,p.resumeToken)}return u}),zc.apply(this,arguments)}function Kl(i,e,t,o,u){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,C.Z)(function*(i,e,t,o,u){i._c=(J,Ee,Ke)=>{return(st=(0,C.Z)(function*(Rt,Zt,Br,Pr){let Dr=Zt.view.Wu(Br);Dr.$i&&(Dr=yield $d(Rt.localStore,Zt.query,!1).then(({documents:Jn})=>Zt.view.Wu(Jn,Dr)));const rs=Pr&&Pr.targetChanges.get(Zt.targetId),Or=Zt.view.applyChanges(Dr,Rt.isPrimaryClient,rs);return yg(Rt,Zt.targetId,Or.Xu),Or.snapshot}),function(Rt,Zt,Br,Pr){return st.apply(this,arguments)})(i,J,Ee,Ke);var st};const l=yield $d(i.localStore,e,!0),p=new pg(e,l.Hi),E=p.Wu(l.documents),N=ec.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),P=p.applyChanges(E,i.isPrimaryClient,N);yg(i,t,P.Xu);const j=new ny(e,t,p);return i.ic.set(e,j),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),P.snapshot}),Wc.apply(this,arguments)}function $v(i,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,C.Z)(function*(i,e){const t=_(i),o=t.ic.get(e),u=t.rc.get(o.targetId);if(u.length>1)return t.rc.set(o.targetId,u.filter(l=>!Wu(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Bc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),jc(t.remoteStore,o.targetId),za(t,o.targetId)}).catch(ii))):(za(t,o.targetId),yield Bc(t.localStore,o.targetId,!0))}),Zl.apply(this,arguments)}function lh(){return lh=(0,C.Z)(function*(i,e,t){const o=mu(i);try{const u=yield function(l,p){const E=_(l),N=An.now(),P=p.reduce((Ee,Ke)=>Ee.add(Ke.key),Cn());let j,J;return E.persistence.runTransaction("Locally write mutations","readwrite",Ee=>{let Ke=ts(),st=Cn();return E.Gi.getEntries(Ee,P).next(Rt=>{Ke=Rt,Ke.forEach((Zt,Br)=>{Br.isValidDocument()||(st=st.add(Zt))})}).next(()=>E.localDocuments.getOverlayedDocuments(Ee,Ke)).next(Rt=>{j=Rt;const Zt=[];for(const Br of p){const Pr=Nt(Br,j.get(Br.key).overlayedDocument);null!=Pr&&Zt.push(new Hn(Br.key,Pr,oi(Pr.value.mapValue),f.exists(!0)))}return E.mutationQueue.addMutationBatch(Ee,N,Zt,p)}).next(Rt=>{J=Rt;const Zt=Rt.applyToLocalDocumentSet(j,st);return E.documentOverlayCache.saveOverlays(Ee,Rt.batchId,Zt)})}).then(()=>({batchId:J.batchId,changes:Id(j)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,p,E){let N=l.hc[l.currentUser.toKey()];N||(N=new ge(Ht)),N=N.insert(p,E),l.hc[l.currentUser.toKey()]=N}(o,u.batchId,t),yield gu(o,u.changes),yield Ha(o.remoteStore)}catch(u){const l=Bu(u,"Failed to persist write");t.reject(l)}}),lh.apply(this,arguments)}function Mf(i,e){return dh.apply(this,arguments)}function dh(){return dh=(0,C.Z)(function*(i,e){const t=_(i);try{const o=yield Bm(t.localStore,e);e.targetChanges.forEach((u,l)=>{const p=t.cc.get(l);p&&(wt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.nc=!0:u.modifiedDocuments.size>0?wt(p.nc):u.removedDocuments.size>0&&(wt(p.nc),p.nc=!1))}),yield gu(t,o,e)}catch(o){yield ii(o)}}),dh.apply(this,arguments)}function Rf(i,e,t){const o=_(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ic.forEach((l,p)=>{const E=p.view.bu(e);E.snapshot&&u.push(E.snapshot)}),function(l,p){const E=_(l);E.onlineState=p;let N=!1;E.queries.forEach((P,j)=>{for(const J of j.listeners)J.bu(p)&&(N=!0)}),N&&Cf(E)}(o.eventManager,e),u.length&&o.sc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Nf(i,e,t){return wa.apply(this,arguments)}function wa(){return wa=(0,C.Z)(function*(i,e,t){const o=_(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.cc.get(e),l=u&&u.key;if(l){let p=new ge(lt.comparator);p=p.insert(l,Kn.newNoDocument(l,Pt.min()));const E=Cn().add(l),N=new kc(Pt.min(),new Map,new ft(Ht),p,E);yield Mf(o,N),o.uc=o.uc.remove(l),o.cc.delete(e),Ff(o)}else yield Bc(o.localStore,e,!1).then(()=>za(o,e,t)).catch(ii)}),wa.apply(this,arguments)}function hh(i,e){return qc.apply(this,arguments)}function qc(){return qc=(0,C.Z)(function*(i,e){const t=_(i),o=e.batch.batchId;try{const u=yield Jp(t.localStore,e);Of(t,o,null),Pf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield gu(t,u)}catch(u){yield ii(u)}}),qc.apply(this,arguments)}function Yl(i,e,t){return kf.apply(this,arguments)}function kf(){return kf=(0,C.Z)(function*(i,e,t){const o=_(i);try{const u=yield function(l,p){const E=_(l);return E.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let P;return E.mutationQueue.lookupMutationBatch(N,p).next(j=>(wt(null!==j),P=j.keys(),E.mutationQueue.removeMutationBatch(N,j))).next(()=>E.mutationQueue.performConsistencyCheck(N)).next(()=>E.documentOverlayCache.removeOverlaysForBatchId(N,P,p)).next(()=>E.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,P)).next(()=>E.localDocuments.getDocuments(N,P))})}(o.localStore,e);Of(o,e,t),Pf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield gu(o,u)}catch(u){yield ii(u)}}),kf.apply(this,arguments)}function Pf(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Of(i,e,t){const o=_(i);let u=o.hc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(t?l.reject(t):l.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function za(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),t&&i.sc.wc(o,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||mg(i,o)})}function mg(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(jc(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Ff(i))}function yg(i,e,t){for(const o of t)o instanceof Af?(i.ac.addReference(o.key,e),sy(i,o)):o instanceof fg?(rt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||mg(i,o.key)):Mt()}function sy(i,e){const t=e.key,o=t.path.canonicalString();i.uc.get(t)||i.oc.has(o)||(rt("SyncEngine","New document in limbo: "+t),i.oc.add(o),Ff(i))}function Ff(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new lt(_n.fromString(e)),o=i.fc.next();i.cc.set(o,new xf(t)),i.uc=i.uc.insert(t,o),Qd(i.remoteStore,new sc(Wi(zu(t.path)),o,2,ti.at))}}function gu(i,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,C.Z)(function*(i,e,t){const o=_(i),u=[],l=[],p=[];var E;o.ic.isEmpty()||(o.ic.forEach((E,N)=>{p.push(o._c(N,e,t).then(P=>{if((P||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(N.targetId,P?.fromCache?"not-current":"current"),P){u.push(P);const j=tf.Ci(N.targetId,P);l.push(j)}}))}),yield Promise.all(p),o.sc.Wo(u),yield(E=(0,C.Z)(function*(N,P){const j=_(N);try{yield j.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>Ce.forEach(P,Ee=>Ce.forEach(Ee.Si,Ke=>j.persistence.referenceDelegate.addReference(J,Ee.targetId,Ke)).next(()=>Ce.forEach(Ee.Di,Ke=>j.persistence.referenceDelegate.removeReference(J,Ee.targetId,Ke)))))}catch(J){if(!eo(J))throw J;rt("LocalStore","Failed to update sequence numbers: "+J)}for(const J of P){const Ee=J.targetId;if(!J.fromCache){const Ke=j.qi.get(Ee),Rt=Ke.withLastLimboFreeSnapshotVersion(Ke.snapshotVersion);j.qi=j.qi.insert(Ee,Rt)}}}),function(N,P){return E.apply(this,arguments)})(o.localStore,l))}),Lf.apply(this,arguments)}function oy(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,C.Z)(function*(i,e){const t=_(i);if(!t.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const o=yield ia(t.localStore,e);t.currentUser=e,(u=t).lc.forEach(p=>{p.forEach(E=>{E.reject(new D(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield gu(t,o.ji)}var u}),Uf.apply(this,arguments)}function ay(i,e){const t=_(i),o=t.cc.get(e);if(o&&o.nc)return Cn().add(o.key);{let u=Cn();const l=t.rc.get(e);if(!l)return u;for(const p of l){const E=t.ic.get(p);u=u.unionWith(E.view.ju)}return u}}function Kc(i){const e=_(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ay.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nf.bind(null,e),e.sc.Wo=Jm.bind(null,e.eventManager),e.sc.wc=ey.bind(null,e.eventManager),e}function mu(i){const e=_(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yl.bind(null,e),e}class gh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,C.Z)(function*(){t.yt=qd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Xp(i,e,t,o){return new Vm(i,e,t,o)}(this.persistence,new nf,e.initialUser,this.yt)}yc(e){return new hc(Ld.Bs,this.yt)}gc(e){return new Wd}terminate(){var e=this;return(0,C.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jl{initialize(e,t){var o=this;return(0,C.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Rf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=oy.bind(null,o.syncEngine),yield function Ef(i,e){return io.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dg}createDatastore(e){const t=qd(e.databaseInfo.databaseId),o=new Bv(e.databaseInfo);return new Kd(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,l=E=>Rf(this.syncEngine,E,0),p=ig.C()?new ig:new ff,new Wm(t,o,u,l,p);var t,o,u,l,p}createSyncEngine(e,t){return function(o,u,l,p,E,N,P){const j=new ry(o,u,l,p,E,N);return P&&(j.dc=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,C.Z)(function*(t){const o=_(t);rt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield $c(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hf(i,e,t){if(!t)throw new D(x.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Zc(i){if(!lt.isDocumentKey(i))throw new D(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ts(i){if(lt.isDocumentKey(i))throw new D(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function qa(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Mt()}function Ln(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new D(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qa(i);throw new D(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}const mh=new Map;class vc{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new D(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Wa(i,e,t,o){if(!0===e&&!0===o)throw new D(x.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ka{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vc(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Re;switch(t.type){case"gapi":return new Tn(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new D(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mh.get(e);t&&(rt("ComponentProvider","Removing Datastore"),mh.delete(e),t.terminate())}(this),Promise.resolve()}}class Vr{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class gi{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class so extends gi{constructor(e,t,o){super(e,t,zu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new lt(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function Qc(i,e,...t){if(i=(0,pe.m9)(i),Hf("collection","path",e),i instanceof Ka){const o=_n.fromString(e,...t);return Ts(o),new so(i,null,o)}{if(!(i instanceof Vr||i instanceof so))throw new D(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(_n.fromString(e,...t));return Ts(o),new so(i.firestore,null,o)}}function _c(i,e,...t){if(i=(0,pe.m9)(i),1===arguments.length&&(e=sn.R()),Hf("doc","path",e),i instanceof Ka){const o=_n.fromString(e,...t);return Zc(o),new Vr(i,null,new lt(o))}{if(!(i instanceof Vr||i instanceof so))throw new D(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(_n.fromString(e,...t));return Zc(o),new Vr(i.firestore,i instanceof so?i.converter:null,new lt(o))}}class td{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class my{constructor(e,t,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Jr.UNAUTHENTICATED,this.clientId=sn.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,C.Z)(function*(E){rt("FirestoreClient","Received user=",E.uid),yield l.authCredentialListener(E),l.user=E});return function(E){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(rt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,C.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new U;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,C.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Bu(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Wf(i,e){return qf.apply(this,arguments)}function qf(){return qf=(0,C.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,C.Z)(function*(l){o.isEqual(l)||(yield ia(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),qf.apply(this,arguments)}function Sg(i,e){return nd.apply(this,arguments)}function nd(){return nd=(0,C.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield rd(i);rt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>If(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>If(e.remoteStore,l)),i.onlineComponents=e}),nd.apply(this,arguments)}function rd(i){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,C.Z)(function*(i){return i.offlineComponents||(rt("FirestoreClient","Using default OfflineComponentProvider"),yield Wf(i,new gh)),i.offlineComponents}),Kf.apply(this,arguments)}function Ic(i){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,C.Z)(function*(i){return i.onlineComponents||(rt("FirestoreClient","Using default OnlineComponentProvider"),yield Sg(i,new Jl)),i.onlineComponents}),Xc.apply(this,arguments)}function wc(i){return od.apply(this,arguments)}function od(){return od=(0,C.Z)(function*(i){const e=yield Ic(i),t=e.eventManager;return t.onListen=iy.bind(null,e.syncEngine),t.onUnlisten=$v.bind(null,e.syncEngine),t}),od.apply(this,arguments)}class vy{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new pf(this,"async_queue_retry"),this.Wc=()=>{const t=Hl();t&&rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Hl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Hl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new U;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,C.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!eo(t))throw t;rt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,pr("INTERNAL UNHANDLED ERROR: ",function(l){let p=l.message||"";return l.stack&&(p=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),p}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=t,t}enqueueAfterDelay(e,t,o){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const u=cg.createAndSchedule(this,e,t,o,l=>this.Yc(l));return this.Uc.push(u),u}zc(){this.Kc&&Mt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,C.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Jf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class kr extends Ka{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new vy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ep(this),this._firestoreClient.terminate()}}function kg(i,e){const t="object"==typeof i?i:(0,$.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,$.qX)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,pe.P0)("firestore");l&&function Yc(i,e,t,o={}){var u;const l=(i=Ln(i,Ka))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&jn("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let p,E;if("string"==typeof o.mockUserToken)p=o.mockUserToken,E=Jr.MOCK_USER;else{p=(0,pe.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const N=o.mockUserToken.sub||o.mockUserToken.user_id;if(!N)throw new D(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jr(N)}i._authCredentials=new We(new Y(p,E))}}(u,...l)}return u}function Di(i){return i._firestoreClient||ep(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ep(i){var e;const t=i._freezeSettings(),o=(l=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Eu(i._databaseId,l,i._persistenceKey,(E=t).host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,E.useFetchStreams));var l,E;i._firestoreClient=new my(i._authCredentials,i._appCheckCredentials,i._queue,o)}class Dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dc(ir.fromBase64String(e))}catch(t){throw new D(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dc(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._methodName=e}}class rp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const Cy=/^__.*__$/;class Og{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Hn(e,this.data,this.fieldMask,t,this.fieldTransforms):new ln(e,this.data,t,this.fieldTransforms)}}function Fi(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class ad{constructor(e,t,o,u,l,p){this.settings=e,this.databaseId=t,this.yt=o,this.ignoreUndefinedProperties=u,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Do(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Fi(this.sa)&&Cy.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Sy{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=o||qd(e)}da(e,t,o,u=!1){return new ad({sa:e,methodName:t,fa:o,path:Xn.emptyPath(),oa:!1,la:u},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function el(i){const e=i._freezeSettings(),t=qd(i._databaseId);return new Sy(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Ih(i,e,t,o,u,l={}){const p=i.da(l.merge||l.mergeFields?2:0,e,t,u);sa("Data must be an object, but it was:",p,o);const E=ap(o,p);let N,P;if(l.merge)N=new $t(p.fieldMask),P=p.fieldTransforms;else if(l.mergeFields){const j=[];for(const J of l.mergeFields){const Ee=up(e,J,t);if(!p.contains(Ee))throw new D(x.INVALID_ARGUMENT,`Field '${Ee}' is specified in your field mask but missing from your input data.`);oa(j,Ee)||j.push(Ee)}N=new $t(j),P=p.fieldTransforms.filter(J=>N.covers(J.field))}else N=null,P=p.fieldTransforms;return new Og(new or(E),N,P)}function nl(i,e){if(Eh(i=(0,pe.m9)(i)))return sa("Unsupported field value:",e,i),ap(i,e);if(i instanceof by)return function(t,o){if(!Fi(o.sa))throw o.ha(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,o){const u=[];let l=0;for(const p of t){let E=nl(p,o.aa(l));null==E&&(E={nullValue:"NULL_VALUE"}),u.push(E),l++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,pe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Po(o.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=An.fromDate(t);return{timestampValue:nc(o.yt,u)}}if(t instanceof An){const u=new An(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:nc(o.yt,u)}}if(t instanceof rp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dc)return{bytesValue:Uh(o.yt,t._byteString)};if(t instanceof Vr){const u=o.databaseId,l=t.firestore._databaseId;if(!l.isEqual(u))throw o.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ha(`Unsupported field value: ${qa(t)}`)}(i,e)}function ap(i,e){const t={};return Pa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(i,(o,u)=>{const l=nl(u,e.ra(o));null!=l&&(t[o]=l)}),{mapValue:{fields:t}}}function Eh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof An||i instanceof rp||i instanceof Dc||i instanceof Vr||i instanceof by)}function sa(i,e,t){if(!Eh(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=qa(t);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function up(i,e,t){if((e=(0,pe.m9)(e))instanceof $u)return e._internalPath;if("string"==typeof e)return Uo(i,e);throw Do("Field path arguments must be of type string or ",i,!1,void 0,t)}const My=new RegExp("[~\\*/\\[\\]]");function Uo(i,e,t){if(e.search(My)>=0)throw Do(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new $u(...e.split("."))._internalPath}catch{throw Do(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Do(i,e,t,o,u){const l=o&&!o.isEmpty(),p=void 0!==u;let E=`Function ${e}() called with invalid data`;t&&(E+=" (via `toFirestore()`)"),E+=". ";let N="";return(l||p)&&(N+=" (found",l&&(N+=` in field ${o}`),p&&(N+=` in document ${u}`),N+=")"),new D(x.INVALID_ARGUMENT,E+i+N)}function oa(i,e){return i.some(t=>t.isEqual(e))}class Dh{constructor(e,t,o,u,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ug(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ug extends Dh{data(){return super.data()}}function Th(i,e){return"string"==typeof e?Uo(i,e):e instanceof $u?e._internalPath:e._delegate._internalPath}class Uy{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){const o={};return vs(e.fields,(u,l)=>{o[u]=this.convertValue(l,t)}),o}convertGeoPoint(e){return new rp(qn(e.latitude),qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=zi(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Io(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new An(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=_n.fromString(e);wt(jh(o));const u=new Mo(o.get(1),o.get(3)),l=new lt(o.popFirst(5));return u.isEqual(t)||pr(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class bc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class il extends Dh{constructor(e,t,o,u,l,p){super(e,t,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Sh extends il{data(e={}){return super.data(e)}}class sl{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new bc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Sh(this._firestore,this._userDataWriter,o.key,o,new bc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Sh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const E=new Sh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new bc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let N=-1,P=-1;return 0!==p.type&&(N=l.indexOf(p.doc.key),l=l.delete(p.doc.key)),1!==p.type&&(l=l.add(p.doc),P=l.indexOf(p.doc.key)),{type:Vy(p.type),doc:E,oldIndex:N,newIndex:P}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}class ju extends Uy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,t)}}function Gg(i){return ol(Ln(i.firestore,kr),[new _a(i._key,f.none())])}function zg(i,e){const t=Ln(i.firestore,kr),o=_c(i),u=function pp(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}(i.converter,e);return ol(t,[Ih(el(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,f.exists(!1))]).then(()=>o)}function Wg(i,...e){var t,o,u;i=(0,pe.m9)(i);let l={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Jf(e[p])||(l=e[p],p++);const E={includeMetadataChanges:l.includeMetadataChanges};if(Jf(e[p])){const J=e[p];e[p]=null===(t=J.next)||void 0===t?void 0:t.bind(J),e[p+1]=null===(o=J.error)||void 0===o?void 0:o.bind(J),e[p+2]=null===(u=J.complete)||void 0===u?void 0:u.bind(J)}let N,P,j;if(i instanceof Vr)P=Ln(i.firestore,kr),j=zu(i._key.path),N={next:J=>{e[p]&&e[p](function Ah(i,e,t){const o=t.docs.get(e._key),u=new ju(i);return new il(i,u,e._key,o,new bc(t.hasPendingWrites,t.fromCache),e.converter)}(P,i,J))},error:e[p+1],complete:e[p+2]};else{const J=Ln(i,gi);P=Ln(J.firestore,kr),j=J._query;const Ee=new ju(P);N={next:Ke=>{e[p]&&e[p](new sl(P,Ee,J,Ke))},error:e[p+1],complete:e[p+2]},function Vg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new D(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(J,Ee,Ke,st){const Rt=new td(st),Zt=new Sf(Ee,Rt,Ke);return J.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function Df(i,e){return Tf.apply(this,arguments)}(yield wc(J),Zt)})),()=>{Rt.bc(),J.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function ql(i,e){return bf.apply(this,arguments)}(yield wc(J),Zt)}))}}(Di(P),j,E,N)}function ol(i,e){return function(t,o){const u=new U;return t.asyncQueue.enqueueAndForget((0,C.Z)(function*(){return function jv(i,e,t){return lh.apply(this,arguments)}(yield function sd(i){return Ic(i).then(e=>e.syncEngine)}(t),o,u)})),u.promise}(Di(i),e)}!function(i,e=!0){Pi=$.Jn,(0,$.Xd)(new ae.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const l=t.getProvider("app").getImmediate(),p=new kr(new gt(t.getProvider("auth-internal")),new hn(t.getProvider("app-check-internal")),function(E,N){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new D(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(E.options.projectId,N)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,$.KN)(Qa,"3.8.1",i),(0,$.KN)(Qa,"3.8.1","esm2017")}()},2090:(zt,Ye,H)=>{H.d(Ye,{$s:()=>ke,BH:()=>je,L:()=>De,LL:()=>un,P0:()=>St,Pz:()=>Pe,Sg:()=>Ze,US:()=>Le,ZR:()=>pn,aH:()=>tt,b$:()=>oe,eu:()=>Pn,hl:()=>rn,m9:()=>Jt,ne:()=>ur,pd:()=>li,q4:()=>Ct,ru:()=>Q,tV:()=>$e,uI:()=>ce,vZ:()=>Dt,w1:()=>ye,xO:()=>tr,xb:()=>ar,z$:()=>dt,zI:()=>mt,zd:()=>nr});const ne=function(X){const Z=[];let te=0;for(let He=0;He<X.length;He++){let Te=X.charCodeAt(He);Te<128?Z[te++]=Te:Te<2048?(Z[te++]=Te>>6|192,Z[te++]=63&Te|128):55296==(64512&Te)&&He+1<X.length&&56320==(64512&X.charCodeAt(He+1))?(Te=65536+((1023&Te)<<10)+(1023&X.charCodeAt(++He)),Z[te++]=Te>>18|240,Z[te++]=Te>>12&63|128,Z[te++]=Te>>6&63|128,Z[te++]=63&Te|128):(Z[te++]=Te>>12|224,Z[te++]=Te>>6&63|128,Z[te++]=63&Te|128)}return Z},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,Z){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let Te=0;Te<X.length;Te+=3){const yt=X[Te],qt=Te+1<X.length,an=qt?X[Te+1]:0,mr=Te+2<X.length,me=mr?X[Te+2]:0;let _e=(15&an)<<2|me>>6,Xe=63&me;mr||(Xe=64,qt||(_e=64)),He.push(te[yt>>2],te[(3&yt)<<4|an>>4],te[_e],te[Xe])}return He.join("")},encodeString(X,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(X):this.encodeByteArray(ne(X),Z)},decodeString(X,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(X):function(X){const Z=[];let te=0,He=0;for(;te<X.length;){const Te=X[te++];if(Te<128)Z[He++]=String.fromCharCode(Te);else if(Te>191&&Te<224){const yt=X[te++];Z[He++]=String.fromCharCode((31&Te)<<6|63&yt)}else if(Te>239&&Te<365){const mr=((7&Te)<<18|(63&X[te++])<<12|(63&X[te++])<<6|63&X[te++])-65536;Z[He++]=String.fromCharCode(55296+(mr>>10)),Z[He++]=String.fromCharCode(56320+(1023&mr))}else{const yt=X[te++],qt=X[te++];Z[He++]=String.fromCharCode((15&Te)<<12|(63&yt)<<6|63&qt)}}return Z.join("")}(this.decodeStringToByteArray(X,Z))},decodeStringToByteArray(X,Z){this.init_();const te=Z?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let Te=0;Te<X.length;){const yt=te[X.charAt(Te++)],an=Te<X.length?te[X.charAt(Te)]:0;++Te;const me=Te<X.length?te[X.charAt(Te)]:64;++Te;const z=Te<X.length?te[X.charAt(Te)]:64;if(++Te,null==yt||null==an||null==me||null==z)throw Error();He.push(yt<<2|an>>4),64!==me&&(He.push(an<<4&240|me>>2),64!==z&&He.push(me<<6&192|z))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}},De=function(X){return function(X){const Z=ne(X);return Le.encodeByteArray(Z,!0)}(X).replace(/\./g,"")},$e=function(X){try{return Le.decodeString(X,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null},kt=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=X&&$e(X[1]);return Z&&JSON.parse(Z)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Ct=X=>{var Z,te;return null===(te=null===(Z=kt())||void 0===Z?void 0:Z.emulatorHosts)||void 0===te?void 0:te[X]},St=X=>{const Z=Ct(X);if(!Z)return;const te=Z.lastIndexOf(":");if(te<=0||te+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const He=parseInt(Z.substring(te+1),10);return"["===Z[0]?[Z.substring(1,te-1),He]:[Z.substring(0,te),He]},tt=()=>{var X;return null===(X=kt())||void 0===X?void 0:X.config},Pe=X=>{var Z;return null===(Z=kt())||void 0===Z?void 0:Z[`_${X}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,te)=>{this.resolve=Z,this.reject=te})}wrapCallback(Z){return(te,He)=>{te?this.reject(te):this.resolve(He),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(te):Z(te,He))}}}function Ze(X,Z){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=Z||"demo-project",Te=X.iat||0,yt=X.sub||X.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qt=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:Te,exp:Te+3600,auth_time:Te,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},X);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(qt)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Q(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){const X=dt();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function rn(){try{return"object"==typeof indexedDB}catch{return!1}}function Pn(){return new Promise((X,Z)=>{try{let te=!0;const He="validate-browser-context-for-indexeddb-analytics-module",Te=self.indexedDB.open(He);Te.onsuccess=()=>{Te.result.close(),te||self.indexedDB.deleteDatabase(He),X(!0)},Te.onupgradeneeded=()=>{te=!1},Te.onerror=()=>{var yt;Z((null===(yt=Te.error)||void 0===yt?void 0:yt.message)||"")}}catch(te){Z(te)}})}function mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class pn extends Error{constructor(Z,te,He){super(te),this.code=Z,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(Z,te,He){this.service=Z,this.serviceName=te,this.errors=He}create(Z,...te){const He=te[0]||{},Te=`${this.service}/${Z}`,yt=this.errors[Z],qt=yt?function Tr(X,Z){return X.replace(Qt,(te,He)=>{const Te=Z[He];return null!=Te?String(Te):`<${He}?>`})}(yt,He):"Error";return new pn(Te,`${this.serviceName}: ${qt} (${Te}).`,He)}}const Qt=/\{\$([^}]+)}/g;function ar(X){for(const Z in X)if(Object.prototype.hasOwnProperty.call(X,Z))return!1;return!0}function Dt(X,Z){if(X===Z)return!0;const te=Object.keys(X),He=Object.keys(Z);for(const Te of te){if(!He.includes(Te))return!1;const yt=X[Te],qt=Z[Te];if($n(yt)&&$n(qt)){if(!Dt(yt,qt))return!1}else if(yt!==qt)return!1}for(const Te of He)if(!te.includes(Te))return!1;return!0}function $n(X){return null!==X&&"object"==typeof X}function tr(X){const Z=[];for(const[te,He]of Object.entries(X))Array.isArray(He)?He.forEach(Te=>{Z.push(encodeURIComponent(te)+"="+encodeURIComponent(Te))}):Z.push(encodeURIComponent(te)+"="+encodeURIComponent(He));return Z.length?"&"+Z.join("&"):""}function nr(X){const Z={};return X.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[Te,yt]=He.split("=");Z[decodeURIComponent(Te)]=decodeURIComponent(yt)}}),Z}function li(X){const Z=X.indexOf("?");if(!Z)return"";const te=X.indexOf("#",Z);return X.substring(Z,te>0?te:void 0)}function ur(X,Z){const te=new on(X,Z);return te.subscribe.bind(te)}class on{constructor(Z,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{Z(this)}).catch(He=>{this.error(He)})}next(Z){this.forEachObserver(te=>{te.next(Z)})}error(Z){this.forEachObserver(te=>{te.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,te,He){let Te;if(void 0===Z&&void 0===te&&void 0===He)throw new Error("Missing Observer.");Te=function nt(X,Z){if("object"!=typeof X||null===X)return!1;for(const te of Z)if(te in X&&"function"==typeof X[te])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:te,complete:He},void 0===Te.next&&(Te.next=Xt),void 0===Te.error&&(Te.error=Xt),void 0===Te.complete&&(Te.complete=Xt);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Te.error(this.finalError):Te.complete()}catch{}}),this.observers.push(Te),yt}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,Z)}sendOne(Z,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{te(this.observers[Z])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xt(){}function ke(X,Z=1e3,te=2){const He=Z*Math.pow(te,X),Te=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+Te)}function Jt(X){return X&&X._delegate?X._delegate:X}},526:(zt,Ye,H)=>{var C=H(1481),$=H(1766),ae=H(8256),ne=H(9635),pe=H(4004),Le=H(5698),Be=H(7323);H(259);const $e=(0,pe.U)(ie=>!!ie);let K=(()=>{class ie{constructor(oe,xe){this.router=oe,this.auth=xe,this.canActivate=(ye,Ge)=>{const be=ye.data.authGuardPipe||(()=>$e);return(0,Be.EA)(this.auth).pipe((0,Le.q)(1),be(ye,Ge),(0,pe.U)(ht=>"boolean"==typeof ht?ht:Array.isArray(ht)?this.router.createUrlTree(ht):this.router.parseUrl(ht)))}}}return ie.\u0275fac=function(oe){return new(oe||ie)(ae.LFG($.F0),ae.LFG(Be.gx))},ie.\u0275prov=ae.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"any"}),ie})();const ee=ie=>({canActivate:[K],data:{authGuardPipe:ie}}),tt=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"dashboard",loadChildren:()=>Promise.all([H.e(592),H.e(723)]).then(H.bind(H,4723)).then(ie=>ie.DashboardModule),...ee(()=>{return ie=["/auth"],(0,ne.z)($e,(0,pe.U)(Q=>Q||ie));var ie})},{path:"auth",loadChildren:()=>Promise.all([H.e(5),H.e(592),H.e(324)]).then(H.bind(H,3324)).then(ie=>ie.AuthModule),...ee(()=>{return ie=["/dashboard"],(0,ne.z)($e,(0,pe.U)(Q=>Q&&ie||!0));var ie})},{path:"**",pathMatch:"full",redirectTo:""}];class Pe{}Pe.\u0275fac=function(Q){return new(Q||Pe)},Pe.\u0275mod=ae.oAB({type:Pe}),Pe.\u0275inj=ae.cJS({imports:[$.Bz.forRoot(tt),$.Bz]});class je{constructor(){this.title="authentication"}}je.\u0275fac=function(Q){return new(Q||je)},je.\u0275cmp=ae.Xpm({type:je,selectors:[["app-root"]],decls:1,vars:0,template:function(Q,oe){1&Q&&ae._UZ(0,"router-outlet")},dependencies:[$.lC]});var Ze=H(3692);const dt_firebase={projectId:"angular-bjb",appId:"1:502488083565:web:64ccecf8a41bffeba1a364",storageBucket:"angular-bjb.appspot.com",apiKey:"AIzaSyAa3nUB0aQUZ2Cde_oieuwHJm6Oqwhxhug",authDomain:"angular-bjb.firebaseapp.com",messagingSenderId:"502488083565"};var ce=H(89);class Se{}Se.\u0275fac=function(Q){return new(Q||Se)},Se.\u0275mod=ae.oAB({type:Se,bootstrap:[je]}),Se.\u0275inj=ae.cJS({imports:[C.b2,Pe,(0,Ze.hX)(()=>(0,Ze.ZF)(dt_firebase)),(0,Be.AR)(()=>(0,Be.v0)()),(0,ce.Cm)(()=>(0,ce.ad)())]}),C.q6().bootstrapModule(Se).catch(ie=>console.error(ie))},9751:(zt,Ye,H)=>{H.d(Ye,{y:()=>De});var C=H(2961),$=H(727),ae=H(8822),ne=H(9635),pe=H(2416),Le=H(576),Be=H(2806);let De=(()=>{class Me{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const at=new Me;return at.source=this,at.operator=Ne,at}subscribe(Ne,at,Et){const kt=function ee(Me){return Me&&Me instanceof C.Lv||function K(Me){return Me&&(0,Le.m)(Me.next)&&(0,Le.m)(Me.error)&&(0,Le.m)(Me.complete)}(Me)&&(0,$.Nn)(Me)}(Ne)?Ne:new C.Hp(Ne,at,Et);return(0,Be.x)(()=>{const{operator:Ct,source:St}=this;kt.add(Ct?Ct.call(kt,St):St?this._subscribe(kt):this._trySubscribe(kt))}),kt}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(at){Ne.error(at)}}forEach(Ne,at){return new(at=$e(at))((Et,kt)=>{const Ct=new C.Hp({next:St=>{try{Ne(St)}catch(tt){kt(tt),Ct.unsubscribe()}},error:kt,complete:Et});this.subscribe(Ct)})}_subscribe(Ne){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe(Ne)}[ae.L](){return this}pipe(...Ne){return(0,ne.U)(Ne)(this)}toPromise(Ne){return new(Ne=$e(Ne))((at,Et)=>{let kt;this.subscribe(Ct=>kt=Ct,Ct=>Et(Ct),()=>at(kt))})}}return Me.create=Qe=>new Me(Qe),Me})();function $e(Me){var Qe;return null!==(Qe=Me??pe.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(zt,Ye,H)=>{H.d(Ye,{x:()=>Be});var C=H(9751),$=H(727);const ne=(0,H(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=H(8737),Le=H(2806);let Be=(()=>{class $e extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const Me=new De(this,this);return Me.operator=ee,Me}_throwIfClosed(){if(this.closed)throw new ne}next(ee){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ee)}})}error(ee){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ee)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:Me,isStopped:Qe,observers:Ne}=this;return Me||Qe?$.Lc:(this.currentObservers=null,Ne.push(ee),new $.w0(()=>{this.currentObservers=null,(0,pe.P)(Ne,ee)}))}_checkFinalizedStatuses(ee){const{hasError:Me,thrownError:Qe,isStopped:Ne}=this;Me?ee.error(Qe):Ne&&ee.complete()}asObservable(){const ee=new C.y;return ee.source=this,ee}}return $e.create=(K,ee)=>new De(K,ee),$e})();class De extends Be{constructor(K,ee){super(),this.destination=K,this.source=ee}next(K){var ee,Me;null===(Me=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===Me||Me.call(ee,K)}error(K){var ee,Me;null===(Me=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===Me||Me.call(ee,K)}complete(){var K,ee;null===(ee=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ee||ee.call(K)}_subscribe(K){var ee,Me;return null!==(Me=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(K))&&void 0!==Me?Me:$.Lc}}},2961:(zt,Ye,H)=>{H.d(Ye,{Hp:()=>Et,Lv:()=>Me});var C=H(576),$=H(727),ae=H(2416),ne=H(7849);function pe(){}const Le=$e("C",void 0,void 0);function $e(Pe,je,Ze){return{kind:Pe,value:je,error:Ze}}var K=H(3410),ee=H(2806);class Me extends $.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,$.Nn)(je)&&je.add(this)):this.destination=tt}static create(je,Ze,dt){return new Et(je,Ze,dt)}next(je){this.isStopped?St(function De(Pe){return $e("N",Pe,void 0)}(je),this):this._next(je)}error(je){this.isStopped?St(function Be(Pe){return $e("E",void 0,Pe)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?St(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ne(Pe,je){return Qe.call(Pe,je)}class at{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(je)}catch(dt){kt(dt)}}error(je){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(je)}catch(dt){kt(dt)}else kt(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Ze){kt(Ze)}}}class Et extends Me{constructor(je,Ze,dt){let ce;if(super(),(0,C.m)(je)||!je)ce={next:je??void 0,error:Ze??void 0,complete:dt??void 0};else{let Se;this&&ae.v.useDeprecatedNextContext?(Se=Object.create(je),Se.unsubscribe=()=>this.unsubscribe(),ce={next:je.next&&Ne(je.next,Se),error:je.error&&Ne(je.error,Se),complete:je.complete&&Ne(je.complete,Se)}):ce=je}this.destination=new at(ce)}}function kt(Pe){ae.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Pe):(0,ne.h)(Pe)}function St(Pe,je){const{onStoppedNotification:Ze}=ae.v;Ze&&K.z.setTimeout(()=>Ze(Pe,je))}const tt={closed:!0,next:pe,error:function Ct(Pe){throw Pe},complete:pe}},727:(zt,Ye,H)=>{H.d(Ye,{Lc:()=>Le,w0:()=>pe,Nn:()=>Be});var C=H(576);const ae=(0,H(3888).d)($e=>function(ee){$e(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((Me,Qe)=>`${Qe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ne=H(8737);class pe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ne of ee)Ne.remove(this);else ee.remove(this);const{initialTeardown:Me}=this;if((0,C.m)(Me))try{Me()}catch(Ne){K=Ne instanceof ae?Ne.errors:[Ne]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ne of Qe)try{De(Ne)}catch(at){K=K??[],at instanceof ae?K=[...K,...at.errors]:K.push(at)}}if(K)throw new ae(K)}}add(K){var ee;if(K&&K!==this)if(this.closed)De(K);else{if(K instanceof pe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(K)}}_hasParent(K){const{_parentage:ee}=this;return ee===K||Array.isArray(ee)&&ee.includes(K)}_addParent(K){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(K),ee):ee?[ee,K]:K}_removeParent(K){const{_parentage:ee}=this;ee===K?this._parentage=null:Array.isArray(ee)&&(0,ne.P)(ee,K)}remove(K){const{_finalizers:ee}=this;ee&&(0,ne.P)(ee,K),K instanceof pe&&K._removeParent(this)}}pe.EMPTY=(()=>{const $e=new pe;return $e.closed=!0,$e})();const Le=pe.EMPTY;function Be($e){return $e instanceof pe||$e&&"closed"in $e&&(0,C.m)($e.remove)&&(0,C.m)($e.add)&&(0,C.m)($e.unsubscribe)}function De($e){(0,C.m)($e)?$e():$e.unsubscribe()}},2416:(zt,Ye,H)=>{H.d(Ye,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(zt,Ye,H)=>{H.d(Ye,{E:()=>$});const $=new(H(9751).y)(pe=>pe.complete())},8996:(zt,Ye,H)=>{H.d(Ye,{D:()=>je});var C=H(8421),$=H(5363),ae=H(9468),Le=H(9751),De=H(2202),$e=H(576),K=H(9672);function Me(Ze,dt){if(!Ze)throw new Error("Iterable cannot be null");return new Le.y(ce=>{(0,K.f)(ce,dt,()=>{const Se=Ze[Symbol.asyncIterator]();(0,K.f)(ce,dt,()=>{Se.next().then(ie=>{ie.done?ce.complete():ce.next(ie.value)})},0,!0)})})}var Qe=H(3670),Ne=H(8239),at=H(1144),Et=H(6495),kt=H(2206),Ct=H(4532),St=H(3260);function je(Ze,dt){return dt?function Pe(Ze,dt){if(null!=Ze){if((0,Qe.c)(Ze))return function ne(Ze,dt){return(0,C.Xf)(Ze).pipe((0,ae.R)(dt),(0,$.Q)(dt))}(Ze,dt);if((0,at.z)(Ze))return function Be(Ze,dt){return new Le.y(ce=>{let Se=0;return dt.schedule(function(){Se===Ze.length?ce.complete():(ce.next(Ze[Se++]),ce.closed||this.schedule())})})}(Ze,dt);if((0,Ne.t)(Ze))return function pe(Ze,dt){return(0,C.Xf)(Ze).pipe((0,ae.R)(dt),(0,$.Q)(dt))}(Ze,dt);if((0,kt.D)(Ze))return Me(Ze,dt);if((0,Et.T)(Ze))return function ee(Ze,dt){return new Le.y(ce=>{let Se;return(0,K.f)(ce,dt,()=>{Se=Ze[De.h](),(0,K.f)(ce,dt,()=>{let ie,Q;try{({value:ie,done:Q}=Se.next())}catch(oe){return void ce.error(oe)}Q?ce.complete():ce.next(ie)},0,!0)}),()=>(0,$e.m)(Se?.return)&&Se.return()})}(Ze,dt);if((0,St.L)(Ze))return function tt(Ze,dt){return Me((0,St.Q)(Ze),dt)}(Ze,dt)}throw(0,Ct.z)(Ze)}(Ze,dt):(0,C.Xf)(Ze)}},8421:(zt,Ye,H)=>{H.d(Ye,{Xf:()=>Qe});var C=H(655),$=H(1144),ae=H(8239),ne=H(9751),pe=H(3670),Le=H(2206),Be=H(4532),De=H(6495),$e=H(3260),K=H(576),ee=H(7849),Me=H(8822);function Qe(Pe){if(Pe instanceof ne.y)return Pe;if(null!=Pe){if((0,pe.c)(Pe))return function Ne(Pe){return new ne.y(je=>{const Ze=Pe[Me.L]();if((0,K.m)(Ze.subscribe))return Ze.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,$.z)(Pe))return function at(Pe){return new ne.y(je=>{for(let Ze=0;Ze<Pe.length&&!je.closed;Ze++)je.next(Pe[Ze]);je.complete()})}(Pe);if((0,ae.t)(Pe))return function Et(Pe){return new ne.y(je=>{Pe.then(Ze=>{je.closed||(je.next(Ze),je.complete())},Ze=>je.error(Ze)).then(null,ee.h)})}(Pe);if((0,Le.D)(Pe))return Ct(Pe);if((0,De.T)(Pe))return function kt(Pe){return new ne.y(je=>{for(const Ze of Pe)if(je.next(Ze),je.closed)return;je.complete()})}(Pe);if((0,$e.L)(Pe))return function St(Pe){return Ct((0,$e.Q)(Pe))}(Pe)}throw(0,Be.z)(Pe)}function Ct(Pe){return new ne.y(je=>{(function tt(Pe,je){var Ze,dt,ce,Se;return(0,C.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,C.KL)(Pe);!(dt=yield Ze.next()).done;)if(je.next(dt.value),je.closed)return}catch(ie){ce={error:ie}}finally{try{dt&&!dt.done&&(Se=Ze.return)&&(yield Se.call(Ze))}finally{if(ce)throw ce.error}}je.complete()})})(Pe,je).catch(Ze=>je.error(Ze))})}},5403:(zt,Ye,H)=>{H.d(Ye,{x:()=>$});var C=H(2961);function $(ne,pe,Le,Be,De){return new ae(ne,pe,Le,Be,De)}class ae extends C.Lv{constructor(pe,Le,Be,De,$e,K){super(pe),this.onFinalize=$e,this.shouldUnsubscribe=K,this._next=Le?function(ee){try{Le(ee)}catch(Me){pe.error(Me)}}:super._next,this._error=De?function(ee){try{De(ee)}catch(Me){pe.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(ee){pe.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},4004:(zt,Ye,H)=>{H.d(Ye,{U:()=>ae});var C=H(4482),$=H(5403);function ae(ne,pe){return(0,C.e)((Le,Be)=>{let De=0;Le.subscribe((0,$.x)(Be,$e=>{Be.next(ne.call(pe,$e,De++))}))})}},8189:(zt,Ye,H)=>{H.d(Ye,{J:()=>ae});var C=H(5577),$=H(4671);function ae(ne=1/0){return(0,C.z)($.y,ne)}},5577:(zt,Ye,H)=>{H.d(Ye,{z:()=>De});var C=H(4004),$=H(8421),ae=H(4482),ne=H(9672),pe=H(5403),Be=H(576);function De($e,K,ee=1/0){return(0,Be.m)(K)?De((Me,Qe)=>(0,C.U)((Ne,at)=>K(Me,Ne,Qe,at))((0,$.Xf)($e(Me,Qe))),ee):("number"==typeof K&&(ee=K),(0,ae.e)((Me,Qe)=>function Le($e,K,ee,Me,Qe,Ne,at,Et){const kt=[];let Ct=0,St=0,tt=!1;const Pe=()=>{tt&&!kt.length&&!Ct&&K.complete()},je=dt=>Ct<Me?Ze(dt):kt.push(dt),Ze=dt=>{Ne&&K.next(dt),Ct++;let ce=!1;(0,$.Xf)(ee(dt,St++)).subscribe((0,pe.x)(K,Se=>{Qe?.(Se),Ne?je(Se):K.next(Se)},()=>{ce=!0},void 0,()=>{if(ce)try{for(Ct--;kt.length&&Ct<Me;){const Se=kt.shift();at?(0,ne.f)(K,at,()=>Ze(Se)):Ze(Se)}Pe()}catch(Se){K.error(Se)}}))};return $e.subscribe((0,pe.x)(K,je,()=>{tt=!0,Pe()})),()=>{Et?.()}}(Me,Qe,$e,ee)))}},5363:(zt,Ye,H)=>{H.d(Ye,{Q:()=>ne});var C=H(9672),$=H(4482),ae=H(5403);function ne(pe,Le=0){return(0,$.e)((Be,De)=>{Be.subscribe((0,ae.x)(De,$e=>(0,C.f)(De,pe,()=>De.next($e),Le),()=>(0,C.f)(De,pe,()=>De.complete(),Le),$e=>(0,C.f)(De,pe,()=>De.error($e),Le)))})}},9468:(zt,Ye,H)=>{H.d(Ye,{R:()=>$});var C=H(4482);function $(ae,ne=0){return(0,C.e)((pe,Le)=>{Le.add(ae.schedule(()=>pe.subscribe(Le),ne))})}},5698:(zt,Ye,H)=>{H.d(Ye,{q:()=>ne});var C=H(515),$=H(4482),ae=H(5403);function ne(pe){return pe<=0?()=>C.E:(0,$.e)((Le,Be)=>{let De=0;Le.subscribe((0,ae.x)(Be,$e=>{++De<=pe&&(Be.next($e),pe<=De&&Be.complete())}))})}},8505:(zt,Ye,H)=>{H.d(Ye,{b:()=>pe});var C=H(576),$=H(4482),ae=H(5403),ne=H(4671);function pe(Le,Be,De){const $e=(0,C.m)(Le)||Be||De?{next:Le,error:Be,complete:De}:Le;return $e?(0,$.e)((K,ee)=>{var Me;null===(Me=$e.subscribe)||void 0===Me||Me.call($e);let Qe=!0;K.subscribe((0,ae.x)(ee,Ne=>{var at;null===(at=$e.next)||void 0===at||at.call($e,Ne),ee.next(Ne)},()=>{var Ne;Qe=!1,null===(Ne=$e.complete)||void 0===Ne||Ne.call($e),ee.complete()},Ne=>{var at;Qe=!1,null===(at=$e.error)||void 0===at||at.call($e,Ne),ee.error(Ne)},()=>{var Ne,at;Qe&&(null===(Ne=$e.unsubscribe)||void 0===Ne||Ne.call($e)),null===(at=$e.finalize)||void 0===at||at.call($e)}))}):ne.y}},3410:(zt,Ye,H)=>{H.d(Ye,{z:()=>C});const C={setTimeout($,ae,...ne){const{delegate:pe}=C;return pe?.setTimeout?pe.setTimeout($,ae,...ne):setTimeout($,ae,...ne)},clearTimeout($){const{delegate:ae}=C;return(ae?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(zt,Ye,H)=>{H.d(Ye,{h:()=>$});const $=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(zt,Ye,H)=>{H.d(Ye,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(zt,Ye,H)=>{H.d(Ye,{_6:()=>Le,jO:()=>ne,yG:()=>pe});var C=H(576);function ae(Be){return Be[Be.length-1]}function ne(Be){return(0,C.m)(ae(Be))?Be.pop():void 0}function pe(Be){return function $(Be){return Be&&(0,C.m)(Be.schedule)}(ae(Be))?Be.pop():void 0}function Le(Be,De){return"number"==typeof ae(Be)?Be.pop():De}},4742:(zt,Ye,H)=>{H.d(Ye,{D:()=>pe});const{isArray:C}=Array,{getPrototypeOf:$,prototype:ae,keys:ne}=Object;function pe(Be){if(1===Be.length){const De=Be[0];if(C(De))return{args:De,keys:null};if(function Le(Be){return Be&&"object"==typeof Be&&$(Be)===ae}(De)){const $e=ne(De);return{args:$e.map(K=>De[K]),keys:$e}}}return{args:Be,keys:null}}},8737:(zt,Ye,H)=>{function C($,ae){if($){const ne=$.indexOf(ae);0<=ne&&$.splice(ne,1)}}H.d(Ye,{P:()=>C})},3888:(zt,Ye,H)=>{function C($){const ne=$(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}H.d(Ye,{d:()=>C})},1810:(zt,Ye,H)=>{function C($,ae){return $.reduce((ne,pe,Le)=>(ne[pe]=ae[Le],ne),{})}H.d(Ye,{n:()=>C})},2806:(zt,Ye,H)=>{H.d(Ye,{O:()=>ne,x:()=>ae});var C=H(2416);let $=null;function ae(pe){if(C.v.useDeprecatedSynchronousErrorHandling){const Le=!$;if(Le&&($={errorThrown:!1,error:null}),pe(),Le){const{errorThrown:Be,error:De}=$;if($=null,Be)throw De}}else pe()}function ne(pe){C.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=pe)}},9672:(zt,Ye,H)=>{function C($,ae,ne,pe=0,Le=!1){const Be=ae.schedule(function(){ne(),Le?$.add(this.schedule(null,pe)):this.unsubscribe()},pe);if($.add(Be),!Le)return Be}H.d(Ye,{f:()=>C})},4671:(zt,Ye,H)=>{function C($){return $}H.d(Ye,{y:()=>C})},1144:(zt,Ye,H)=>{H.d(Ye,{z:()=>C});const C=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(zt,Ye,H)=>{H.d(Ye,{D:()=>$});var C=H(576);function $(ae){return Symbol.asyncIterator&&(0,C.m)(ae?.[Symbol.asyncIterator])}},576:(zt,Ye,H)=>{function C($){return"function"==typeof $}H.d(Ye,{m:()=>C})},3670:(zt,Ye,H)=>{H.d(Ye,{c:()=>ae});var C=H(8822),$=H(576);function ae(ne){return(0,$.m)(ne[C.L])}},6495:(zt,Ye,H)=>{H.d(Ye,{T:()=>ae});var C=H(2202),$=H(576);function ae(ne){return(0,$.m)(ne?.[C.h])}},8239:(zt,Ye,H)=>{H.d(Ye,{t:()=>$});var C=H(576);function $(ae){return(0,C.m)(ae?.then)}},3260:(zt,Ye,H)=>{H.d(Ye,{L:()=>ne,Q:()=>ae});var C=H(655),$=H(576);function ae(pe){return(0,C.FC)(this,arguments,function*(){const Be=pe.getReader();try{for(;;){const{value:De,done:$e}=yield(0,C.qq)(Be.read());if($e)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(De)}}finally{Be.releaseLock()}})}function ne(pe){return(0,$.m)(pe?.getReader)}},4482:(zt,Ye,H)=>{H.d(Ye,{A:()=>$,e:()=>ae});var C=H(576);function $(ne){return(0,C.m)(ne?.lift)}function ae(ne){return pe=>{if($(pe))return pe.lift(function(Le){try{return ne(Le,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(zt,Ye,H)=>{H.d(Ye,{Z:()=>ne});var C=H(4004);const{isArray:$}=Array;function ne(pe){return(0,C.U)(Le=>function ae(pe,Le){return $(Le)?pe(...Le):pe(Le)}(pe,Le))}},9635:(zt,Ye,H)=>{H.d(Ye,{U:()=>ae,z:()=>$});var C=H(4671);function $(...ne){return ae(ne)}function ae(ne){return 0===ne.length?C.y:1===ne.length?ne[0]:function(Le){return ne.reduce((Be,De)=>De(Be),Le)}}},7849:(zt,Ye,H)=>{H.d(Ye,{h:()=>ae});var C=H(2416),$=H(3410);function ae(ne){$.z.setTimeout(()=>{const{onUnhandledError:pe}=C.v;if(!pe)throw ne;pe(ne)})}},4532:(zt,Ye,H)=>{function C($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Ye,{z:()=>C})},655:(zt,Ye,H)=>{function ne(Q,oe){var xe={};for(var ye in Q)Object.prototype.hasOwnProperty.call(Q,ye)&&oe.indexOf(ye)<0&&(xe[ye]=Q[ye]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(ye=Object.getOwnPropertySymbols(Q);Ge<ye.length;Ge++)oe.indexOf(ye[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Q,ye[Ge])&&(xe[ye[Ge]]=Q[ye[Ge]])}return xe}function De(Q,oe,xe,ye){return new(xe||(xe=Promise))(function(be,ht){function rn(Yt){try{mt(ye.next(Yt))}catch(pn){ht(pn)}}function Pn(Yt){try{mt(ye.throw(Yt))}catch(pn){ht(pn)}}function mt(Yt){Yt.done?be(Yt.value):function Ge(be){return be instanceof xe?be:new xe(function(ht){ht(be)})}(Yt.value).then(rn,Pn)}mt((ye=ye.apply(Q,oe||[])).next())})}function kt(Q){return this instanceof kt?(this.v=Q,this):new kt(Q)}function Ct(Q,oe,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,ye=xe.apply(Q,oe||[]),be=[];return Ge={},ht("next"),ht("throw"),ht("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function ht(un){ye[un]&&(Ge[un]=function(Tr){return new Promise(function(Qt,Wt){be.push([un,Tr,Qt,Wt])>1||rn(un,Tr)})})}function rn(un,Tr){try{!function Pn(un){un.value instanceof kt?Promise.resolve(un.value.v).then(mt,Yt):pn(be[0][2],un)}(ye[un](Tr))}catch(Qt){pn(be[0][3],Qt)}}function mt(un){rn("next",un)}function Yt(un){rn("throw",un)}function pn(un,Tr){un(Tr),be.shift(),be.length&&rn(be[0][0],be[0][1])}}function tt(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,oe=Q[Symbol.asyncIterator];return oe?oe.call(Q):(Q=function Me(Q){var oe="function"==typeof Symbol&&Symbol.iterator,xe=oe&&Q[oe],ye=0;if(xe)return xe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ye>=Q.length&&(Q=void 0),{value:Q&&Q[ye++],done:!Q}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),xe={},ye("next"),ye("throw"),ye("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function ye(be){xe[be]=Q[be]&&function(ht){return new Promise(function(rn,Pn){!function Ge(be,ht,rn,Pn){Promise.resolve(Pn).then(function(mt){be({value:mt,done:rn})},ht)}(rn,Pn,(ht=Q[be](ht)).done,ht.value)})}}}H.d(Ye,{FC:()=>Ct,KL:()=>tt,_T:()=>ne,mG:()=>De,qq:()=>kt})},6895:(zt,Ye,H)=>{H.d(Ye,{Do:()=>St,EM:()=>Bs,H9:()=>Yi,HT:()=>ne,JF:()=>Mi,K0:()=>Le,Mx:()=>Us,O5:()=>Oe,S$:()=>Et,V_:()=>$e,Ye:()=>tt,b0:()=>Ct,bD:()=>wi,ez:()=>xi,q:()=>ae,sg:()=>se,w_:()=>pe});var C=H(8256);let $=null;function ae(){return $}function ne(_){$||($=_)}class pe{}const Le=new C.OlP("DocumentToken");let Be=(()=>{class _{historyGo(D){throw new Error("Not implemented")}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=C.Yz7({token:_,factory:function(){return function De(){return(0,C.LFG)(K)}()},providedIn:"platform"}),_})();const $e=new C.OlP("Location Initialized");let K=(()=>{class _ extends Be{constructor(D){super(),this._doc=D,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ae().getBaseHref(this._doc)}onPopState(D){const U=ae().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",D,!1),()=>U.removeEventListener("popstate",D)}onHashChange(D){const U=ae().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",D,!1),()=>U.removeEventListener("hashchange",D)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(D){this._location.pathname=D}pushState(D,U,Y){ee()?this._history.pushState(D,U,Y):this._location.hash=Y}replaceState(D,U,Y){ee()?this._history.replaceState(D,U,Y):this._location.hash=Y}forward(){this._history.forward()}back(){this._history.back()}historyGo(D=0){this._history.go(D)}getState(){return this._history.state}}return _.\u0275fac=function(D){return new(D||_)(C.LFG(Le))},_.\u0275prov=C.Yz7({token:_,factory:function(){return function Me(){return new K((0,C.LFG)(Le))}()},providedIn:"platform"}),_})();function ee(){return!!window.history.pushState}function Qe(_,x){if(0==_.length)return x;if(0==x.length)return _;let D=0;return _.endsWith("/")&&D++,x.startsWith("/")&&D++,2==D?_+x.substring(1):1==D?_+x:_+"/"+x}function Ne(_){const x=_.match(/#|\?|$/),D=x&&x.index||_.length;return _.slice(0,D-("/"===_[D-1]?1:0))+_.slice(D)}function at(_){return _&&"?"!==_[0]?"?"+_:_}let Et=(()=>{class _{historyGo(D){throw new Error("Not implemented")}}return _.\u0275fac=function(D){return new(D||_)},_.\u0275prov=C.Yz7({token:_,factory:function(){return(0,C.f3M)(Ct)},providedIn:"root"}),_})();const kt=new C.OlP("appBaseHref");let Ct=(()=>{class _ extends Et{constructor(D,U){super(),this._platformLocation=D,this._removeListenerFns=[],this._baseHref=U??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}prepareExternalUrl(D){return Qe(this._baseHref,D)}path(D=!1){const U=this._platformLocation.pathname+at(this._platformLocation.search),Y=this._platformLocation.hash;return Y&&D?`${U}${Y}`:U}pushState(D,U,Y,Re){const We=this.prepareExternalUrl(Y+at(Re));this._platformLocation.pushState(D,U,We)}replaceState(D,U,Y,Re){const We=this.prepareExternalUrl(Y+at(Re));this._platformLocation.replaceState(D,U,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return _.\u0275fac=function(D){return new(D||_)(C.LFG(Be),C.LFG(kt,8))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),St=(()=>{class _ extends Et{constructor(D,U){super(),this._platformLocation=D,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(D){this._removeListenerFns.push(this._platformLocation.onPopState(D),this._platformLocation.onHashChange(D))}getBaseHref(){return this._baseHref}path(D=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(D){const U=Qe(this._baseHref,D);return U.length>0?"#"+U:U}pushState(D,U,Y,Re){let We=this.prepareExternalUrl(Y+at(Re));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.pushState(D,U,We)}replaceState(D,U,Y,Re){let We=this.prepareExternalUrl(Y+at(Re));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.replaceState(D,U,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(D=0){this._platformLocation.historyGo?.(D)}}return _.\u0275fac=function(D){return new(D||_)(C.LFG(Be),C.LFG(kt,8))},_.\u0275prov=C.Yz7({token:_,factory:_.\u0275fac}),_})(),tt=(()=>{class _{constructor(D){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=D;const U=this._locationStrategy.getBaseHref();this._basePath=function dt(_){if(new RegExp("^(https?:)?//").test(_)){const[,D]=_.split(/\/\/[^\/]+/);return D}return _}(Ne(Ze(U))),this._locationStrategy.onPopState(Y=>{this._subject.emit({url:this.path(!0),pop:!0,state:Y.state,type:Y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(D=!1){return this.normalize(this._locationStrategy.path(D))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(D,U=""){return this.path()==this.normalize(D+at(U))}normalize(D){return _.stripTrailingSlash(function je(_,x){return _&&new RegExp(`^${_}([/;?#]|$)`).test(x)?x.substring(_.length):x}(this._basePath,Ze(D)))}prepareExternalUrl(D){return D&&"/"!==D[0]&&(D="/"+D),this._locationStrategy.prepareExternalUrl(D)}go(D,U="",Y=null){this._locationStrategy.pushState(Y,"",D,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+at(U)),Y)}replaceState(D,U="",Y=null){this._locationStrategy.replaceState(Y,"",D,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(D+at(U)),Y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(D=0){this._locationStrategy.historyGo?.(D)}onUrlChange(D){return this._urlChangeListeners.push(D),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)})),()=>{const U=this._urlChangeListeners.indexOf(D);this._urlChangeListeners.splice(U,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(D="",U){this._urlChangeListeners.forEach(Y=>Y(D,U))}subscribe(D,U,Y){return this._subject.subscribe({next:D,error:U,complete:Y})}}return _.normalizeQueryParams=at,_.joinWithSlash=Qe,_.stripTrailingSlash=Ne,_.\u0275fac=function(D){return new(D||_)(C.LFG(Et))},_.\u0275prov=C.Yz7({token:_,factory:function(){return function Pe(){return new tt((0,C.LFG)(Et))}()},providedIn:"root"}),_})();function Ze(_){return _.replace(/\/index.html$/,"")}const ce={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Percent=1]="Percent",Se[Se.Currency=2]="Currency",Se[Se.Scientific=3]="Scientific",Se))(),ye=(()=>((ye=ye||{})[ye.Decimal=0]="Decimal",ye[ye.Group=1]="Group",ye[ye.List=2]="List",ye[ye.PercentSign=3]="PercentSign",ye[ye.PlusSign=4]="PlusSign",ye[ye.MinusSign=5]="MinusSign",ye[ye.Exponential=6]="Exponential",ye[ye.SuperscriptingExponent=7]="SuperscriptingExponent",ye[ye.PerMille=8]="PerMille",ye[ye.Infinity=9]="Infinity",ye[ye.NaN=10]="NaN",ye[ye.TimeSeparator=11]="TimeSeparator",ye[ye.CurrencyDecimal=12]="CurrencyDecimal",ye[ye.CurrencyGroup=13]="CurrencyGroup",ye))();function Wt(_,x){const D=(0,C.cg1)(_),U=D[C.wAp.NumberSymbols][x];if(typeof U>"u"){if(x===ye.CurrencyDecimal)return D[C.wAp.NumberSymbols][ye.Decimal];if(x===ye.CurrencyGroup)return D[C.wAp.NumberSymbols][ye.Group]}return U}const mr=/^(\d+)?\.((\d+)(-(\d+))?)?$/,z="0";function rr(_,x,D,U,Y){const We=function Li(_,x="-"){const D={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},U=_.split(";"),Y=U[0],Re=U[1],We=-1!==Y.indexOf(".")?Y.split("."):[Y.substring(0,Y.lastIndexOf(z)+1),Y.substring(Y.lastIndexOf(z)+1)],gt=We[0],Mn=We[1]||"";D.posPre=gt.substring(0,gt.indexOf("#"));for(let Sn=0;Sn<Mn.length;Sn++){const hn=Mn.charAt(Sn);hn===z?D.minFrac=D.maxFrac=Sn+1:"#"===hn?D.maxFrac=Sn+1:D.posSuf+=hn}const Tn=gt.split(",");if(D.gSize=Tn[1]?Tn[1].length:0,D.lgSize=Tn[2]||Tn[1]?(Tn[2]||Tn[1]).length:0,Re){const Sn=Y.length-D.posPre.length-D.posSuf.length,hn=Re.indexOf("#");D.negPre=Re.substring(0,hn).replace(/'/g,""),D.negSuf=Re.slice(hn+Sn).replace(/'/g,"")}else D.negPre=x+D.posPre,D.negSuf=D.posSuf;return D}(function On(_,x){return(0,C.cg1)(_)[C.wAp.NumberFormats][x]}(x,Se.Currency),Wt(x,ye.MinusSign));return We.minFrac=function nr(_){let x;const D=ce[_];return D&&(x=D[2]),"number"==typeof x?x:2}(U),We.maxFrac=We.minFrac,function vt(_,x,D,U,Y,Re,We=!1){let gt="",Mn=!1;if(isFinite(_)){let Tn=function yr(_){let U,Y,Re,We,gt,x=Math.abs(_)+"",D=0;for((Y=x.indexOf("."))>-1&&(x=x.replace(".","")),(Re=x.search(/e/i))>0?(Y<0&&(Y=Re),Y+=+x.slice(Re+1),x=x.substring(0,Re)):Y<0&&(Y=x.length),Re=0;x.charAt(Re)===z;Re++);if(Re===(gt=x.length))U=[0],Y=1;else{for(gt--;x.charAt(gt)===z;)gt--;for(Y-=Re,U=[],We=0;Re<=gt;Re++,We++)U[We]=Number(x.charAt(Re))}return Y>22&&(U=U.splice(0,21),D=Y-1,Y=1),{digits:U,exponent:D,integerLen:Y}}(_);We&&(Tn=function ni(_){if(0===_.digits[0])return _;const x=_.digits.length-_.integerLen;return _.exponent?_.exponent+=2:(0===x?_.digits.push(0,0):1===x&&_.digits.push(0),_.integerLen+=2),_}(Tn));let Sn=x.minInt,hn=x.minFrac,gr=x.maxFrac;if(Re){const An=Re.match(mr);if(null===An)throw new Error(`${Re} is not a valid digit info`);const Pt=An[1],Qs=An[3],_n=An[5];null!=Pt&&(Sn=ri(Pt)),null!=Qs&&(hn=ri(Qs)),null!=_n?gr=ri(_n):null!=Qs&&hn>gr&&(gr=hn)}!function bs(_,x,D){if(x>D)throw new Error(`The minimum number of digits after fraction (${x}) is higher than the maximum (${D}).`);let U=_.digits,Y=U.length-_.integerLen;const Re=Math.min(Math.max(x,Y),D);let We=Re+_.integerLen,gt=U[We];if(We>0){U.splice(Math.max(_.integerLen,We));for(let hn=We;hn<U.length;hn++)U[hn]=0}else{Y=Math.max(0,Y),_.integerLen=1,U.length=Math.max(1,We=Re+1),U[0]=0;for(let hn=1;hn<We;hn++)U[hn]=0}if(gt>=5)if(We-1<0){for(let hn=0;hn>We;hn--)U.unshift(0),_.integerLen++;U.unshift(1),_.integerLen++}else U[We-1]++;for(;Y<Math.max(0,Re);Y++)U.push(0);let Mn=0!==Re;const Tn=x+_.integerLen,Sn=U.reduceRight(function(hn,gr,Rn,sn){return sn[Rn]=(gr+=hn)<10?gr:gr-10,Mn&&(0===sn[Rn]&&Rn>=Tn?sn.pop():Mn=!1),gr>=10?1:0},0);Sn&&(U.unshift(Sn),_.integerLen++)}(Tn,hn,gr);let Rn=Tn.digits,sn=Tn.integerLen;const Ht=Tn.exponent;let Nr=[];for(Mn=Rn.every(An=>!An);sn<Sn;sn++)Rn.unshift(0);for(;sn<0;sn++)Rn.unshift(0);sn>0?Nr=Rn.splice(sn,Rn.length):(Nr=Rn,Rn=[0]);const Bi=[];for(Rn.length>=x.lgSize&&Bi.unshift(Rn.splice(-x.lgSize,Rn.length).join(""));Rn.length>x.gSize;)Bi.unshift(Rn.splice(-x.gSize,Rn.length).join(""));Rn.length&&Bi.unshift(Rn.join("")),gt=Bi.join(Wt(D,U)),Nr.length&&(gt+=Wt(D,Y)+Nr.join("")),Ht&&(gt+=Wt(D,ye.Exponential)+"+"+Ht)}else gt=Wt(D,ye.Infinity);return gt=_<0&&!Mn?x.negPre+gt+x.negSuf:x.posPre+gt+x.posSuf,gt}(_,We,x,ye.CurrencyGroup,ye.CurrencyDecimal,Y).replace("\xa4",D).replace("\xa4","").trim()}function ri(_){const x=parseInt(_);if(isNaN(x))throw new Error("Invalid integer literal when parsing "+_);return x}function Us(_,x){x=encodeURIComponent(x);for(const D of _.split(";")){const U=D.indexOf("="),[Y,Re]=-1==U?[D,""]:[D.slice(0,U),D.slice(U+1)];if(Y.trim()===x)return decodeURIComponent(Re)}return null}class fe{constructor(x,D,U,Y){this.$implicit=x,this.ngForOf=D,this.index=U,this.count=Y}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let se=(()=>{class _{set ngForOf(D){this._ngForOf=D,this._ngForOfDirty=!0}set ngForTrackBy(D){this._trackByFn=D}get ngForTrackBy(){return this._trackByFn}constructor(D,U,Y){this._viewContainer=D,this._template=U,this._differs=Y,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(D){D&&(this._template=D)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const D=this._ngForOf;!this._differ&&D&&(this._differ=this._differs.find(D).create(this.ngForTrackBy))}if(this._differ){const D=this._differ.diff(this._ngForOf);D&&this._applyChanges(D)}}_applyChanges(D){const U=this._viewContainer;D.forEachOperation((Y,Re,We)=>{if(null==Y.previousIndex)U.createEmbeddedView(this._template,new fe(Y.item,this._ngForOf,-1,-1),null===We?void 0:We);else if(null==We)U.remove(null===Re?void 0:Re);else if(null!==Re){const gt=U.get(Re);U.move(gt,We),ve(gt,Y)}});for(let Y=0,Re=U.length;Y<Re;Y++){const gt=U.get(Y).context;gt.index=Y,gt.count=Re,gt.ngForOf=this._ngForOf}D.forEachIdentityChange(Y=>{ve(U.get(Y.currentIndex),Y)})}static ngTemplateContextGuard(D,U){return!0}}return _.\u0275fac=function(D){return new(D||_)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},_.\u0275dir=C.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),_})();function ve(_,x){_.context.$implicit=x.item}let Oe=(()=>{class _{constructor(D,U){this._viewContainer=D,this._context=new It,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=U}set ngIf(D){this._context.$implicit=this._context.ngIf=D,this._updateView()}set ngIfThen(D){Ut("ngIfThen",D),this._thenTemplateRef=D,this._thenViewRef=null,this._updateView()}set ngIfElse(D){Ut("ngIfElse",D),this._elseTemplateRef=D,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(D,U){return!0}}return _.\u0275fac=function(D){return new(D||_)(C.Y36(C.s_b),C.Y36(C.Rgc))},_.\u0275dir=C.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),_})();class It{constructor(){this.$implicit=null,this.ngIf=null}}function Ut(_,x){if(x&&!x.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,C.AaK)(x)}'.`)}let Yi=(()=>{class _{constructor(D,U="USD"){this._locale=D,this._defaultCurrencyCode=U}transform(D,U=this._defaultCurrencyCode,Y="symbol",Re,We){if(!function aa(_){return!(null==_||""===_||_!=_)}(D))return null;We=We||this._locale,"boolean"==typeof Y&&(Y=Y?"symbol":"code");let gt=U||this._defaultCurrencyCode;"code"!==Y&&(gt="symbol"===Y||"symbol-narrow"===Y?function Ti(_,x,D="en"){const U=function Zr(_){return(0,C.cg1)(_)[C.wAp.Currencies]}(D)[_]||ce[_]||[],Y=U[1];return"narrow"===x&&"string"==typeof Y?Y:U[0]||_}(gt,"symbol"===Y?"wide":"narrow",We):Y);try{return rr(function Ui(_){if("string"==typeof _&&!isNaN(Number(_)-parseFloat(_)))return Number(_);if("number"!=typeof _)throw new Error(`${_} is not a number`);return _}(D),We,gt,U,Re)}catch(Mn){throw function lr(_,x){return new C.vHH(2100,!1)}()}}}return _.\u0275fac=function(D){return new(D||_)(C.Y36(C.soG,16),C.Y36(C.EJc,16))},_.\u0275pipe=C.Yjl({name:"currency",type:_,pure:!0,standalone:!0}),_})();let xi=(()=>{class _{}return _.\u0275fac=function(D){return new(D||_)},_.\u0275mod=C.oAB({type:_}),_.\u0275inj=C.cJS({}),_})();const wi="browser";let Bs=(()=>{class _{}return _.\u0275prov=(0,C.Yz7)({token:_,providedIn:"root",factory:()=>new $s((0,C.LFG)(Le),window)}),_})();class $s{constructor(x,D){this.document=x,this.window=D,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const D=function lo(_,x){const D=_.getElementById(x)||_.getElementsByName(x)[0];if(D)return D;if("function"==typeof _.createTreeWalker&&_.body&&(_.body.createShadowRoot||_.body.attachShadow)){const U=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let Y=U.currentNode;for(;Y;){const Re=Y.shadowRoot;if(Re){const We=Re.getElementById(x)||Re.querySelector(`[name="${x}"]`);if(We)return We}Y=U.nextNode()}}return null}(this.document,x);D&&(this.scrollToElement(D),D.focus())}setHistoryScrollRestoration(x){if(this.supportScrollRestoration()){const D=this.window.history;D&&D.scrollRestoration&&(D.scrollRestoration=x)}}scrollToElement(x){const D=x.getBoundingClientRect(),U=D.left+this.window.pageXOffset,Y=D.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(U-Re[0],Y-Re[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const x=Qi(this.window.history)||Qi(Object.getPrototypeOf(this.window.history));return!(!x||!x.writable&&!x.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qi(_){return Object.getOwnPropertyDescriptor(_,"scrollRestoration")}class Mi{}},8256:(zt,Ye,H)=>{H.d(Ye,{tb:()=>I0,AFp:()=>y0,ip1:()=>m0,CZH:()=>tm,hGG:()=>AE,z2F:()=>rm,sBO:()=>hE,Sil:()=>Kw,_Vd:()=>Vl,EJc:()=>Ww,Xts:()=>cc,SBq:()=>Fu,lqb:()=>Pu,qLn:()=>Bl,vpe:()=>Hu,XFs:()=>nt,OlP:()=>Bn,zs3:()=>fu,ZZ4:()=>Cv,aQg:()=>Sv,soG:()=>nm,YKP:()=>D_,h0i:()=>Mh,PXZ:()=>aE,R0b:()=>Za,FiY:()=>no,Lbi:()=>Hw,g9A:()=>_0,Qsj:()=>Zp,FYo:()=>Kp,JOm:()=>Po,tp0:()=>R,Rgc:()=>wp,dDg:()=>rE,eoX:()=>S0,q4F:()=>Vc,GfV:()=>Lu,s_b:()=>Xg,ifc:()=>Ve,MMx:()=>tv,Lck:()=>UI,eFA:()=>M0,Gpc:()=>St,f3M:()=>Te,$WT:()=>fe,_c5:()=>SE,c2e:()=>Gw,zSh:()=>Xh,wAp:()=>nn,vHH:()=>ce,lri:()=>b0,rWj:()=>C0,D6c:()=>xE,cg1:()=>Kg,kL8:()=>Wy,dqk:()=>dn,Z0I:()=>$n,CqO:()=>xg,QGY:()=>od,F4k:()=>Ag,RDi:()=>Oc,AaK:()=>Et,qOj:()=>Ql,TTD:()=>cs,_Bn:()=>E_,jDz:()=>b_,xp6:()=>af,uIk:()=>mh,ekj:()=>Eh,Suo:()=>W_,Xpm:()=>ri,lG2:()=>cr,Yz7:()=>yn,cJS:()=>Fr,oAB:()=>xr,Yjl:()=>Ci,Y36:()=>Hc,_UZ:()=>yh,qZA:()=>Xc,TgZ:()=>Ic,EpF:()=>wc,n5z:()=>Jo,LFG:()=>te,$8M:()=>ir,$Z:()=>eh,NdJ:()=>Yf,CRH:()=>q_,oxw:()=>Ng,ALo:()=>U_,xi3:()=>V_,Q6J:()=>nd,DdM:()=>N_,iGM:()=>z_,KtG:()=>qo,CHM:()=>go,LSH:()=>Ad,P3R:()=>Zh,YNc:()=>Wf,_uU:()=>Py,Oqu:()=>rl});var C=H(7579),$=H(727),ae=H(9751),ne=H(8189),pe=H(8421),Le=H(515),Be=H(7669),De=H(8996),K=H(2961),ee=H(4482);function Qe(n,r,...s){if(!0===r)return void n();if(!1===r)return;const a=new K.Hp({next:()=>{a.unsubscribe(),n()}});return(0,pe.Xf)(r(...s)).subscribe(a)}function Ne(n){for(let r in n)if(n[r]===Ne)return r;throw Error("Could not find renamed property on target object.")}function at(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Et(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Et).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function kt(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Ct=Ne({__forward_ref__:Ne});function St(n){return n.__forward_ref__=St,n.toString=function(){return Et(this())},n}function tt(n){return Pe(n)?n():n}function Pe(n){return"function"==typeof n&&n.hasOwnProperty(Ct)&&n.__forward_ref__===St}function je(n){return n&&!!n.\u0275providers}const dt="https://g.co/ng/security#xss";class ce extends Error{constructor(r,s){super(function Se(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Ge(n,r){throw new ce(-201,!1)}function Nn(n,r){null==n&&function Ft(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function yn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dt(n){return Ti(n,wn)||Ti(n,on)}function $n(n){return null!==Dt(n)}function Ti(n,r){return n.hasOwnProperty(r)?n[r]:null}function li(n){return n&&(n.hasOwnProperty(ur)||n.hasOwnProperty(xt))?n[ur]:null}const wn=Ne({\u0275prov:Ne}),ur=Ne({\u0275inj:Ne}),on=Ne({ngInjectableDef:Ne}),xt=Ne({ngInjectorDef:Ne});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Xt;function cn(n){const r=Xt;return Xt=n,r}function jr(n,r,s){const a=Dt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&nt.Optional?null:void 0!==r?r:void Ge(Et(n))}const dn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sr={},br="__NG_DI_FLAG__",it="ngTempTokenPath",ke=/\n/gm,Lt="__source";let Jt;function X(n){const r=Jt;return Jt=n,r}function Z(n,r=nt.Default){if(void 0===Jt)throw new ce(-203,!1);return null===Jt?jr(n,void 0,r):Jt.get(n,r&nt.Optional?null:void 0,r)}function te(n,r=nt.Default){return(function vn(){return Xt}()||Z)(tt(n),r)}function Te(n,r=nt.Default){return te(n,yt(r))}function yt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qt(n){const r=[];for(let s=0;s<n.length;s++){const a=tt(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ce(900,!1);let c,d=nt.Default;for(let m=0;m<a.length;m++){const w=a[m],S=mr(w);"number"==typeof S?-1===S?c=w.token:d|=S:c=w}r.push(te(c,d))}else r.push(te(a))}return r}function an(n,r){return n[br]=r,n.prototype[br]=r,n}function mr(n){return n[br]}function z(n){return{toString:n}.toString()}var _e=(()=>((_e=_e||{})[_e.OnPush=0]="OnPush",_e[_e.Default=1]="Default",_e))(),Ve=(()=>{return(n=Ve||(Ve={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ve;var n})();const pt={},vt=[],rr=Ne({\u0275cmp:Ne}),Ar=Ne({\u0275dir:Ne}),Vn=Ne({\u0275pipe:Ne}),Li=Ne({\u0275mod:Ne}),ni=Ne({\u0275fac:Ne}),yr=Ne({__NG_ELEMENT_ID__:Ne});let bs=0;function ri(n){return z(()=>{const s=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ve.Emulated,id:"c"+bs++,styles:n.styles||vt,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},d=n.dependencies,m=n.features;return c.inputs=vi(n.inputs,a),c.outputs=vi(n.outputs),m&&m.forEach(w=>w(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Cs).filter(Ss):null,c.pipeDefs=d?()=>("function"==typeof d?d():d).map(vr).filter(Ss):null,c})}function Cs(n){return mn(n)||Gn(n)}function Ss(n){return null!==n}function xr(n){return z(()=>({type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vi(n,r){if(null==n)return pt;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}const cr=ri;function Ci(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function mn(n){return n[rr]||null}function Gn(n){return n[Ar]||null}function vr(n){return n[Vn]||null}function fe(n){const r=mn(n)||Gn(n)||vr(n);return null!==r&&r.standalone}function se(n,r){const s=n[Li]||null;if(!s&&!0===r)throw new Error(`Type ${Et(n)} does not have '\u0275mod' property.`);return s}function wr(n){return Array.isArray(n)&&"object"==typeof n[1]}function En(n){return Array.isArray(n)&&!0===n[1]}function Ki(n){return 0!=(4&n.flags)}function as(n){return n.componentOffset>-1}function Si(n){return 1==(1&n.flags)}function Ai(n){return null!==n.template}function Zi(n){return 0!=(256&n[2])}function Mi(n,r){return n.hasOwnProperty(ni)?n[ni]:null}class Ho{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function cs(){return js}function js(n){return n.type.prototype.ngOnChanges&&(n.setInput=Hs),Yn}function Yn(){const n=Co(this),r=n?.current;if(r){const s=n.previous;if(s===pt)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Hs(n,r,s,a){const c=this.declaredInputs[s],d=Co(n)||function Ms(n,r){return n[ls]=r}(n,{previous:pt,current:null}),m=d.current||(d.current={}),w=d.previous,S=w[c];m[c]=new Ho(S&&S.currentValue,r,w===pt),n[a]=r}cs.ngInherit=!0;const ls="__ngSimpleChanges__";function Co(n){return n[ls]||null}function dr(n){for(;Array.isArray(n);)n=n[0];return n}function la(n,r){return dr(r[n])}function Wr(n,r){return dr(r[n.index])}function Lr(n,r){return n.data[r]}function hr(n,r){const s=r[n];return wr(s)?s:s[0]}function fs(n){return 64==(64&n[2])}function qr(n,r){return null==r?null:n[r]}function fo(n){n[18]=0}function po(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Kt={lFrame:ps(null),bindingsEnabled:!0};function zs(){return Kt.bindingsEnabled}function qe(){return Kt.lFrame.lView}function Dn(){return Kt.lFrame.tView}function go(n){return Kt.lFrame.contextLView=n,n[8]}function qo(n){return Kt.lFrame.contextLView=null,n}function fr(){let n=mo();for(;null!==n&&64===n.type;)n=n.parent;return n}function mo(){return Kt.lFrame.currentTNode}function Rr(n,r){const s=Kt.lFrame;s.currentTNode=n,s.isParent=r}function Ws(){return Kt.lFrame.isParent}function Xr(){const n=Kt.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function So(){return Kt.lFrame.bindingIndex++}function xa(n,r){const s=Kt.lFrame;s.bindingIndex=s.bindingRootIndex=n,Ao(r)}function Ao(n){Kt.lFrame.currentDirectiveIndex=n}function Ra(){return Kt.lFrame.currentQueryIndex}function Qa(n){Kt.lFrame.currentQueryIndex=n}function Jr(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Pi(n,r,s){if(s&nt.SkipSelf){let c=r,d=n;for(;!(c=c.parent,null!==c||s&nt.Host||(c=Jr(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;r=c,n=d}const a=Kt.lFrame=Zs();return a.currentTNode=r,a.lView=n,!0}function Ji(n){const r=Zs(),s=n[1];Kt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Zs(){const n=Kt.lFrame,r=null===n?null:n.child;return null===r?ps(n):r}function ps(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function rt(){const n=Kt.lFrame;return Kt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pr=rt;function jn(){const n=rt();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function wt(){return Kt.lFrame.selectedIndex}function Ys(n){Kt.lFrame.selectedIndex=n}function _(){const n=Kt.lFrame;return Lr(n.tView,n.selectedIndex)}function gt(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:B}=d;m&&(n.contentHooks||(n.contentHooks=[])).push(-s,m),w&&((n.contentHooks||(n.contentHooks=[])).push(s,w),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,w)),S&&(n.viewHooks||(n.viewHooks=[])).push(-s,S),k&&((n.viewHooks||(n.viewHooks=[])).push(s,k),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,k)),null!=B&&(n.destroyHooks||(n.destroyHooks=[])).push(s,B)}}function Mn(n,r,s){hn(n,r,3,s)}function Tn(n,r,s,a){(3&n[2])===s&&hn(n,r,s,a)}function Sn(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function hn(n,r,s,a){const d=a??-1,m=r.length-1;let w=0;for(let S=void 0!==a?65535&n[18]:0;S<m;S++)if("number"==typeof r[S+1]){if(w=r[S],null!=a&&w>=a)break}else r[S]<0&&(n[18]+=65536),(w<d||-1==d)&&(gr(n,s,r,S),n[18]=(4294901760&n[18])+S+2),S++}function gr(n,r,s,a){const c=s[a]<0,d=s[a+1],w=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(w)}finally{}}}else try{d.call(w)}finally{}}class sn{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Xn(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],m=s[a++],w=s[a++];n.setAttribute(r,m,w,d)}else{const d=c,m=s[++a];Xs(d)?n.setProperty(r,d,m):n.setAttribute(r,d,m),a++}}return a}function lt(n){return 3===n||4===n||6===n}function Xs(n){return 64===n.charCodeAt(0)}function $i(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||ji(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function ji(n,r,s,a,c){let d=0,m=n.length;if(-1===r)m=-1;else for(;d<n.length;){const w=n[d++];if("number"==typeof w){if(w===r){m=-1;break}if(w>r){m=d-1;break}}}for(;d<n.length;){const w=n[d];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(n[d+1]=c));if(a===n[d+1])return void(n[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(n.splice(m,0,r),d=m+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==c&&n.splice(d++,0,c)}function yo(n){return-1!==n}function vo(n){return 32767&n}function gs(n,r){let s=function Qo(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let ms=!0;function Js(n){const r=ms;return ms=n,r}let Xa=0;const ii={};function Ce(n,r){const s=Hi(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,hi(a.data,n),hi(r,null),hi(a.blueprint,null));const c=Xo(n,r),d=n.injectorIndex;if(yo(c)){const m=vo(c),w=gs(c,r),S=w[1].data;for(let k=0;k<8;k++)r[d+k]=w[m+k]|S[m+k]}return r[d+8]=c,d}function hi(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Hi(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Xo(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Oa(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function ys(n,r,s){!function pa(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(yr)&&(a=s[yr]),null==a&&(a=s[yr]=Xa++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function Ja(n,r,s){if(s&nt.Optional||void 0!==n)return n;Ge()}function Kr(n,r,s,a){if(s&nt.Optional&&void 0===a&&(a=null),!(s&(nt.Self|nt.Host))){const c=n[9],d=cn(void 0);try{return c?c.get(r,a,s&nt.Optional):jr(r,a,s&nt.Optional)}finally{cn(d)}}return Ja(a,0,s)}function ei(n,r,s,a=nt.Default,c){if(null!==n){if(1024&r[2]){const m=function Ac(n,r,s,a,c){let d=n,m=r;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const w=eu(d,m,s,a|nt.Self,ii);if(w!==ii)return w;let S=d.parent;if(!S){const k=m[21];if(k){const B=k.get(s,ii,a);if(B!==ii)return B}S=Oa(m),m=m[15]}d=S}return c}(n,r,s,a,ii);if(m!==ii)return m}const d=eu(n,r,s,a,ii);if(d!==ii)return d}return Kr(r,s,a,c)}function eu(n,r,s,a,c){const d=function Eu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(yr)?n[yr]:void 0;return"number"==typeof r?r>=0?255&r:Pa:r}(s);if("function"==typeof d){if(!Pi(r,n,a))return a&nt.Host?Ja(c,0,a):Kr(r,s,a,c);try{const m=d(a);if(null!=m||a&nt.Optional)return m;Ge()}finally{pr()}}else if("number"==typeof d){let m=null,w=Hi(n,r),S=-1,k=a&nt.Host?r[16][6]:null;for((-1===w||a&nt.SkipSelf)&&(S=-1===w?Xo(n,r):r[w+8],-1!==S&&ka(a,!1)?(m=r[1],w=vo(S),r=gs(S,r)):w=-1);-1!==w;){const B=r[1];if(Mo(d,w,B.data)){const q=Na(w,r,s,m,a,k);if(q!==ii)return q}S=r[w+8],-1!==S&&ka(a,r[1].data[w+8]===k)&&Mo(d,w,r)?(m=B,w=vo(S),r=gs(S,r)):w=-1}}return c}function Na(n,r,s,a,c,d){const m=r[1],w=m.data[n+8],B=xo(w,m,s,null==a?as(w)&&ms:a!=m&&0!=(3&w.type),c&nt.Host&&d===w);return null!==B?ti(r,m,B,w):ii}function xo(n,r,s,a,c){const d=n.providerIndexes,m=r.data,w=1048575&d,S=n.directiveStart,B=d>>20,ue=c?w+B:n.directiveEnd;for(let we=a?w:w+B;we<ue;we++){const ze=m[we];if(we<S&&s===ze||we>=S&&ze.type===s)return we}if(c){const we=m[S];if(we&&Ai(we)&&we.type===s)return S}return null}function ti(n,r,s,a){let c=n[s];const d=r.data;if(function Ht(n){return n instanceof sn}(c)){const m=c;m.resolving&&function oe(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ce(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Q(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}(d[s]));const w=Js(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?cn(m.injectImpl):null;Pi(n,a,nt.Default);try{c=n[s]=m.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function We(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=js(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==S&&cn(S),Js(w),m.resolving=!1,pr()}}return c}function Mo(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function ka(n,r){return!(n&nt.Self||n&nt.Host&&r)}class vs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ei(this._tNode,this._lView,r,yt(a),s)}}function Pa(){return new vs(fr(),qe())}function Jo(n){return z(()=>{const r=n.prototype.constructor,s=r[ni]||Ns(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const d=c[ni]||Ns(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Ns(n){return Pe(n)?()=>{const r=Ns(tt(n));return r&&r()}:Mi(n)}function Oa(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function ir(n){return function eo(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(lt(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(fr(),n)}const Gi="__parameters__";function zi(n,r,s){return z(()=>{const a=function _o(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return w.annotation=m,w;function w(S,k,B){const q=S.hasOwnProperty(Gi)?S[Gi]:Object.defineProperty(S,Gi,{value:[]})[Gi];for(;q.length<=B;)q.push(null);return(q[B]=q[B]||[]).push(m),S}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Bn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=yn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Is(n,r){n.forEach(s=>Array.isArray(s)?Is(s,r):r(s))}function ga(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function ws(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function M(n,r,s){let a=V(n,r);return a>=0?n[1|a]=s:(a=~a,function g(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function O(n,r){const s=V(n,r);if(s>=0)return n[1|s]}function V(n,r){return function Fe(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const d=a+(c-a>>1),m=n[d<<s];if(r===m)return d<<s;m>r?c=d:a=d+1}return~(c<<s)}(n,r,1)}const no=an(zi("Optional"),8),R=an(zi("SkipSelf"),4);var Po=(()=>((Po=Po||{})[Po.Important=1]="Important",Po[Po.DashCase=2]="DashCase",Po))();const ya=new Map;let ru=0;const h="__ngContext__";function f(n,r){wr(r)?(n[h]=r[20],function iu(n){ya.set(n[20],n)}(r)):n[h]=r}function _a(n,r){return undefined(n,r)}function Cu(n){const r=n[3];return En(r)?r[3]:r}function Yu(n){return Fo(n[13])}function Qu(n){return Fo(n[4])}function Fo(n){for(;null!==n&&!En(n);)n=n[4];return n}function au(n,r,s,a,c){if(null!=a){let d,m=!1;En(a)?d=a:wr(a)&&(m=!0,a=a[0]);const w=dr(a);0===n&&null!==s?null==c?Fh(r,s,w):tc(r,s,w,c||null,!0):1===n&&null!==s?tc(r,s,w,c||null,!0):2===n?function Td(n,r,s){const a=Ed(n,r);a&&function cm(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,w,m):3===n&&r.destroyNode(w),null!=d&&function dm(n,r,s,a,c){const d=s[7];d!==dr(s)&&au(r,n,a,d,c);for(let w=10;w<s.length;w++){const S=s[w];Pc(S[1],S,n,r,a,d)}}(r,n,d,s,c)}}function Id(n,r,s){return n.createElement(r,s)}function bp(n,r){const s=n[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,po(c,-1)),s.splice(a,1)}function Nc(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&bp(c,a),r>0&&(n[s-1][4]=a[4]);const d=ws(n,10+r);!function Ba(n,r){Pc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function kc(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Pc(n,r,s,3,null,null),function am(n){let r=n[13];if(!r)return ec(n[1],n);for(;r;){let s=null;if(wr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)wr(r)&&ec(r[1],r),r=r[3];null===r&&(r=n),wr(r)&&ec(r[1],r),s=r&&r[4]}r=s}}(r)}}function ec(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Cp(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof sn)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const w=c[d[m]],S=d[m+1];try{S.call(w)}finally{}}else try{d.call(c)}finally{}}}}(n,r),function wd(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+3];m>=0?a[c=m]():a[c=-m].unsubscribe(),d+=2}else{const m=a[c=s[d+1]];s[d].call(m)}if(null!==a){for(let d=c+1;d<a.length;d++)(0,a[d])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&En(r[3])){s!==r[3]&&bp(s,r);const a=r[19];null!==a&&a.detachView(n)}!function bu(n){ya.delete(n[20])}(r)}}function Ph(n,r,s){return function Oh(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=n.data[a.directiveStart+c];if(d===Ve.None||d===Ve.Emulated)return null}return Wr(a,s)}}(n,r.parent,s)}function tc(n,r,s,a,c){n.insertBefore(r,s,a,c)}function Fh(n,r,s){n.appendChild(r,s)}function Lh(n,r,s,a,c){null!==a?tc(n,r,s,a,c):Fh(n,r,s)}function Ed(n,r){return n.parentNode(r)}let Bh,bl,Sp=function Uh(n,r,s){return 40&n.type?Wr(n,s):null};function Il(n,r,s,a){const c=Ph(n,a,r),d=r[11],w=function nc(n,r,s){return Sp(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let S=0;S<s.length;S++)Lh(d,c,s[S],w,!1);else Lh(d,c,s,w,!1)}function Su(n,r){if(null!==r){const s=r.type;if(3&s)return Wr(r,n);if(4&s)return wl(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Su(n,a);{const c=n[r.index];return En(c)?wl(-1,c):dr(c)}}if(32&s)return _a(r,n)()||dr(n[r.index]);{const a=Ia(n,r);return null!==a?Array.isArray(a)?a[0]:Su(Cu(n[16]),a):Su(n,r.next)}}return null}function Ia(n,r){return null!==r?n[16][6].projection[r.projection]:null}function wl(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return Su(a,c)}return r[7]}function rc(n,r,s,a,c,d,m){for(;null!=s;){const w=a[s.index],S=s.type;if(m&&0===r&&(w&&f(dr(w),a),s.flags|=2),32!=(32&s.flags))if(8&S)rc(n,r,s.child,a,c,d,!1),au(r,n,c,w,d);else if(32&S){const k=_a(s,a);let B;for(;B=k();)au(r,n,c,B,d);au(r,n,c,w,d)}else 16&S?Vh(n,r,a,s,c,d):au(r,n,c,w,d);s=m?s.projectionNext:s.next}}function Pc(n,r,s,a,c,d){rc(s,a,n.firstChild,r,c,d,!1)}function Vh(n,r,s,a,c,d){const m=s[16],S=m[6].projection[a.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)au(r,n,c,S[k],d);else rc(n,r,S,m[3],c,d,!0)}function bd(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function xp(n,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&Xn(n,r,a),null!==c&&bd(n,r,c),null!==d&&function El(n,r,s){n.setAttribute(r,"style",s)}(n,r,d)}function Oc(n){Bh=n}function Rp(n){return function $h(){if(void 0===bl&&(bl=null,dn.trustedTypes))try{bl=dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bl}()?.createScriptURL(n)||n}class Hh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function xu(n){return n instanceof Hh?n.changingThisBreaksApplicationSecurity:n}function Cl(n,r){const s=function mm(n){return n instanceof Hh&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${dt})`)}return s===r}const Im=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function Ad(n){const r=Nl();return r?r.sanitize(Ei.URL,n)||"":Cl(n,"URL")?xu(n):function Gh(n){return(n=String(n)).match(Im)?n:"unsafe:"+n}(ie(n))}function Kh(n){const r=Nl();if(r)return Rp(r.sanitize(Ei.RESOURCE_URL,n)||"");if(Cl(n,"ResourceURL"))return Rp(xu(n));throw new ce(904,!1)}function Zh(n,r,s){return function Dm(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Kh:Ad}(r,s)(n)}function Nl(){const n=qe();return n&&n[12]}const cc=new Bn("ENVIRONMENT_INITIALIZER"),Nu=new Bn("INJECTOR",-1),uu=new Bn("INJECTOR_DEF_TYPES");class Yh{get(r,s=Sr){if(s===Sr){const a=new Error(`NullInjectorError: No provider for ${Et(r)}!`);throw a.name="NullInjectorError",a}return s}}function jp(...n){return{\u0275providers:Hp(0,n),\u0275fromNgModule:!0}}function Hp(n,...r){const s=[],a=new Set;let c;return Is(r,d=>{const m=d;kl(m,s,[],a)&&(c||(c=[]),c.push(m))}),void 0!==c&&Md(c,s),s}function Md(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];Pl(c,d=>{r.push(d)})}}function kl(n,r,s,a){if(!(n=tt(n)))return!1;let c=null,d=li(n);const m=!d&&mn(n);if(d||m){if(m&&!m.standalone)return!1;c=n}else{const S=n.ngModule;if(d=li(S),!d)return!1;c=S}const w=a.has(c);if(m){if(w)return!1;if(a.add(c),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of S)kl(k,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let k;a.add(c);try{Is(d.imports,B=>{kl(B,r,s,a)&&(k||(k=[]),k.push(B))})}finally{}void 0!==k&&Md(k,r)}if(!w){const k=Mi(c)||(()=>new c);r.push({provide:c,useFactory:k,deps:vt},{provide:uu,useValue:c,multi:!0},{provide:cc,useValue:()=>te(c),multi:!0})}const S=d.providers;null==S||w||Pl(S,B=>{r.push(B)})}}return c!==n&&void 0!==n.providers}function Pl(n,r){for(let s of n)je(s)&&(s=s.\u0275providers),Array.isArray(s)?Pl(s,r):r(s)}const Qh=Ne({provide:String,useValue:Ne});function Rd(n){return null!==n&&"object"==typeof n&&Qh in n}function cu(n){return"function"==typeof n}const Xh=new Bn("Set Injector scope."),Fl={},Ll={};let Fc;function ku(){return void 0===Fc&&(Fc=new Yh),Fc}class Pu{}class Jh extends Pu{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lu(r,m=>this.processProvider(m)),this.records.set(Nu,lc(void 0,this)),c.has("environment")&&this.records.set(Pu,lc(void 0,this));const d=this.records.get(Xh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(uu.multi,vt,nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=X(this),a=cn(void 0);try{return r()}finally{X(s),cn(a)}}get(r,s=Sr,a=nt.Default){this.assertNotDestroyed(),a=yt(a);const c=X(this),d=cn(void 0);try{if(!(a&nt.SkipSelf)){let w=this.records.get(r);if(void 0===w){const S=function Wp(n){return"function"==typeof n||"object"==typeof n&&n instanceof Bn}(r)&&Dt(r);w=S&&this.injectableDefInScope(S)?lc(Ls(r),Fl):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&nt.Self?ku():this.parent).get(r,s=a&nt.Optional&&s===Sr?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[it]=m[it]||[]).unshift(Et(r)),c)throw m;return function me(n,r,s,a){const c=n[it];throw r[Lt]&&c.unshift(r[Lt]),n.message=function re(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Et(r);if(Array.isArray(r))c=r.map(Et).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let w=r[m];d.push(m+":"+("string"==typeof w?JSON.stringify(w):Et(w)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(ke,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[it]=null,n}(m,r,"R3InjectorError",this.source)}throw m}finally{cn(d),X(c)}}resolveInjectorInitializers(){const r=X(this),s=cn(void 0);try{const a=this.get(cc.multi,vt,nt.Self);for(const c of a)c()}finally{X(r),cn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Et(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(r){let s=cu(r=tt(r))?r:tt(r&&r.provide);const a=function kd(n){return Rd(n)?lc(void 0,n.useValue):lc(Ul(n),Fl)}(r);if(cu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=lc(void 0,Fl,!0),c.factory=()=>qt(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Fl&&(s.value=Ll,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Lc(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=tt(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Ls(n){const r=Dt(n),s=null!==r?r.factory:Mi(n);if(null!==s)return s;if(n instanceof Bn)throw new ce(204,!1);if(n instanceof Function)return function zp(n){const r=n.length;if(r>0)throw function No(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new ce(204,!1);const s=function tr(n){const r=n&&(n[wn]||n[on]);if(r){const s=function nr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ce(204,!1)}function Ul(n,r,s){let a;if(cu(n)){const c=tt(n);return Mi(c)||Ls(c)}if(Rd(n))a=()=>tt(n.useValue);else if(function Gp(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...qt(n.deps||[]));else if(function Ol(n){return!(!n||!n.useExisting)}(n))a=()=>te(tt(n.useExisting));else{const c=tt(n&&(n.useClass||n.provide));if(!function Ou(n){return!!n.deps}(n))return Mi(c)||Ls(c);a=()=>new c(...qt(n.deps))}return a}function lc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function lu(n,r){for(const s of n)Array.isArray(s)?lu(s,r):s&&je(s)?lu(s.\u0275providers,r):r(s)}class bm{}class dc{}class Sm{resolveComponentFactory(r){throw function qp(n){const r=Error(`No component factory found for ${Et(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Vl=(()=>{class n{}return n.NULL=new Sm,n})();function Am(){return Uc(fr(),qe())}function Uc(n,r){return new Fu(Wr(n,r))}let Fu=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Am,n})();function xm(n){return n instanceof Fu?n.nativeElement:n}class Kp{}let Zp=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Mm(){const n=qe(),s=hr(fr().index,n);return(wr(s)?s:n)[11]}(),n})(),Yp=(()=>{class n{}return n.\u0275prov=yn({token:n,providedIn:"root",factory:()=>null}),n})();class Lu{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Vc=new Lu("15.1.1"),Pd={};function Fd(n){return n.ngOriginalError}class Bl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Fd(r);for(;s&&Fd(s);)s=Fd(s);return s||null}}function hu(n){return n instanceof Function?n():n}function $l(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||n.charCodeAt(c+d)<=32)return c}s=c+1}}const Bd="ng-template";function tf(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==$l(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function nf(n){return 4===n.type&&n.value!==Bd}function Vm(n,r,s){return r===(4!==n.type||s?n.value:Bd)}function Xp(n,r,s){let a=4;const c=n.attrs||[],d=function Bm(n){for(let r=0;r<n.length;r++)if(lt(n[r]))return r;return n.length}(c);let m=!1;for(let w=0;w<r.length;w++){const S=r[w];if("number"!=typeof S){if(!m)if(4&a){if(a=2|1&a,""!==S&&!Vm(n,S,s)||""===S&&1===r.length){if(ia(a))return!1;m=!0}}else{const k=8&a?S:r[++w];if(8&a&&null!==n.attrs){if(!tf(n.attrs,k,s)){if(ia(a))return!1;m=!0}continue}const q=rf(8&a?"class":S,c,nf(n),s);if(-1===q){if(ia(a))return!1;m=!0;continue}if(""!==k){let ue;ue=q>d?"":c[q+1].toLowerCase();const we=8&a?ue:null;if(we&&-1!==$l(we,k,0)||2&a&&k!==ue){if(ia(a))return!1;m=!0}}}}else{if(!m&&!ia(a)&&!ia(S))return!1;if(m&&ia(S))continue;m=!1,a=S|1&a}}return ia(a)||m}function ia(n){return 0==(1&n)}function rf(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const m=r[c];if(m===n)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function tg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Jp(n,r,s=!1){for(let a=0;a<r.length;a++)if(Xp(n,r[a],s))return!0;return!1}function fc(n,r){return n?":not("+r.trim()+")":r}function Bc(n){let r=n[0],s=1,a=2,c="",d=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const w=n[++s];c+="["+m+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!ia(m)&&(r+=fc(d,c),c=""),a=m,d=d||!ia(a);s++}return""!==c&&(r+=fc(d,c)),r}const fn={};function af(n){uf(Dn(),qe(),wt()+n,!1)}function uf(n,r,s,a){if(!a)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&Mn(r,d,s)}else{const d=n.preOrderHooks;null!==d&&Tn(r,d,0,s)}Ys(s)}function jl(n,r=null,s=null,a){const c=zd(n,r,s,a);return c.resolveInjectorInitializers(),c}function zd(n,r=null,s=null,a,c=new Set){const d=[s||vt,jp(n)];return a=a||("object"==typeof n?void 0:Et(n)),new Jh(d,r||ku(),a||null,c)}let fu=(()=>{class n{static create(s,a){if(Array.isArray(s))return jl({name:""},a,s,"");{const c=s.name??"";return jl({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=Sr,n.NULL=new Yh,n.\u0275prov=yn({token:n,providedIn:"any",factory:()=>te(Nu)}),n.__NG_ELEMENT_ID__=-1,n})();function Hc(n,r=nt.Default){const s=qe();return null===s?te(n,r):ei(fr(),s,tt(n),r)}function eh(){throw new Error("invalid")}function th(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const m=n.data[d];Qa(s[a]),m.contentQueries(2,r[d],d)}}}function gc(n,r,s,a,c,d,m,w,S,k,B){const q=r.blueprint.slice();return q[0]=c,q[2]=76|a,(null!==B||n&&1024&n[2])&&(q[2]|=1024),fo(q),q[3]=q[15]=n,q[8]=s,q[10]=m||n&&n[10],q[11]=w||n&&n[11],q[12]=S||n&&n[12]||null,q[9]=k||n&&n[9]||null,q[6]=d,q[20]=function _d(){return ru++}(),q[21]=B,q[16]=2==r.type?n[16]:q,q}function Uu(n,r,s,a,c){let d=n.data[r];if(null===d)d=function nh(n,r,s,a,c){const d=mo(),m=Ws(),S=n.data[r]=function Qm(n,r,s,a,c,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=S),null!==d&&(m?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S)),S}(n,r,s,a,c),function Ko(){return Kt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const m=function Cr(){const n=Kt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return Rr(d,!0),d}function Ha(n,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function Wl(n,r,s){Ji(r);try{const a=n.viewQuery;null!==a&&Zl(1,a,s);const c=n.template;null!==c&&ug(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&th(n,r),n.staticViewQueries&&Zl(2,n.viewQuery,s);const d=n.components;null!==d&&function mf(n,r){for(let s=0;s<r.length;s++)ry(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,jn()}}function rh(n,r,s,a){const c=r[2];if(128!=(128&c)){Ji(r);try{fo(r),function Ks(n){return Kt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&ug(n,r,s,2,a);const m=3==(3&c);if(m){const k=n.preOrderCheckHooks;null!==k&&Mn(r,k,null)}else{const k=n.preOrderHooks;null!==k&&Tn(r,k,0,null),Sn(r,0)}if(function pg(n){for(let r=Yu(n);null!==r;r=Qu(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a];512&c[2]||po(c[3],1),c[2]|=512}}}(r),function fg(n){for(let r=Yu(n);null!==r;r=Qu(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];fs(a)&&rh(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&th(n,r),m){const k=n.contentCheckHooks;null!==k&&Mn(r,k)}else{const k=n.contentHooks;null!==k&&Tn(r,k,1),Sn(r,1)}!function Km(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)Ys(~c);else{const d=c,m=s[++a],w=s[++a];xa(m,d),w(2,r[d])}}}finally{Ys(-1)}}(n,r);const w=n.components;null!==w&&function Zm(n,r){for(let s=0;s<r.length;s++)ny(n,r[s])}(r,w);const S=n.viewQuery;if(null!==S&&Zl(2,S,a),m){const k=n.viewCheckHooks;null!==k&&Mn(r,k)}else{const k=n.viewHooks;null!==k&&Tn(r,k,2),Sn(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,po(r[3],-1))}finally{jn()}}}function ug(n,r,s,a,c){const d=wt(),m=2&a;try{Ys(-1),m&&r.length>22&&uf(n,r,22,!1),s(a,c)}finally{Ys(d)}}function ih(n,r,s){if(Ki(r)){const c=r.directiveEnd;for(let d=r.directiveStart;d<c;d++){const m=n.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}function sh(n,r,s){zs()&&(function Xm(n,r,s,a){const c=s.directiveStart,d=s.directiveEnd;as(s)&&function Sf(n,r,s){const a=Wr(r,n),c=oh(s),d=n[10],m=zc(n,gc(n,c,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));n[r.index]=m}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||Ce(s,r),f(a,r);const m=s.initialInputs;for(let w=c;w<d;w++){const S=n.data[w],k=ti(r,n,w,s);f(k,r),null!==m&&ty(0,w-c,k,S,0,m),Ai(S)&&(hr(s.index,r)[8]=ti(r,n,w,s))}}(n,r,s,Wr(s,r)),64==(64&s.flags)&&dg(n,r,s))}function yf(n,r,s=Wr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],w=-1===m?s(r,n):n[m];n[c++]=w}}}function oh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=vf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function vf(n,r,s,a,c,d,m,w,S,k){const B=22+a,q=B+c,ue=function _f(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:fn);return s}(B,q),we="function"==typeof k?k():k;return ue[1]={type:n,blueprint:ue,template:s,queries:null,viewQuery:w,declTNode:r,data:ue.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:we,incompleteFirstPass:!1}}function ah(n,r,s,a){const c=lh(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Mf(n).push(a,c.length-1))}function uh(n,r,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const d=n[c];null===a?If(s,r,c,d):a.hasOwnProperty(c)&&If(s,r,a[c],d)}return s}function If(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function mc(n,r){const s=hr(r,n);16&s[2]||(s[2]|=32)}function Bu(n,r,s,a){let c=!1;if(zs()){const d=null===a?null:{"":-1},m=function Tf(n,r){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const m=s[d];if(Jp(r,m.selectors,!1))if(a||(a=[]),Ai(m))if(null!==m.findHostDirectiveDefs){const w=[];c=c||new Map,m.findHostDirectiveDefs(m,w,c),a.unshift(...w,m),ql(n,r,w.length)}else a.unshift(m),ql(n,r,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,a,c),a.push(m)}return null===a?null:[a,c]}(n,s);let w,S;null===m?w=S=null:[w,S]=m,null!==w&&(c=!0,yc(n,r,s,w,d,S)),d&&function bf(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new ce(-301,!1);a.push(r[c],d)}}}(s,a,d)}return s.mergedAttrs=$i(s.mergedAttrs,s.attrs),c}function yc(n,r,s,a,c,d){for(let k=0;k<a.length;k++)ys(Ce(s,r),n,a[k].type);!function ey(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let k=0;k<a.length;k++){const B=a[k];B.providersResolver&&B.providersResolver(B)}let m=!1,w=!1,S=Ha(n,r,a.length,null);for(let k=0;k<a.length;k++){const B=a[k];s.mergedAttrs=$i(s.mergedAttrs,B.hostAttrs),Cf(n,s,r,S,B),Jm(S,B,c),null!==B.contentQueries&&(s.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(s.flags|=64);const q=B.type.prototype;!m&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),m=!0),!w&&(q.ngOnChanges||q.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),w=!0),S++}!function wf(n,r,s){const c=r.directiveEnd,d=n.data,m=r.attrs,w=[];let S=null,k=null;for(let B=r.directiveStart;B<c;B++){const q=d[B],ue=s?s.get(q):null,ze=ue?ue.outputs:null;S=uh(q.inputs,B,S,ue?ue.inputs:null),k=uh(q.outputs,B,k,ze);const ut=null===S||null===m||nf(r)?null:hg(S,B,m);w.push(ut)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=S,r.outputs=k}(n,s,d)}function dg(n,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,m=function Ma(){return Kt.lFrame.currentDirectiveIndex}();try{Ys(d);for(let w=a;w<c;w++){const S=n.data[w],k=r[w];Ao(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Df(S,k)}}finally{Ys(-1),Ao(m)}}function Df(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ql(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function Jm(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Ai(r)&&(s[""]=n)}}function Cf(n,r,s,a,c){n.data[a]=c;const d=c.factory||(c.factory=Mi(c.type)),m=new sn(d,Ai(c),Hc);n.blueprint[a]=m,s[a]=m,function lg(n,r,s,a,c){const d=c.hostBindings;if(d){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const w=~r.index;(function Gc(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(m)!=w&&m.push(w),m.push(s,a,d)}}(n,r,a,Ha(n,s,c.hostVars,fn),c)}function Ga(n,r,s,a,c,d){const m=Wr(n,r);!function ch(n,r,s,a,c,d,m){if(null==d)n.removeAttribute(r,c,s);else{const w=null==m?ie(d):m(d,a||"",c);n.setAttribute(r,c,w,s)}}(r[11],m,d,n.value,s,a,c)}function ty(n,r,s,a,c,d){const m=d[r];if(null!==m){const w=a.setInput;for(let S=0;S<m.length;){const k=m[S++],B=m[S++],q=m[S++];null!==w?a.setInput(s,q,k,B):s[B]=q}}}function hg(n,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(n.hasOwnProperty(d)){null===a&&(a=[]);const m=n[d];for(let w=0;w<m.length;w+=2)if(m[w]===r){a.push(d,m[w+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Af(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null]}function ny(n,r){const s=hr(r,n);if(fs(s)){const a=s[1];48&s[2]?rh(a,s,a.template,s[8]):s[5]>0&&xf(s)}}function xf(n){for(let a=Yu(n);null!==a;a=Qu(a))for(let c=10;c<a.length;c++){const d=a[c];if(fs(d))if(512&d[2]){const m=d[1];rh(m,d,m.template,d[8])}else d[5]>0&&xf(d)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=hr(s[a],n);fs(c)&&c[5]>0&&xf(c)}}function ry(n,r){const s=hr(r,n),a=s[1];(function iy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Wl(a,s,s[8])}function zc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Kl(n){for(;n;){n[2]|=32;const r=Cu(n);if(Zi(n)&&!r)return n;n=r}return null}function Wc(n,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{rh(n,r,n.template,s)}catch(m){throw a&&Rf(r,m),m}finally{c.end&&c.end()}}function Zl(n,r,s){Qa(0),r(n,s)}function lh(n){return n[7]||(n[7]=[])}function Mf(n){return n.cleanup||(n.cleanup=[])}function Rf(n,r){const s=n[9],a=s?s.get(Bl,null):null;a&&a.handleError(r)}function Nf(n,r,s,a,c){for(let d=0;d<s.length;){const m=s[d++],w=s[d++],S=r[m],k=n.data[m];null!==k.setInput?k.setInput(S,c,a,w):S[w]=c}}function hh(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:1==d?c=kt(c,w):2==d&&(a=kt(a,w+": "+r[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function qc(n,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(dr(d)),En(d))for(let w=10;w<d.length;w++){const S=d[w],k=S[1].firstChild;null!==k&&qc(S[1],S,k,a)}const m=s.type;if(8&m)qc(n,r,s.child,a);else if(32&m){const w=_a(s,r);let S;for(;S=w();)a.push(S)}else if(16&m){const w=Ia(r,s);if(Array.isArray(w))a.push(...w);else{const S=Cu(r[16]);qc(S[1],S,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class Yl{get rootNodes(){const r=this._lView,s=r[1];return qc(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(En(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Nc(r,a),ws(s,a))}this._attachedToViewContainer=!1}kc(this._lView[1],this._lView)}onDestroy(r){ah(this._lView[1],this._lView,null,r)}markForCheck(){Kl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _l(n,r){Pc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=r}}class kf extends Yl{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Wc(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class gg extends Vl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=mn(r);return new za(s,this.ngModule)}}function fh(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Of{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=yt(a);const c=this.injector.get(r,Pd,a);return c!==Pd||s===Pd?c:this.parentInjector.get(r,s,a)}}class za extends dc{get inputs(){return fh(this.componentDef.inputs)}get outputs(){return fh(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function sf(n){return n.map(Bc).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Pu?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Of(r,d):r,w=m.get(Kp,null);if(null===w)throw new ce(407,!1);const S=m.get(Yp,null),k=w.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",q=a?function Ym(n,r,s){return n.selectRootElement(r,s===Ve.ShadowDom)}(k,a,this.componentDef.encapsulation):Id(k,B,function Pf(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(B)),ue=this.componentDef.onPush?288:272,we=vf(0,null,null,1,0,null,null,null,null,null),ze=gc(null,we,null,ue,null,null,w,k,S,m,null);let ut,At;Ji(ze);try{const Ot=this.componentDef;let en,ot=null;Ot.findHostDirectiveDefs?(en=[],ot=new Map,Ot.findHostDirectiveDefs(Ot,en,ot),en.push(Ot)):en=[Ot];const In=function sy(n,r){const s=n[1];return n[22]=r,Uu(s,22,2,"#host",null)}(ze,q),mi=function Ff(n,r,s,a,c,d,m,w){const S=c[1];!function gu(n,r,s,a){for(const c of n)r.mergedAttrs=$i(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(hh(r,r.mergedAttrs,!0),null!==s&&xp(a,s,r))}(a,n,r,m);const k=d.createRenderer(r,s),B=gc(c,oh(s),null,s.onPush?32:16,c[n.index],n,d,k,w||null,null,null);return S.firstCreatePass&&ql(S,n,a.length-1),zc(c,B),c[n.index]=B}(In,q,Ot,en,ze,w,k);At=Lr(we,22),q&&function oy(n,r,s,a){if(a)Xn(n,s,["ng-version",Vc.full]);else{const{attrs:c,classes:d}=function $d(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===c?""!==d&&r.push(d,n[++a]):8===c&&s.push(d);else{if(!ia(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&Xn(n,s,c),d&&d.length>0&&bd(n,s,d.join(" "))}}(k,Ot,q,a),void 0!==s&&function Uf(n,r,s){const a=n.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(At,this.ngContentSelectors,s),ut=function Lf(n,r,s,a,c,d){const m=fr(),w=c[1],S=Wr(m,c);yc(w,c,m,s,null,a);for(let B=0;B<s.length;B++)f(ti(c,w,m.directiveStart+B,m),c);dg(w,c,m),S&&f(S,c);const k=ti(c,w,m.directiveStart+m.componentOffset,m);if(n[8]=c[8]=k,null!==d)for(const B of d)B(k,r);return ih(w,m,n),k}(mi,Ot,en,ot,ze,[ay]),Wl(we,ze,null)}finally{jn()}return new mg(this.componentType,ut,Uc(At,ze),ze,At)}}class mg extends bm{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new kf(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const d=this._rootLView;Nf(d[1],d,c,r,s),mc(d,this._tNode.index)}}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function ay(){const n=fr();gt(qe()[1],n)}function Ql(n){let r=function vg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Ai(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ce(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const m=n;m.inputs=Xl(n.inputs),m.declaredInputs=Xl(n.declaredInputs),m.outputs=Xl(n.outputs);const w=c.hostBindings;w&&ly(n,w);const S=c.viewQuery,k=c.contentQueries;if(S&&cy(n,S),k&&Vf(n,k),at(n.inputs,c.inputs),at(n.declaredInputs,c.declaredInputs),at(n.outputs,c.outputs),Ai(c)&&c.data.animation){const B=n.data;B.animation=(B.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const w=d[m];w&&w.ngInherit&&w(n),w===Ql&&(s=!1)}}r=Object.getPrototypeOf(r)}!function uy(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=$i(c.hostAttrs,s=$i(s,c.hostAttrs))}}(a)}function Xl(n){return n===pt?{}:n===vt?[]:n}function cy(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Vf(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function ly(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let Kc=null;function mu(){if(!Kc){const n=dn.Symbol;if(n&&n.iterator)Kc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Kc=a)}}}return Kc}function gh(n){return!!Jl(n)&&(Array.isArray(n)||!(n instanceof Map)&&mu()in n)}function Jl(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wa(n,r,s){return n[r]=s}function Ts(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function mh(n,r,s,a){const c=qe();return Ts(c,So(),r)&&(Dn(),Ga(_(),c,n,r,s,a)),mh}function Wf(n,r,s,a,c,d,m,w){const S=qe(),k=Dn(),B=n+22,q=k.firstCreatePass?function my(n,r,s,a,c,d,m,w,S){const k=r.consts,B=Uu(r,n,4,m||null,qr(k,w));Bu(r,s,B,qr(k,S)),gt(r,B);const q=B.tViews=vf(2,B,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k);return null!==r.queries&&(r.queries.template(r,B),q.queries=r.queries.embeddedTView(B)),B}(B,k,S,r,s,a,c,d,m):k.data[B];Rr(q,!1);const ue=S[11].createComment("");Il(k,S,ue,q),f(ue,S),zc(S,S[B]=Af(ue,S,ue,q)),Si(q)&&sh(k,S,q),null!=m&&yf(S,q,w)}function nd(n,r,s){const a=qe();return Ts(a,So(),r)&&function io(n,r,s,a,c,d,m,w){const S=Wr(r,s);let B,k=r.inputs;!w&&null!=k&&(B=k[a])?(Nf(n,s,B,a,c),as(r)&&mc(s,r.index)):3&r.type&&(a=function Ef(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(S,a,c))}(Dn(),_(),a,n,r,a[11],s,!1),nd}function rd(n,r,s,a,c){const m=c?"class":"style";Nf(n,s,r.inputs[m],m,a)}function Ic(n,r,s,a){const c=qe(),d=Dn(),m=22+n,w=c[11],S=c[m]=Id(w,r,function Re(){return Kt.lFrame.currentNamespace}()),k=d.firstCreatePass?function Kf(n,r,s,a,c,d,m){const w=r.consts,k=Uu(r,n,2,c,qr(w,d));return Bu(r,s,k,qr(w,m)),null!==k.attrs&&hh(k,k.attrs,!1),null!==k.mergedAttrs&&hh(k,k.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,k),k}(m,d,c,0,r,s,a):d.data[m];return Rr(k,!0),xp(w,S,k),32!=(32&k.flags)&&Il(d,c,S,k),0===function ba(){return Kt.lFrame.elementDepthCount}()&&f(S,c),function Wo(){Kt.lFrame.elementDepthCount++}(),Si(k)&&(sh(d,c,k),ih(d,k,c)),null!==a&&yf(c,k),Ic}function Xc(){let n=fr();Ws()?function Sa(){Kt.lFrame.isParent=!1}():(n=n.parent,Rr(n,!1));const r=n;!function Gs(){Kt.lFrame.elementDepthCount--}();const s=Dn();return s.firstCreatePass&&(gt(s,n),Ki(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Pt(n){return 0!=(8&n.flags)}(r)&&rd(s,r,qe(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Qs(n){return 0!=(16&n.flags)}(r)&&rd(s,r,qe(),r.stylesWithoutHost,!1),Xc}function yh(n,r,s,a){return Ic(n,r,s,a),Xc(),yh}function wc(){return qe()}function od(n){return!!n&&"function"==typeof n.then}function Ag(n){return!!n&&"function"==typeof n.subscribe}const xg=Ag;function Yf(n,r,s,a){const c=qe(),d=Dn(),m=fr();return function Xf(n,r,s,a,c,d,m){const w=Si(a),k=n.firstCreatePass&&Mf(n),B=r[8],q=lh(r);let ue=!0;if(3&a.type||m){const ut=Wr(a,r),At=m?m(ut):ut,Ot=q.length,en=m?In=>m(dr(In[a.index])):a.index;let ot=null;if(!m&&w&&(ot=function yy(n,r,s,a){const c=n.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===s&&c[d+1]===a){const w=r[7],S=c[d+2];return w.length>S?w[S]:null}"string"==typeof m&&(d+=2)}return null}(n,r,c,a.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=d,ot.__ngLastListenerFn__=d,ue=!1;else{d=Rg(a,r,B,d,!1);const In=s.listen(At,c,d);q.push(d,In),k&&k.push(c,en,Ot,Ot+1)}}else d=Rg(a,r,B,d,!1);const we=a.outputs;let ze;if(ue&&null!==we&&(ze=we[c])){const ut=ze.length;if(ut)for(let At=0;At<ut;At+=2){const mi=r[ze[At]][ze[At+1]].subscribe(d),qi=q.length;q.push(d,mi),k&&k.push(c,a.index,qi,-(qi+1))}}}(d,c,c[11],m,n,r,a),Yf}function Mg(n,r,s,a){try{return!1!==s(a)}catch(c){return Rf(n,c),!1}}function Rg(n,r,s,a,c){return function d(m){if(m===Function)return a;Kl(n.componentOffset>-1?hr(n.index,r):r);let S=Mg(r,0,a,m),k=d.__ngNextListenerFn__;for(;k;)S=Mg(r,0,k,m)&&S,k=k.__ngNextListenerFn__;return c&&!1===S&&(m.preventDefault(),m.returnValue=!1),S}}function Ng(n=1){return function Yo(n){return(Kt.lFrame.contextLView=function Mt(n,r){for(;n>0;)r=r[15],n--;return r}(n,Kt.lFrame.contextLView))[8]}(n)}function np(n,r){return n<<17|r<<2}function Ec(n){return n>>17&32767}function Pg(n){return 2|n}function Jc(n){return(131068&n)>>2}function _h(n,r){return-131069&n|r<<2}function $u(n){return 1|n}function Og(n,r,s,a,c){const d=n[s+1],m=null===r;let w=a?Ec(d):Jc(d),S=!1;for(;0!==w&&(!1===S||m);){const B=n[w+1];Fg(n[w],r)&&(S=!0,n[w+1]=a?$u(B):Pg(B)),w=a?Ec(B):Jc(B)}S&&(n[s+1]=a?Pg(d):$u(d))}function Fg(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&V(n,r)>=0}function Eh(n,r){return function Do(n,r,s,a){const c=qe(),d=Dn(),m=function Xi(n){const r=Kt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);d.firstUpdatePass&&function Ug(n,r,s,a){const c=n.data;if(null===c[s+1]){const d=c[wt()],m=function Dh(n,r){return r>=n.expandoStartIndex}(n,s);(function ky(n,r){return 0!=(n.flags&(r?8:16))})(d,a)&&null===r&&!m&&(r=!1),r=function Th(n,r,s,a){const c=function Zo(n){const r=Kt.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=yu(s=Bg(null,n,r,s,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||n[m]!==c)if(s=Bg(c,n,r,s,a),null===d){let S=function Vg(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Jc(a))return n[Ec(a)]}(n,r,a);void 0!==S&&Array.isArray(S)&&(S=Bg(null,n,r,S[1],a),S=yu(S,r.attrs,a),function Ry(n,r,s,a){n[Ec(s?r.classBindings:r.styleBindings)]=a}(n,r,a,S))}else d=function qv(n,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=yu(a,n[d].hostAttrs,s);return yu(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function rp(n,r,s,a,c,d){let m=d?r.classBindings:r.styleBindings,w=Ec(m),S=Jc(m);n[a]=s;let B,k=!1;if(Array.isArray(s)?(B=s[1],(null===B||V(s,B)>0)&&(k=!0)):B=s,c)if(0!==S){const ue=Ec(n[w+1]);n[a+1]=np(ue,w),0!==ue&&(n[ue+1]=_h(n[ue+1],a)),n[w+1]=function Wv(n,r){return 131071&n|r<<17}(n[w+1],a)}else n[a+1]=np(w,0),0!==w&&(n[w+1]=_h(n[w+1],a)),w=a;else n[a+1]=np(S,0),0===w?w=a:n[S+1]=_h(n[S+1],a),S=a;k&&(n[a+1]=Pg(n[a+1])),Og(n,B,a,!0),Og(n,B,a,!1),function Cy(n,r,s,a,c){const d=c?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&V(d,r)>=0&&(s[a+1]=$u(s[a+1]))}(r,B,n,a,d),m=np(w,S),d?r.classBindings=m:r.styleBindings=m}(c,d,r,s,m,a)}}(d,n,m,a),r!==fn&&Ts(c,m,r)&&function Ny(n,r,s,a,c,d,m,w){if(!(3&r.type))return;const S=n.data,k=S[w+1],B=function Dc(n){return 1==(1&n)}(k)?bh(S,r,s,c,Jc(k),m):void 0;cp(B)||(cp(d)||function zv(n){return 2==(2&n)}(k)&&(d=bh(S,null,s,c,w,m)),function hm(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Po.DashCase;null==c?n.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Po.Important),n.setStyle(s,a,c,d))}}(a,m,la(wt(),s),c,d))}(d,d.data[wt()],c,c[11],n,c[m+1]=function Ch(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Et(xu(n)))),n}(r,s),a,m)}(n,r,null,!0),Eh}function Bg(n,r,s,a,c){let d=null;const m=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<m&&(d=r[w],a=yu(a,d.hostAttrs,c),d!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function yu(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),M(n,m,!!s||r[++d]))}return void 0===n?null:n}function bh(n,r,s,a,c,d){const m=null===r;let w;for(;c>0;){const S=n[c],k=Array.isArray(S),B=k?S[1]:S,q=null===B;let ue=s[c+1];ue===fn&&(ue=q?vt:void 0);let we=q?O(ue,a):B===a?ue:void 0;if(k&&!cp(we)&&(we=O(S,a)),cp(we)&&(w=we,m))return w;const ze=n[c+1];c=m?Ec(ze):Jc(ze)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(w=O(S,a))}return w}function cp(n){return void 0!==n}function Py(n,r=""){const s=qe(),a=Dn(),c=n+22,d=a.firstCreatePass?Uu(a,c,1,r,null):a.data[c],m=s[c]=function ts(n,r){return n.createText(r)}(s[11],r);Il(a,s,m,d),Rr(d,!1)}function rl(n){return $g("",n,""),rl}function $g(n,r,s){const a=qe(),c=function Ka(n,r,s,a){return Ts(n,So(),s)?r+ie(s)+a:fn}(a,n,r,s);return c!==fn&&function wa(n,r,s){const a=la(r,n);!function Xu(n,r,s){n.setValue(r,s)}(n[11],a,s)}(a,wt(),c),$g}const Cc=void 0;var zy=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xh(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ld={};function Kg(n){const r=function Zg(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=qy(r);if(s)return s;const a=r.split("-")[0];if(s=qy(a),s)return s;if("en"===a)return zy;throw new ce(701,!1)}function Wy(n){return Kg(n)[nn.PluralCase]}function qy(n){return n in ld||(ld[n]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[n]),ld[n]}var nn=(()=>((nn=nn||{})[nn.LocaleId=0]="LocaleId",nn[nn.DayPeriodsFormat=1]="DayPeriodsFormat",nn[nn.DayPeriodsStandalone=2]="DayPeriodsStandalone",nn[nn.DaysFormat=3]="DaysFormat",nn[nn.DaysStandalone=4]="DaysStandalone",nn[nn.MonthsFormat=5]="MonthsFormat",nn[nn.MonthsStandalone=6]="MonthsStandalone",nn[nn.Eras=7]="Eras",nn[nn.FirstDayOfWeek=8]="FirstDayOfWeek",nn[nn.WeekendRange=9]="WeekendRange",nn[nn.DateFormat=10]="DateFormat",nn[nn.TimeFormat=11]="TimeFormat",nn[nn.DateTimeFormat=12]="DateTimeFormat",nn[nn.NumberSymbols=13]="NumberSymbols",nn[nn.NumberFormats=14]="NumberFormats",nn[nn.CurrencyCode=15]="CurrencyCode",nn[nn.CurrencySymbol=16]="CurrencySymbol",nn[nn.CurrencyName=17]="CurrencyName",nn[nn.Currencies=18]="Currencies",nn[nn.Directionality=19]="Directionality",nn[nn.PluralCase=20]="PluralCase",nn[nn.ExtraData=21]="ExtraData",nn))();const t="en-US";let N=t;function Yy(n,r,s,a,c){if(n=tt(n),Array.isArray(n))for(let d=0;d<n.length;d++)Yy(n[d],r,s,a,c);else{const d=Dn(),m=qe();let w=cu(n)?n:tt(n.provide),S=Ul(n);const k=fr(),B=1048575&k.providerIndexes,q=k.directiveStart,ue=k.providerIndexes>>20;if(cu(n)||!n.multi){const we=new sn(S,c,Hc),ze=Xy(w,r,c?B:B+ue,q);-1===ze?(ys(Ce(k,m),d,w),Qy(d,n,r.length),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(we),m.push(we)):(s[ze]=we,m[ze]=we)}else{const we=Xy(w,r,B+ue,q),ze=Xy(w,r,B,B+ue),At=ze>=0&&s[ze];if(c&&!At||!c&&!(we>=0&&s[we])){ys(Ce(k,m),d,w);const Ot=function LI(n,r,s,a,c){const d=new sn(n,s,Hc);return d.multi=[],d.index=r,d.componentProviders=0,w_(d,c,a&&!s),d}(c?FI:OI,s.length,c,a,S);!c&&At&&(s[ze].providerFactory=Ot),Qy(d,n,r.length,0),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(Ot),m.push(Ot)}else Qy(d,n,we>-1?we:ze,w_(s[c?ze:we],S,!c&&a));!c&&a&&At&&s[ze].componentProviders++}}}function Qy(n,r,s,a){const c=cu(r),d=function Nd(n){return!!n.useClass}(r);if(c||d){const S=(d?tt(r.useClass):r).prototype.ngOnDestroy;if(S){const k=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const B=k.indexOf(s);-1===B?k.push(s,[a,S]):k[B+1].push(a,S)}else k.push(s,S)}}}function w_(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Xy(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function OI(n,r,s,a){return Jy(this.multi,[])}function FI(n,r,s,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,w=ti(s,s[1],this.providerFactory.index,a);d=w.slice(0,m),Jy(c,d);for(let S=m;S<w.length;S++)d.push(w[S])}else d=[],Jy(c,d);return d}function Jy(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function E_(n,r=[]){return s=>{s.providersResolver=(a,c)=>function PI(n,r,s){const a=Dn();if(a.firstCreatePass){const c=Ai(n);Yy(s,a.data,a.blueprint,c,!0),Yy(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Mh{}class D_{}function UI(n,r){return new T_(n,r??null)}class T_ extends Mh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gg(this);const a=se(r);this._bootstrapComponents=hu(a.bootstrap),this._r3Injector=zd(r,s,[{provide:Mh,useValue:this},{provide:Vl,useValue:this.componentFactoryResolver}],Et(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ev extends D_{constructor(r){super(),this.moduleType=r}create(r){return new T_(this.moduleType,r)}}class VI extends Mh{constructor(r,s,a){super(),this.componentFactoryResolver=new gg(this),this.instance=null;const c=new Jh([...r,{provide:Mh,useValue:this},{provide:Vl,useValue:this.componentFactoryResolver}],s||ku(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function tv(n,r,s=null){return new VI(n,r,s).injector}let BI=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Hp(0,s.type),c=a.length>0?tv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=yn({token:n,providedIn:"environment",factory:()=>new n(te(Pu))}),n})();function b_(n){n.getStandaloneInjector=r=>r.get(BI).getOrCreateStandaloneInjector(n)}function N_(n,r,s){const a=Xr()+n,c=qe();return c[a]===fn?Wa(c,a,s?r.call(s):r()):function Zc(n,r){return n[r]}(c,a)}function P_(n,r,s,a,c,d,m){const w=r+s;return function qa(n,r,s,a){const c=Ts(n,r,s);return Ts(n,r+1,a)||c}(n,w,c,d)?Wa(n,w+2,m?a.call(m,c,d):a(c,d)):function _p(n,r){const s=n[r];return s===fn?void 0:s}(n,w+2)}function U_(n,r){const s=Dn();let a;const c=n+22;s.firstCreatePass?(a=function iw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Mi(a.type)),m=cn(Hc);try{const w=Js(!1),S=d();return Js(w),function qf(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,qe(),c,S),S}finally{cn(m)}}function V_(n,r,s,a){const c=n+22,d=qe(),m=function ds(n,r){return n[r]}(d,c);return function Ip(n,r){return n[1].data[r].pure}(d,c)?P_(d,Xr(),r,m.transform,s,a,m):m.transform(s,a)}function rv(n){return r=>{setTimeout(n,void 0,r)}}const Hu=class cw extends C.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),m=a;if(r&&"object"==typeof r){const S=r;c=S.next?.bind(S),d=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(d=rv(d),c&&(c=rv(c)),m&&(m=rv(m)));const w=super.subscribe({next:c,error:d,complete:m});return r instanceof $.w0&&r.add(w),w}};function lw(){return this._results[mu()]()}class iv{get changes(){return this._changes||(this._changes=new Hu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=mu(),a=iv.prototype;a[s]||(a[s]=lw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function si(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function ra(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wp=(()=>{class n{}return n.__NG_ELEMENT_ID__=fw,n})();const dw=wp,hw=class extends dw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=gc(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(c[19]=m.createEmbeddedView(a)),Wl(a,c,r),new Yl(c)}};function fw(){return Qg(fr(),qe())}function Qg(n,r){return 4&n.type?new hw(r,n,Uc(n,r)):null}let Xg=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();function pw(){return j_(fr(),qe())}const gw=Xg,B_=class extends gw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){const r=Xo(this._hostTNode,this._hostLView);if(yo(r)){const s=gs(r,this._hostLView),a=vo(r);return new vs(s[1].data[a+8],s)}return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=$_(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const m=r.createEmbeddedView(s||{},d);return this.insert(m,c),m}createComponent(r,s,a,c,d){const m=r&&!function ks(n){return"function"==typeof n}(r);let w;if(m)w=s;else{const q=s||{};w=q.index,a=q.injector,c=q.projectableNodes,d=q.environmentInjector||q.ngModuleRef}const S=m?r:new za(mn(r)),k=a||this.parentInjector;if(!d&&null==S.ngModule){const ue=(m?k:this.parentInjector).get(Pu,null);ue&&(d=ue)}const B=S.create(k,c,void 0,d);return this.insert(B.hostView,w),B}insert(r,s){const a=r._lView,c=a[1];if(function Da(n){return En(n[3])}(a)){const B=this.indexOf(r);if(-1!==B)this.detach(B);else{const q=a[3],ue=new B_(q,q[6],q[3]);ue.detach(ue.indexOf(r))}}const d=this._adjustIndex(s),m=this._lContainer;!function um(n,r,s,a){const c=10+a,d=s.length;a>0&&(s[c-1][4]=r),a<d-10?(r[4]=s[c],ga(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function Cn(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(m,r);const w=r[19];null!==w&&w.insertView(n),r[2]|=64}(c,a,m,d);const w=wl(d,m),S=a[11],k=Ed(S,m[7]);return null!==k&&function Tp(n,r,s,a,c,d){a[0]=c,a[6]=r,Pc(n,a,s,1,c,d)}(c,m[6],S,a,k,w),r.attachToViewContainerRef(),ga(sv(m),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=$_(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Nc(this._lContainer,s);a&&(ws(sv(this._lContainer),s),kc(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Nc(this._lContainer,s);return a&&null!=ws(sv(this._lContainer),s)?new Yl(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function $_(n){return n[8]}function sv(n){return n[8]||(n[8]=[])}function j_(n,r){let s;const a=r[n.index];if(En(a))s=a;else{let c;if(8&n.type)c=dr(a);else{const d=r[11];c=d.createComment("");const m=Wr(n,r);tc(d,Ed(d,m),c,function lm(n,r){return n.nextSibling(r)}(d,m),!1)}r[n.index]=s=Af(a,r,c,n),zc(r,s)}return new B_(s,n,r)}class ov{constructor(r){this.queryList=r,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const m=s.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new av(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Y_(r,s).matches&&this.queries[s].setDirty()}}class H_{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class uv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new uv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class cv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new cv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,mw(s,d)),this.matchTNodeWithReadOption(r,s,xo(s,r,d,!1,!1))}else a===wp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,xo(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Fu||c===Xg||c===wp&&4&s.type)this.addMatch(s.index,-2);else{const d=xo(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function mw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function vw(n,r,s,a){return-1===s?function yw(n,r){return 11&n.type?Uc(n,r):4&n.type?Qg(n,r):null}(r,n):-2===s?function _w(n,r,s){return s===Fu?Uc(r,n):s===wp?Qg(r,n):s===Xg?j_(r,n):void 0}(n,r,a):ti(n,n[1],s,r)}function G_(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const d=n.data,m=s.matches,w=[];for(let S=0;S<m.length;S+=2){const k=m[S];w.push(k<0?null:vw(r,d[k],m[S+1],s.metadata.read))}c.matches=w}return c.matches}function lv(n,r,s,a){const c=n.queries.getByIndex(s),d=c.matches;if(null!==d){const m=G_(n,r,c,s);for(let w=0;w<d.length;w+=2){const S=d[w];if(S>0)a.push(m[w/2]);else{const k=d[w+1],B=r[-S];for(let q=10;q<B.length;q++){const ue=B[q];ue[17]===ue[3]&&lv(ue[1],ue,k,a)}if(null!==B[9]){const q=B[9];for(let ue=0;ue<q.length;ue++){const we=q[ue];lv(we[1],we,k,a)}}}}}return a}function z_(n){const r=qe(),s=Dn(),a=Ra();Qa(a+1);const c=Y_(s,a);if(n.dirty&&function hs(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const d=c.crossesNgTemplate?lv(s,r,a,[]):G_(s,r,c,a);n.reset(d,xm),n.notifyOnChanges()}return!0}return!1}function W_(n,r,s,a){const c=Dn();if(c.firstCreatePass){const d=fr();(function Z_(n,r,s){null===n.queries&&(n.queries=new uv),n.queries.track(new cv(r,s))})(c,new H_(r,s,a),d.index),function Ew(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function K_(n,r,s){const a=new iv(4==(4&s));ah(n,r,a,a.destroy),null===r[19]&&(r[19]=new av),r[19].queries.push(new ov(a))}(c,qe(),s)}function q_(){return function ww(n,r){return n[19].queries[r].queryList}(qe(),Ra())}function Y_(n,r){return n.queries.getByIndex(r)}function em(...n){}const m0=new Bn("Application Initializer");let tm=(()=>{class n{constructor(s){this.appInits=s,this.resolve=em,this.reject=em,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(od(d))s.push(d);else if(xg(d)){const m=new Promise((w,S)=>{d.subscribe({complete:w,error:S})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(te(m0,8))},n.\u0275prov=yn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y0=new Bn("AppId",{providedIn:"root",factory:function v0(){return`${gv()}${gv()}${gv()}`}});function gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _0=new Bn("Platform Initializer"),Hw=new Bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),I0=new Bn("appBootstrapListener");let Gw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=yn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nm=new Bn("LocaleId",{providedIn:"root",factory:()=>Te(nm,nt.Optional|nt.SkipSelf)||function zw(){return typeof $localize<"u"&&$localize.locale||t}()}),Ww=new Bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Kw=(()=>{class n{compileModuleSync(s){return new ev(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=hu(se(s).declarations).reduce((m,w)=>{const S=mn(w);return S&&m.push(new za(S)),m},[]);return new qw(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=yn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qw=(()=>Promise.resolve(0))();function mv(n){typeof Zone>"u"?Qw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Za{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hu(!1),this.onMicrotaskEmpty=new Hu(!1),this.onStable=new Hu(!1),this.onError=new Hu(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Xw(){let n=dn.requestAnimationFrame,r=dn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function tE(n){const r=()=>{!function eE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vv(n),n.isCheckStableRunning=!0,yv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,m,w)=>{try{return D0(n),s.invokeTask(c,d,m,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),T0(n)}},onInvoke:(s,a,c,d,m,w,S)=>{try{return D0(n),s.invoke(c,d,m,w,S)}finally{n.shouldCoalesceRunChangeDetection&&r(),T0(n)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,vv(n),yv(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Za.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(Za.isInAngularZone())throw new ce(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,Jw,em,em);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Jw={};function yv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function D0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function T0(n){n._nesting--,yv(n)}class nE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hu,this.onMicrotaskEmpty=new Hu,this.onStable=new Hu,this.onError=new Hu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const b0=new Bn(""),C0=new Bn("");let _v,rE=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_v||(function iE(n){_v=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Za.assertNotInAngularZone(),mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(te(Za),te(S0),te(C0))},n.\u0275prov=yn({token:n,factory:n.\u0275fac}),n})(),S0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return _v?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=yn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ul=null;const A0=new Bn("AllowMultipleToken"),Iv=new Bn("PlatformDestroyListeners");class aE{constructor(r,s){this.name=r,this.token=s}}function M0(n,r,s=[]){const a=`Platform: ${r}`,c=new Bn(a);return(d=[])=>{let m=wv();if(!m||m.injector.get(A0,!1)){const w=[...s,...d,{provide:c,useValue:!0}];n?n(w):function uE(n){if(ul&&!ul.get(A0,!1))throw new ce(400,!1);ul=n;const r=n.get(N0);(function x0(n){const r=n.get(_0,null);r&&r.forEach(s=>s())})(n)}(function R0(n=[],r){return fu.create({name:r,providers:[{provide:Xh,useValue:"platform"},{provide:Iv,useValue:new Set([()=>ul=null])},...n]})}(w,a))}return function lE(n){const r=wv();if(!r)throw new ce(401,!1);return r}()}}function wv(){return ul?.get(N0)??null}let N0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function P0(n,r){let s;return s="noop"===n?new nE:("zone.js"===n?void 0:n)||new Za(r),s}(a?.ngZone,function k0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:Za,useValue:c}];return c.run(()=>{const m=fu.create({providers:d,parent:this.injector,name:s.moduleType.name}),w=s.create(m),S=w.injector.get(Bl,null);if(!S)throw new ce(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:B=>{S.handleError(B)}});w.onDestroy(()=>{im(this._modules,w),k.unsubscribe()})}),function O0(n,r,s){try{const a=s();return od(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(S,c,()=>{const k=w.injector.get(tm);return k.runInitializers(),k.donePromise.then(()=>(function P(n){Nn(n,"Expected localeId to be defined"),"string"==typeof n&&(N=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(nm,t)||t),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const c=F0({},a);return function sE(n,r,s){const a=new ev(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(rm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ce(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Iv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(te(fu))},n.\u0275prov=yn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function F0(n,r){return Array.isArray(r)?r.reduce(F0,n):{...n,...r}}let rm=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new ae.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),m=new ae.y(w=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Za.assertNotInAngularZone(),mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=function $e(...n){const r=(0,Be.yG)(n),s=(0,Be._6)(n,1/0),a=n;return a.length?1===a.length?(0,pe.Xf)(a[0]):(0,ne.J)(s)((0,De.D)(a,r)):Le.E}(d,m.pipe(function Me(n={}){const{connector:r=(()=>new C.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=n;return d=>{let m,w,S,k=0,B=!1,q=!1;const ue=()=>{w?.unsubscribe(),w=void 0},we=()=>{ue(),m=S=void 0,B=q=!1},ze=()=>{const ut=m;we(),ut?.unsubscribe()};return(0,ee.e)((ut,At)=>{k++,!q&&!B&&ue();const Ot=S=S??r();At.add(()=>{k--,0===k&&!q&&!B&&(w=Qe(ze,c))}),Ot.subscribe(At),!m&&k>0&&(m=new K.Hp({next:en=>Ot.next(en),error:en=>{q=!0,ue(),w=Qe(we,s,en),Ot.error(en)},complete:()=>{B=!0,ue(),w=Qe(we,a),Ot.complete()}}),(0,pe.Xf)(ut).subscribe(m))})(d)}}()))}bootstrap(s,a){const c=s instanceof dc;if(!this._injector.get(tm).done)throw!c&&fe(s),new ce(405,false);let m;m=c?s:this._injector.get(Vl).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const w=function oE(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Mh),k=m.create(fu.NULL,[],a||m.selector,w),B=k.location.nativeElement,q=k.injector.get(b0,null);return q?.registerApplication(B),k.onDestroy(()=>{this.detachView(k.hostView),im(this.components,k),q?.unregisterApplication(B)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;im(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(I0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>im(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ce(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(te(Za),te(Pu),te(Bl))},n.\u0275prov=yn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function im(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let hE=(()=>{class n{}return n.__NG_ELEMENT_ID__=fE,n})();function fE(n){return function pE(n,r,s){if(as(n)&&!s){const a=hr(n.index,r);return new Yl(a,a)}return 47&n.type?new Yl(r[16],r):null}(fr(),qe(),16==(16&n))}class $0{constructor(){}supports(r){return gh(r)}create(r){return new IE(r)}}const _E=(n,r)=>r;class IE{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||_E}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<H0(a,c,d)?s:a,w=H0(m,c,d),S=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)c++;else{d||(d=[]);const k=w-c,B=S-c;if(k!=B){for(let ue=0;ue<k;ue++){const we=ue<d.length?d[ue]:d[ue]=0,ze=we+ue;B<=ze&&ze<k&&(d[ue]=we+1)}d[m.previousIndex]=B-k}}w!==S&&r(m,w,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!gh(r))throw new ce(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],m=this._trackByFn(w,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,w)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,w),a=!0),s=s._next}else c=0,function hy(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[mu()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{m=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,w,m,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,m,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new wE(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new j0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class wE{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EE{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class j0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new EE,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H0(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class G0{constructor(){}supports(r){return r instanceof Map||Jl(r)}create(){return new DE}}class DE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Jl(r)))throw new ce(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new TE(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class TE{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function z0(){return new Cv([new $0])}let Cv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||z0()),deps:[[n,new R,new no]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ce(901,!1)}}return n.\u0275prov=yn({token:n,providedIn:"root",factory:z0}),n})();function W0(){return new Sv([new G0])}let Sv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||W0()),deps:[[n,new R,new no]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ce(901,!1)}}return n.\u0275prov=yn({token:n,providedIn:"root",factory:W0}),n})();const SE=M0(null,"core",[]);let AE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(te(rm))},n.\u0275mod=xr({type:n}),n.\u0275inj=Fr({}),n})();function xE(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(zt,Ye,H)=>{H.d(Ye,{Dx:()=>wn,b2:()=>$n,q6:()=>yn});var C=H(6895),$=H(8256);class ae extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends ae{static makeCurrent(){(0,C.HT)(new ne)}onAndCancel(re,z,_e){return re.addEventListener(z,_e,!1),()=>{re.removeEventListener(z,_e,!1)}}dispatchEvent(re,z){re.dispatchEvent(z)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,z){return(z=z||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,z){return"window"===z?window:"document"===z?re:"body"===z?re.body:null}getBaseHref(re){const z=function Le(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==z?null:function De(me){Be=Be||document.createElement("a"),Be.setAttribute("href",me);const re=Be.pathname;return"/"===re.charAt(0)?re:`/${re}`}(z)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,C.Mx)(document.cookie,re)}}let Be,pe=null;const $e=new $.OlP("TRANSITION_ID"),ee=[{provide:$.ip1,useFactory:function K(me,re,z){return()=>{z.get($.CZH).donePromise.then(()=>{const _e=(0,C.q)(),Xe=re.querySelectorAll(`style[ng-transition="${me}"]`);for(let Ue=0;Ue<Xe.length;Ue++)_e.remove(Xe[Ue])})}},deps:[$e,C.K0,$.zs3],multi:!0}];let Qe=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(z){return new(z||me)},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})();const Ne=new $.OlP("EventManagerPlugins");let at=(()=>{class me{constructor(z,_e){this._zone=_e,this._eventNameToPlugin=new Map,z.forEach(Xe=>Xe.manager=this),this._plugins=z.slice().reverse()}addEventListener(z,_e,Xe){return this._findPluginFor(_e).addEventListener(z,_e,Xe)}addGlobalEventListener(z,_e,Xe){return this._findPluginFor(_e).addGlobalEventListener(z,_e,Xe)}getZone(){return this._zone}_findPluginFor(z){const _e=this._eventNameToPlugin.get(z);if(_e)return _e;const Xe=this._plugins;for(let Ue=0;Ue<Xe.length;Ue++){const Ve=Xe[Ue];if(Ve.supports(z))return this._eventNameToPlugin.set(z,Ve),Ve}throw new Error(`No event manager plugin found for event ${z}`)}}return me.\u0275fac=function(z){return new(z||me)($.LFG(Ne),$.LFG($.R0b))},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})();class Et{constructor(re){this._doc=re}addGlobalEventListener(re,z,_e){const Xe=(0,C.q)().getGlobalEventTarget(this._doc,re);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${z}`);return this.addEventListener(Xe,z,_e)}}let kt=(()=>{class me{constructor(){this._stylesSet=new Set}addStyles(z){const _e=new Set;z.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),_e.add(Xe))}),this.onStylesAdded(_e)}onStylesAdded(z){}getAllStyles(){return Array.from(this._stylesSet)}}return me.\u0275fac=function(z){return new(z||me)},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})(),Ct=(()=>{class me extends kt{constructor(z){super(),this._doc=z,this._hostNodes=new Map,this._hostNodes.set(z.head,[])}_addStylesToHost(z,_e,Xe){z.forEach(Ue=>{const Ve=this._doc.createElement("style");Ve.textContent=Ue,Xe.push(_e.appendChild(Ve))})}addHost(z){const _e=[];this._addStylesToHost(this._stylesSet,z,_e),this._hostNodes.set(z,_e)}removeHost(z){const _e=this._hostNodes.get(z);_e&&_e.forEach(St),this._hostNodes.delete(z)}onStylesAdded(z){this._hostNodes.forEach((_e,Xe)=>{this._addStylesToHost(z,Xe,_e)})}ngOnDestroy(){this._hostNodes.forEach(z=>z.forEach(St))}}return me.\u0275fac=function(z){return new(z||me)($.LFG(C.K0))},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})();function St(me){(0,C.q)().remove(me)}const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pe=/%COMP%/g;function Q(me,re){return re.flat(100).map(z=>z.replace(Pe,me))}function oe(me){return re=>{if("__ngUnwrap__"===re)return me;!1===me(re)&&(re.preventDefault(),re.returnValue=!1)}}let xe=(()=>{class me{constructor(z,_e,Xe){this.eventManager=z,this.sharedStylesHost=_e,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new ye(z)}createRenderer(z,_e){if(!z||!_e)return this.defaultRenderer;switch(_e.encapsulation){case $.ifc.Emulated:{let Xe=this.rendererByCompId.get(_e.id);return Xe||(Xe=new rn(this.eventManager,this.sharedStylesHost,_e,this.appId),this.rendererByCompId.set(_e.id,Xe)),Xe.applyToHost(z),Xe}case $.ifc.ShadowDom:return new Pn(this.eventManager,this.sharedStylesHost,z,_e);default:if(!this.rendererByCompId.has(_e.id)){const Xe=Q(_e.id,_e.styles);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(_e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return me.\u0275fac=function(z){return new(z||me)($.LFG(at),$.LFG(Ct),$.LFG($.AFp))},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})();class ye{constructor(re){this.eventManager=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,z){return z?document.createElementNS(tt[z]||z,re):document.createElement(re)}createComment(re){return document.createComment(re)}createText(re){return document.createTextNode(re)}appendChild(re,z){(ht(re)?re.content:re).appendChild(z)}insertBefore(re,z,_e){re&&(ht(re)?re.content:re).insertBefore(z,_e)}removeChild(re,z){re&&re.removeChild(z)}selectRootElement(re,z){let _e="string"==typeof re?document.querySelector(re):re;if(!_e)throw new Error(`The selector "${re}" did not match any elements`);return z||(_e.textContent=""),_e}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,z,_e,Xe){if(Xe){z=Xe+":"+z;const Ue=tt[Xe];Ue?re.setAttributeNS(Ue,z,_e):re.setAttribute(z,_e)}else re.setAttribute(z,_e)}removeAttribute(re,z,_e){if(_e){const Xe=tt[_e];Xe?re.removeAttributeNS(Xe,z):re.removeAttribute(`${_e}:${z}`)}else re.removeAttribute(z)}addClass(re,z){re.classList.add(z)}removeClass(re,z){re.classList.remove(z)}setStyle(re,z,_e,Xe){Xe&($.JOm.DashCase|$.JOm.Important)?re.style.setProperty(z,_e,Xe&$.JOm.Important?"important":""):re.style[z]=_e}removeStyle(re,z,_e){_e&$.JOm.DashCase?re.style.removeProperty(z):re.style[z]=""}setProperty(re,z,_e){re[z]=_e}setValue(re,z){re.nodeValue=z}listen(re,z,_e){return"string"==typeof re?this.eventManager.addGlobalEventListener(re,z,oe(_e)):this.eventManager.addEventListener(re,z,oe(_e))}}function ht(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class rn extends ye{constructor(re,z,_e,Xe){super(re),this.component=_e;const Ue=Q(Xe+"-"+_e.id,_e.styles);z.addStyles(Ue),this.contentAttr=function Se(me){return"_ngcontent-%COMP%".replace(Pe,me)}(Xe+"-"+_e.id),this.hostAttr=function ie(me){return"_nghost-%COMP%".replace(Pe,me)}(Xe+"-"+_e.id)}applyToHost(re){super.setAttribute(re,this.hostAttr,"")}createElement(re,z){const _e=super.createElement(re,z);return super.setAttribute(_e,this.contentAttr,""),_e}}class Pn extends ye{constructor(re,z,_e,Xe){super(re),this.sharedStylesHost=z,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ue=Q(Xe.id,Xe.styles);for(let Ve=0;Ve<Ue.length;Ve++){const pt=document.createElement("style");pt.textContent=Ue[Ve],this.shadowRoot.appendChild(pt)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(re,z){return super.appendChild(this.nodeOrShadowRoot(re),z)}insertBefore(re,z,_e){return super.insertBefore(this.nodeOrShadowRoot(re),z,_e)}removeChild(re,z){return super.removeChild(this.nodeOrShadowRoot(re),z)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}}let mt=(()=>{class me extends Et{constructor(z){super(z)}supports(z){return!0}addEventListener(z,_e,Xe){return z.addEventListener(_e,Xe,!1),()=>this.removeEventListener(z,_e,Xe)}removeEventListener(z,_e,Xe){return z.removeEventListener(_e,Xe)}}return me.\u0275fac=function(z){return new(z||me)($.LFG(C.K0))},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})();const Yt=["alt","control","meta","shift"],pn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},un={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let Tr=(()=>{class me extends Et{constructor(z){super(z)}supports(z){return null!=me.parseEventName(z)}addEventListener(z,_e,Xe){const Ue=me.parseEventName(_e),Ve=me.eventCallback(Ue.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(z,Ue.domEventName,Ve))}static parseEventName(z){const _e=z.toLowerCase().split("."),Xe=_e.shift();if(0===_e.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Ue=me._normalizeKey(_e.pop());let Ve="",pt=_e.indexOf("code");if(pt>-1&&(_e.splice(pt,1),Ve="code."),Yt.forEach(rr=>{const Ar=_e.indexOf(rr);Ar>-1&&(_e.splice(Ar,1),Ve+=rr+".")}),Ve+=Ue,0!=_e.length||0===Ue.length)return null;const vt={};return vt.domEventName=Xe,vt.fullKey=Ve,vt}static matchEventFullKeyCode(z,_e){let Xe=pn[z.key]||z.key,Ue="";return _e.indexOf("code.")>-1&&(Xe=z.code,Ue="code."),!(null==Xe||!Xe)&&(Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),Yt.forEach(Ve=>{Ve!==Xe&&(0,un[Ve])(z)&&(Ue+=Ve+".")}),Ue+=Xe,Ue===_e)}static eventCallback(z,_e,Xe){return Ue=>{me.matchEventFullKeyCode(Ue,z)&&Xe.runGuarded(()=>_e(Ue))}}static _normalizeKey(z){return"esc"===z?"escape":z}}return me.\u0275fac=function(z){return new(z||me)($.LFG(C.K0))},me.\u0275prov=$.Yz7({token:me,factory:me.\u0275fac}),me})();const yn=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:C.bD},{provide:$.g9A,useValue:function Ft(){ne.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function ci(){return(0,$.RDi)(document),document},deps:[]}]),ar=new $.OlP(""),Fr=[{provide:$.rWj,useClass:class Me{addToWindow(re){$.dqk.getAngularTestability=(_e,Xe=!0)=>{const Ue=re.findTestabilityInTree(_e,Xe);if(null==Ue)throw new Error("Could not find testability for element.");return Ue},$.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(_e=>{const Xe=$.dqk.getAllAngularTestabilities();let Ue=Xe.length,Ve=!1;const pt=function(vt){Ve=Ve||vt,Ue--,0==Ue&&_e(Ve)};Xe.forEach(function(vt){vt.whenStable(pt)})})}findTestabilityInTree(re,z,_e){return null==z?null:re.getTestability(z)??(_e?(0,C.q)().isShadowRoot(z)?this.findTestabilityInTree(re,z.host,!0):this.findTestabilityInTree(re,z.parentElement,!0):null)}},deps:[]},{provide:$.lri,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]}],Dt=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function Zr(){return new $.qLn},deps:[]},{provide:Ne,useClass:mt,multi:!0,deps:[C.K0,$.R0b,$.Lbi]},{provide:Ne,useClass:Tr,multi:!0,deps:[C.K0]},{provide:xe,useClass:xe,deps:[at,Ct,$.AFp]},{provide:$.FYo,useExisting:xe},{provide:kt,useExisting:Ct},{provide:Ct,useClass:Ct,deps:[C.K0]},{provide:at,useClass:at,deps:[Ne,$.R0b]},{provide:C.JF,useClass:Qe,deps:[]},[]];let $n=(()=>{class me{constructor(z){}static withServerTransition(z){return{ngModule:me,providers:[{provide:$.AFp,useValue:z.appId},{provide:$e,useExisting:$.AFp},ee]}}}return me.\u0275fac=function(z){return new(z||me)($.LFG(ar,12))},me.\u0275mod=$.oAB({type:me}),me.\u0275inj=$.cJS({providers:[...Dt,...Fr],imports:[C.ez,$.hGG]}),me})(),wn=(()=>{class me{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}}return me.\u0275fac=function(z){return new(z||me)($.LFG(C.K0))},me.\u0275prov=$.Yz7({token:me,factory:function(z){let _e=null;return _e=z?new z:function li(){return new wn((0,$.LFG)(C.K0))}(),_e},providedIn:"root"}),me})();typeof window<"u"&&window},1766:(zt,Ye,H)=>{H.d(Ye,{F0:()=>ei,rH:()=>Na,Od:()=>xo,Bz:()=>Er,lC:()=>Hs});var C=H(8256),$=H(8996),ae=H(7669);function ne(...y){const v=(0,ae.yG)(y);return(0,$.D)(y,v)}var pe=H(7579);class Le extends pe.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const g=super._subscribe(v);return!g.closed&&v.next(this._value),g}getValue(){const{hasError:v,thrownError:g,_value:b}=this;if(v)throw g;return this._throwIfClosed(),b}next(v){super.next(this._value=v)}}const De=(0,H(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var $e=H(9751),K=H(4742),ee=H(4671),Me=H(3268),Qe=H(1810),Ne=H(5403),at=H(9672);function Et(...y){const v=(0,ae.yG)(y),g=(0,ae.jO)(y),{args:b,keys:M}=(0,K.D)(y);if(0===b.length)return(0,$.D)([],v);const O=new $e.y(function kt(y,v,g=ee.y){return b=>{Ct(v,()=>{const{length:M}=y,O=new Array(M);let V=M,le=M;for(let Fe=0;Fe<M;Fe++)Ct(v,()=>{const bt=(0,$.D)(y[Fe],v);let ct=!1;bt.subscribe((0,Ne.x)(b,bn=>{O[Fe]=bn,ct||(ct=!0,le--),le||b.next(g(O.slice()))},()=>{--V||b.complete()}))},b)},b)}}(b,v,M?V=>(0,Qe.n)(M,V):ee.y));return g?O.pipe((0,Me.Z)(g)):O}function Ct(y,v,g){y?(0,at.f)(g,y,v):v()}var St=H(8189);function Pe(...y){return function tt(){return(0,St.J)(1)}()((0,$.D)(y,(0,ae.yG)(y)))}var je=H(8421);function Ze(y){return new $e.y(v=>{(0,je.Xf)(y()).subscribe(v)})}var dt=H(9635),ce=H(576);function Se(y,v){const g=(0,ce.m)(y)?y:()=>y,b=M=>M.error(g());return new $e.y(v?M=>v.schedule(b,0,M):b)}var ie=H(515),Q=H(727),oe=H(4482);function xe(){return(0,oe.e)((y,v)=>{let g=null;y._refCount++;const b=(0,Ne.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const M=y._connection,O=g;g=null,M&&(!O||M===O)&&M.unsubscribe(),v.unsubscribe()});y.subscribe(b),b.closed||(g=y.connect())})}class ye extends $e.y{constructor(v,g){super(),this.source=v,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,oe.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Q.w0;const g=this.getSubject();v.add(this.source.subscribe((0,Ne.x)(g,void 0,()=>{this._teardown(),g.complete()},b=>{this._teardown(),g.error(b)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Q.w0.EMPTY)}return v}refCount(){return xe()(this)}}var Ge=H(6895),be=H(4004);function ht(y,v){return(0,oe.e)((g,b)=>{let M=null,O=0,V=!1;const le=()=>V&&!M&&b.complete();g.subscribe((0,Ne.x)(b,Fe=>{M?.unsubscribe();let bt=0;const ct=O++;(0,je.Xf)(y(Fe,ct)).subscribe(M=(0,Ne.x)(b,bn=>b.next(v?v(Fe,bn,ct,bt++):bn),()=>{M=null,le()}))},()=>{V=!0,le()}))})}var rn=H(5698);function mt(y,v){return(0,oe.e)((g,b)=>{let M=0;g.subscribe((0,Ne.x)(b,O=>y.call(v,O,M++)&&b.next(O)))})}var Yt=H(5577);function pn(y){return(0,oe.e)((v,g)=>{let b=!1;v.subscribe((0,Ne.x)(g,M=>{b=!0,g.next(M)},()=>{b||g.next(y),g.complete()}))})}function un(y=Tr){return(0,oe.e)((v,g)=>{let b=!1;v.subscribe((0,Ne.x)(g,M=>{b=!0,g.next(M)},()=>b?g.complete():g.error(y())))})}function Tr(){return new De}function Qt(y,v){const g=arguments.length>=2;return b=>b.pipe(y?mt((M,O)=>y(M,O,b)):ee.y,(0,rn.q)(1),g?pn(v):un(()=>new De))}function Wt(y,v){return(0,ce.m)(v)?(0,Yt.z)(y,v,1):(0,Yt.z)(y,1)}var On=H(8505);function er(y){return(0,oe.e)((v,g)=>{let O,b=null,M=!1;b=v.subscribe((0,Ne.x)(g,void 0,void 0,V=>{O=(0,je.Xf)(y(V,er(y)(v))),b?(b.unsubscribe(),b=null,O.subscribe(g)):M=!0})),M&&(b.unsubscribe(),b=null,O.subscribe(g))})}function Nn(y,v,g,b,M){return(O,V)=>{let le=g,Fe=v,bt=0;O.subscribe((0,Ne.x)(V,ct=>{const bn=bt++;Fe=le?y(Fe,ct,bn):(le=!0,ct),b&&V.next(Fe)},M&&(()=>{le&&V.next(Fe),V.complete()})))}}function Ft(y,v){return(0,oe.e)(Nn(y,v,arguments.length>=2,!0))}function Zr(y){return y<=0?()=>ie.E:(0,oe.e)((v,g)=>{let b=[];v.subscribe((0,Ne.x)(g,M=>{b.push(M),y<b.length&&b.shift()},()=>{for(const M of b)g.next(M);g.complete()},void 0,()=>{b=null}))})}function ci(y,v){const g=arguments.length>=2;return b=>b.pipe(y?mt((M,O)=>y(M,O,b)):ee.y,Zr(1),g?pn(v):un(()=>new De))}function ar(y){return(0,oe.e)((v,g)=>{try{v.subscribe(g)}finally{g.add(y)}})}var Fr=H(1481);const Dt="primary",$n=Symbol("RouteTitle");class Ti{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g[0]:g}return null}getAll(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function tr(y){return new Ti(y)}function nr(y,v,g){const b=g.path.split("/");if(b.length>y.length||"full"===g.pathMatch&&(v.hasChildren()||b.length<y.length))return null;const M={};for(let O=0;O<b.length;O++){const V=b[O],le=y[O];if(V.startsWith(":"))M[V.substring(1)]=le;else if(V!==le.path)return null}return{consumed:y.slice(0,b.length),posParams:M}}function wn(y,v){const g=y?Object.keys(y):void 0,b=v?Object.keys(v):void 0;if(!g||!b||g.length!=b.length)return!1;let M;for(let O=0;O<g.length;O++)if(M=g[O],!ur(y[M],v[M]))return!1;return!0}function ur(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const g=[...y].sort(),b=[...v].sort();return g.every((M,O)=>b[O]===M)}return y===v}function on(y){return Array.prototype.concat.apply([],y)}function xt(y){return y.length>0?y[y.length-1]:null}function Xt(y,v){for(const g in y)y.hasOwnProperty(g)&&v(y[g],g)}function vn(y){return(0,C.CqO)(y)?y:(0,C.QGY)(y)?(0,$.D)(Promise.resolve(y)):ne(y)}const cn=!1,jr={exact:function yi(y,v,g){if(!Jt(y.segments,v.segments)||!it(y.segments,v.segments,g)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const b in v.children)if(!y.children[b]||!yi(y.children[b],v.children[b],g))return!1;return!0},subset:Sr},Un={exact:function xn(y,v){return wn(y,v)},subset:function gn(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(g=>ur(y[g],v[g]))},ignored:()=>!0};function dn(y,v,g){return jr[g.paths](y.root,v.root,g.matrixParams)&&Un[g.queryParams](y.queryParams,v.queryParams)&&!("exact"===g.fragment&&y.fragment!==v.fragment)}function Sr(y,v,g){return br(y,v,v.segments,g)}function br(y,v,g,b){if(y.segments.length>g.length){const M=y.segments.slice(0,g.length);return!(!Jt(M,g)||v.hasChildren()||!it(M,g,b))}if(y.segments.length===g.length){if(!Jt(y.segments,g)||!it(y.segments,g,b))return!1;for(const M in v.children)if(!y.children[M]||!Sr(y.children[M],v.children[M],b))return!1;return!0}{const M=g.slice(0,y.segments.length),O=g.slice(y.segments.length);return!!(Jt(y.segments,M)&&it(y.segments,M,b)&&y.children[Dt])&&br(y.children[Dt],v,O,b)}}function it(y,v,g){return v.every((b,M)=>Un[g](y[M].parameters,b.parameters))}class Ae{constructor(v=new ke([],{}),g={},b=null){this.root=v,this.queryParams=g,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return He.serialize(this)}}class ke{constructor(v,g){this.segments=v,this.children=g,this.parent=null,Xt(g,(b,M)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Te(this)}}class Tt{constructor(v,g){this.path=v,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return _e(this)}}function Jt(y,v){return y.length===v.length&&y.every((g,b)=>g.path===v[b].path)}let Z=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return new te},providedIn:"root"}),y})();class te{parse(v){const g=new Li(v);return new Ae(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(v){const g=`/${yt(v.root,!0)}`,b=function Ue(y){const v=Object.keys(y).map(g=>{const b=y[g];return Array.isArray(b)?b.map(M=>`${an(g)}=${an(M)}`).join("&"):`${an(g)}=${an(b)}`}).filter(g=>!!g);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${g}${b}${"string"==typeof v.fragment?`#${function mr(y){return encodeURI(y)}(v.fragment)}`:""}`}}const He=new te;function Te(y){return y.segments.map(v=>_e(v)).join("/")}function yt(y,v){if(!y.hasChildren())return Te(y);if(v){const g=y.children[Dt]?yt(y.children[Dt],!1):"",b=[];return Xt(y.children,(M,O)=>{O!==Dt&&b.push(`${O}:${yt(M,!1)}`)}),b.length>0?`${g}(${b.join("//")})`:g}{const g=function X(y,v){let g=[];return Xt(y.children,(b,M)=>{M===Dt&&(g=g.concat(v(b,M)))}),Xt(y.children,(b,M)=>{M!==Dt&&(g=g.concat(v(b,M)))}),g}(y,(b,M)=>M===Dt?[yt(y.children[Dt],!1)]:[`${M}:${yt(b,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Dt]?`${Te(y)}/${g[0]}`:`${Te(y)}/(${g.join("//")})`}}function qt(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function an(y){return qt(y).replace(/%3B/gi,";")}function me(y){return qt(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function re(y){return decodeURIComponent(y)}function z(y){return re(y.replace(/\+/g,"%20"))}function _e(y){return`${me(y.path)}${function Xe(y){return Object.keys(y).map(v=>`;${me(v)}=${me(y[v])}`).join("")}(y.parameters)}`}const Ve=/^[^\/()?;=#]+/;function pt(y){const v=y.match(Ve);return v?v[0]:""}const vt=/^[^=?&#]+/,Ar=/^[^&#]+/;class Li{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(v.length>0||Object.keys(g).length>0)&&(b[Dt]=new ke(v,g)),b}parseSegment(){const v=pt(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new C.vHH(4009,cn);return this.capture(v),new Tt(re(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const g=pt(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const M=pt(this.remaining);M&&(b=M,this.capture(b))}v[re(g)]=re(b)}parseQueryParam(v){const g=function rr(y){const v=y.match(vt);return v?v[0]:""}(this.remaining);if(!g)return;this.capture(g);let b="";if(this.consumeOptional("=")){const V=function Vn(y){const v=y.match(Ar);return v?v[0]:""}(this.remaining);V&&(b=V,this.capture(b))}const M=z(g),O=z(b);if(v.hasOwnProperty(M)){let V=v[M];Array.isArray(V)||(V=[V],v[M]=V),V.push(O)}else v[M]=O}parseParens(v){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=pt(this.remaining),M=this.remaining[b.length];if("/"!==M&&")"!==M&&";"!==M)throw new C.vHH(4010,cn);let O;b.indexOf(":")>-1?(O=b.slice(0,b.indexOf(":")),this.capture(O),this.capture(":")):v&&(O=Dt);const V=this.parseChildren();g[O]=1===Object.keys(V).length?V[Dt]:new ke([],V),this.consumeOptional("//")}return g}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new C.vHH(4011,cn)}}function ni(y){return y.segments.length>0?new ke([],{[Dt]:y}):y}function yr(y){const v={};for(const b of Object.keys(y.children)){const O=yr(y.children[b]);(O.segments.length>0||O.hasChildren())&&(v[b]=O)}return function bs(y){if(1===y.numberOfChildren&&y.children[Dt]){const v=y.children[Dt];return new ke(y.segments.concat(v.segments),v.children)}return y}(new ke(y.segments,v))}function ri(y){return y instanceof Ae}function Us(y,v,g,b,M){if(0===g.length)return Ci(v.root,v.root,v.root,b,M);const O=function vr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Gn(!0,0,y);let v=0,g=!1;const b=y.reduce((M,O,V)=>{if("object"==typeof O&&null!=O){if(O.outlets){const le={};return Xt(O.outlets,(Fe,bt)=>{le[bt]="string"==typeof Fe?Fe.split("/"):Fe}),[...M,{outlets:le}]}if(O.segmentPath)return[...M,O.segmentPath]}return"string"!=typeof O?[...M,O]:0===V?(O.split("/").forEach((le,Fe)=>{0==Fe&&"."===le||(0==Fe&&""===le?g=!0:".."===le?v++:""!=le&&M.push(le))}),M):[...M,O]},[]);return new Gn(g,v,b)}(g);return O.toRoot()?Ci(v.root,v.root,new ke([],{}),b,M):function V(Fe){const bt=function ve(y,v,g,b){if(y.isAbsolute)return new fe(v.root,!0,0);if(-1===b)return new fe(g,g===v.root,0);return function he(y,v,g){let b=y,M=v,O=g;for(;O>M;){if(O-=M,b=b.parent,!b)throw new C.vHH(4005,!1);M=b.segments.length}return new fe(b,!1,M-O)}(g,b+(vi(y.commands[0])?0:1),y.numberOfDoubleDots)}(O,v,y.snapshot?._urlSegment,Fe),ct=bt.processChildren?Ut(bt.segmentGroup,bt.index,O.commands):It(bt.segmentGroup,bt.index,O.commands);return Ci(v.root,bt.segmentGroup,ct,b,M)}(y.snapshot?._lastPathIndex)}function vi(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function cr(y){return"object"==typeof y&&null!=y&&y.outlets}function Ci(y,v,g,b,M){let V,O={};b&&Xt(b,(Fe,bt)=>{O[bt]=Array.isArray(Fe)?Fe.map(ct=>`${ct}`):`${Fe}`}),V=y===v?g:mn(y,v,g);const le=ni(yr(V));return new Ae(le,O,M)}function mn(y,v,g){const b={};return Xt(y.children,(M,O)=>{b[O]=M===v?g:mn(M,v,g)}),new ke(y.segments,b)}class Gn{constructor(v,g,b){if(this.isAbsolute=v,this.numberOfDoubleDots=g,this.commands=b,v&&b.length>0&&vi(b[0]))throw new C.vHH(4003,!1);const M=b.find(cr);if(M&&M!==xt(b))throw new C.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fe{constructor(v,g,b){this.segmentGroup=v,this.processChildren=g,this.index=b}}function It(y,v,g){if(y||(y=new ke([],{})),0===y.segments.length&&y.hasChildren())return Ut(y,v,g);const b=function kn(y,v,g){let b=0,M=v;const O={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(b>=g.length)return O;const V=y.segments[M],le=g[b];if(cr(le))break;const Fe=`${le}`,bt=b<g.length-1?g[b+1]:null;if(M>0&&void 0===Fe)break;if(Fe&&bt&&"object"==typeof bt&&void 0===bt.outlets){if(!Hr(Fe,bt,V))return O;b+=2}else{if(!Hr(Fe,{},V))return O;b++}M++}return{match:!0,pathIndex:M,commandIndex:b}}(y,v,g),M=g.slice(b.commandIndex);if(b.match&&b.pathIndex<y.segments.length){const O=new ke(y.segments.slice(0,b.pathIndex),{});return O.children[Dt]=new ke(y.segments.slice(b.pathIndex),y.children),Ut(O,0,M)}return b.match&&0===M.length?new ke(y.segments,{}):b.match&&!y.hasChildren()?jt(y,v,g):b.match?Ut(y,0,M):jt(y,v,g)}function Ut(y,v,g){if(0===g.length)return new ke(y.segments,{});{const b=function Oe(y){return cr(y[0])?y[0].outlets:{[Dt]:y}}(g),M={};return Xt(b,(O,V)=>{"string"==typeof O&&(O=[O]),null!==O&&(M[V]=It(y.children[V],v,O))}),Xt(y.children,(O,V)=>{void 0===b[V]&&(M[V]=O)}),new ke(y.segments,M)}}function jt(y,v,g){const b=y.segments.slice(0,v);let M=0;for(;M<g.length;){const O=g[M];if(cr(O)){const Fe=Yr(O.outlets);return new ke(b,Fe)}if(0===M&&vi(g[0])){b.push(new Tt(y.segments[v].path,zn(g[0]))),M++;continue}const V=cr(O)?O.outlets[Dt]:`${O}`,le=M<g.length-1?g[M+1]:null;V&&le&&vi(le)?(b.push(new Tt(V,zn(le))),M+=2):(b.push(new Tt(V,{})),M++)}return new ke(b,{})}function Yr(y){const v={};return Xt(y,(g,b)=>{"string"==typeof g&&(g=[g]),null!==g&&(v[b]=jt(new ke([],{}),0,g))}),v}function zn(y){const v={};return Xt(y,(g,b)=>v[b]=`${g}`),v}function Hr(y,v,g){return y==g.path&&wn(v,g.parameters)}const di="imperative";class Vt{constructor(v,g){this.id=v,this.url=g}}class _i extends Vt{constructor(v,g,b="imperative",M=null){super(v,g),this.type=0,this.navigationTrigger=b,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ii extends Vt{constructor(v,g,b){super(v,g),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class To extends Vt{constructor(v,g,b,M){super(v,g),this.reason=b,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lr extends Vt{constructor(v,g,b,M){super(v,g),this.reason=b,this.code=M,this.type=16}}class _r extends Vt{constructor(v,g,b,M){super(v,g),this.error=b,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class As extends Vt{constructor(v,g,b,M){super(v,g),this.urlAfterRedirects=b,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends Vt{constructor(v,g,b,M){super(v,g),this.urlAfterRedirects=b,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr extends Vt{constructor(v,g,b,M,O){super(v,g),this.urlAfterRedirects=b,this.state=M,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gr extends Vt{constructor(v,g,b,M){super(v,g),this.urlAfterRedirects=b,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oo extends Vt{constructor(v,g,b,M){super(v,g),this.urlAfterRedirects=b,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _u{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ao{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bo{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(v,g,b){this.routerEvent=v,this.position=g,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wr=(()=>{class y{createUrlTree(g,b,M,O,V,le){return Us(g||b.root,M,O,V,le)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac}),y})(),Ki=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(v){return wr.\u0275fac(v)},providedIn:"root"}),y})();class as{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const g=this.pathFromRoot(v);return g.length>1?g[g.length-2]:null}children(v){const g=Si(v,this._root);return g?g.children.map(b=>b.value):[]}firstChild(v){const g=Si(v,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(v){const g=Ai(v,this._root);return g.length<2?[]:g[g.length-2].children.map(M=>M.value).filter(M=>M!==v)}pathFromRoot(v){return Ai(v,this._root).map(g=>g.value)}}function Si(y,v){if(y===v.value)return v;for(const g of v.children){const b=Si(y,g);if(b)return b}return null}function Ai(y,v){if(y===v.value)return[v];for(const g of v.children){const b=Ai(y,g);if(b.length)return b.unshift(v),b}return[]}class Zi{constructor(v,g){this.value=v,this.children=g}toString(){return`TreeNode(${this.value})`}}function Yi(y){const v={};return y&&y.children.forEach(g=>v[g.value.outlet]=g),v}class aa extends as{constructor(v,g){super(v),this.snapshot=g,Vi(this,v)}toString(){return this.snapshot.toString()}}function Ui(y,v){const g=function uo(y,v){const V=new co([],{},{},"",{},Dt,v,null,y.root,-1,{});return new Ya("",new Zi(V,[]))}(y,v),b=new Le([new Tt("",{})]),M=new Le({}),O=new Le({}),V=new Le({}),le=new Le(""),Fe=new us(b,M,V,le,O,Dt,v,g.root);return Fe.snapshot=g.root,new aa(new Zi(Fe,[]),g)}class us{constructor(v,g,b,M,O,V,le,Fe){this.url=v,this.params=g,this.queryParams=b,this.fragment=M,this.data=O,this.outlet=V,this.component=le,this.title=this.data?.pipe((0,be.U)(bt=>bt[$n]))??ne(void 0),this._futureSnapshot=Fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,be.U)(v=>tr(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,be.U)(v=>tr(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xi(y,v="emptyOnly"){const g=y.pathFromRoot;let b=0;if("always"!==v)for(b=g.length-1;b>=1;){const M=g[b],O=g[b-1];if(M.routeConfig&&""===M.routeConfig.path)b--;else{if(O.component)break;b--}}return function wi(y){return y.reduce((v,g)=>({params:{...v.params,...g.params},data:{...v.data,...g.data},resolve:{...g.data,...v.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(b))}class co{get title(){return this.data?.[$n]}constructor(v,g,b,M,O,V,le,Fe,bt,ct,bn){this.url=v,this.params=g,this.queryParams=b,this.fragment=M,this.data=O,this.outlet=V,this.component=le,this.routeConfig=Fe,this._urlSegment=bt,this._lastPathIndex=ct,this._resolve=bn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ya extends as{constructor(v,g){super(g),this.url=v,Vi(this,g)}toString(){return ua(this._root)}}function Vi(y,v){v.value._routerState=y,v.children.forEach(g=>Vi(y,g))}function ua(y){const v=y.children.length>0?` { ${y.children.map(ua).join(", ")} } `:"";return`${y.value}${v}`}function Ea(y){if(y.snapshot){const v=y.snapshot,g=y._futureSnapshot;y.snapshot=g,wn(v.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),v.fragment!==g.fragment&&y.fragment.next(g.fragment),wn(v.params,g.params)||y.params.next(g.params),function li(y,v){if(y.length!==v.length)return!1;for(let g=0;g<y.length;++g)if(!wn(y[g],v[g]))return!1;return!0}(v.url,g.url)||y.url.next(g.url),wn(v.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function ca(y,v){const g=wn(y.params,v.params)&&function Lt(y,v){return Jt(y,v)&&y.every((g,b)=>wn(g.parameters,v[b].parameters))}(y.url,v.url);return g&&!(!y.parent!=!v.parent)&&(!y.parent||ca(y.parent,v.parent))}function xs(y,v,g){if(g&&y.shouldReuseRoute(v.value,g.value.snapshot)){const b=g.value;b._futureSnapshot=v.value;const M=function Bs(y,v,g){return v.children.map(b=>{for(const M of g.children)if(y.shouldReuseRoute(b.value,M.value.snapshot))return xs(y,b,M);return xs(y,b)})}(y,v,g);return new Zi(b,M)}{if(y.shouldAttach(v.value)){const O=y.retrieve(v.value);if(null!==O){const V=O.route;return V.value._futureSnapshot=v.value,V.children=v.children.map(le=>xs(y,le)),V}}const b=function $s(y){return new us(new Le(y.url),new Le(y.params),new Le(y.queryParams),new Le(y.fragment),new Le(y.data),y.outlet,y.component,y)}(v.value),M=v.children.map(O=>xs(y,O));return new Zi(b,M)}}const Qi="ngNavigationCancelingError";function lo(y,v){const{redirectTo:g,navigationBehaviorOptions:b}=ri(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,M=jo(!1,0,v);return M.url=g,M.navigationBehaviorOptions=b,M}function jo(y,v,g){const b=new Error("NavigationCancelingError: "+(y||""));return b[Qi]=!0,b.cancellationCode=v,g&&(b.url=g),b}function Mi(y){return Ho(y)&&ri(y.url)}function Ho(y){return y&&y[Qi]}class cs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new js,this.attachRef=null}}let js=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,b){const M=this.getOrCreateContext(g);M.outlet=b,this.contexts.set(g,M)}onChildOutletDestroyed(g){const b=this.getContext(g);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let b=this.getContext(g);return b||(b=new cs,this.contexts.set(g,b)),b}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Yn=!1;let Hs=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(js),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb)}ngOnChanges(g){if(g.name){const{firstChange:b,previousValue:M}=g.name;if(b)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,Yn);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,Yn);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,Yn);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,b){this.activated=g,this._activatedRoute=b,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,b){if(this.isActivated)throw new C.vHH(4013,Yn);this._activatedRoute=g;const M=this.location,V=g.snapshot.component,le=this.parentContexts.getOrCreateContext(this.name).children,Fe=new ls(g,le,M.injector);if(b&&function Co(y){return!!y.resolveComponentFactory}(b)){const bt=b.resolveComponentFactory(V);this.activated=M.createComponent(bt,M.length,Fe)}else this.activated=M.createComponent(V,{index:M.length,injector:Fe,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275dir=C.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]}),y})();class ls{constructor(v,g,b){this.route=v,this.childContexts=g,this.parent=b}get(v,g){return v===us?this.route:v===js?this.childContexts:this.parent.get(v,g)}}let Ms=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=C.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(g,b){1&g&&C._UZ(0,"router-outlet")},dependencies:[Hs],encapsulation:2}),y})();function Ri(y,v){return y.providers&&!y._injector&&(y._injector=(0,C.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function zo(y){const v=y.children&&y.children.map(zo),g=v?{...y,children:v}:{...y};return!g.component&&!g.loadComponent&&(v||g.loadChildren)&&g.outlet&&g.outlet!==Dt&&(g.component=Ms),g}function Lr(y){return y.outlet||Dt}function ds(y,v){const g=y.filter(b=>Lr(b)===v);return g.push(...y.filter(b=>Lr(b)!==v)),g}function hr(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const g=v.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class fs{constructor(v,g,b,M){this.routeReuseStrategy=v,this.futureState=g,this.currState=b,this.forwardEvent=M}activate(v){const g=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,b,v),Ea(this.futureState.root),this.activateChildRoutes(g,b,v)}deactivateChildRoutes(v,g,b){const M=Yi(g);v.children.forEach(O=>{const V=O.value.outlet;this.deactivateRoutes(O,M[V],b),delete M[V]}),Xt(M,(O,V)=>{this.deactivateRouteAndItsChildren(O,b)})}deactivateRoutes(v,g,b){const M=v.value,O=g?g.value:null;if(M===O)if(M.component){const V=b.getContext(M.outlet);V&&this.deactivateChildRoutes(v,g,V.children)}else this.deactivateChildRoutes(v,g,b);else O&&this.deactivateRouteAndItsChildren(g,b)}deactivateRouteAndItsChildren(v,g){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,g):this.deactivateRouteAndOutlet(v,g)}detachAndStoreRouteSubtree(v,g){const b=g.getContext(v.value.outlet),M=b&&v.value.component?b.children:g,O=Yi(v);for(const V of Object.keys(O))this.deactivateRouteAndItsChildren(O[V],M);if(b&&b.outlet){const V=b.outlet.detach(),le=b.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:V,route:v,contexts:le})}}deactivateRouteAndOutlet(v,g){const b=g.getContext(v.value.outlet),M=b&&v.value.component?b.children:g,O=Yi(v);for(const V of Object.keys(O))this.deactivateRouteAndItsChildren(O[V],M);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(v,g,b){const M=Yi(g);v.children.forEach(O=>{this.activateRoutes(O,M[O.value.outlet],b),this.forwardEvent(new os(O.value.snapshot))}),v.children.length&&this.forwardEvent(new Vs(v.value.snapshot))}activateRoutes(v,g,b){const M=v.value,O=g?g.value:null;if(Ea(M),M===O)if(M.component){const V=b.getOrCreateContext(M.outlet);this.activateChildRoutes(v,g,V.children)}else this.activateChildRoutes(v,g,b);else if(M.component){const V=b.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const le=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),V.children.onOutletReAttached(le.contexts),V.attachRef=le.componentRef,V.route=le.route.value,V.outlet&&V.outlet.attach(le.componentRef,le.route.value),Ea(le.route.value),this.activateChildRoutes(v,null,V.children)}else{const le=hr(M.snapshot),Fe=le?.get(C._Vd)??null;V.attachRef=null,V.route=M,V.resolver=Fe,V.injector=le,V.outlet&&V.outlet.activateWith(M,V.injector),this.activateChildRoutes(v,null,V.children)}}else this.activateChildRoutes(v,null,b)}}class Da{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class qr{constructor(v,g){this.component=v,this.route=g}}function fo(y,v,g){const b=y._root;return Wn(b,v?v._root:null,g,[b.value])}function Kt(y,v){const g=Symbol(),b=v.get(y,g);return b===g?"function"!=typeof y||(0,C.Z0I)(y)?v.get(y):y:b}function Wn(y,v,g,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const O=Yi(v);return y.children.forEach(V=>{(function Ta(y,v,g,b,M={canDeactivateChecks:[],canActivateChecks:[]}){const O=y.value,V=v?v.value:null,le=g?g.getContext(y.value.outlet):null;if(V&&O.routeConfig===V.routeConfig){const Fe=function ba(y,v,g){if("function"==typeof g)return g(y,v);switch(g){case"pathParamsChange":return!Jt(y.url,v.url);case"pathParamsOrQueryParamsChange":return!Jt(y.url,v.url)||!wn(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ca(y,v)||!wn(y.queryParams,v.queryParams);default:return!ca(y,v)}}(V,O,O.routeConfig.runGuardsAndResolvers);Fe?M.canActivateChecks.push(new Da(b)):(O.data=V.data,O._resolvedData=V._resolvedData),Wn(y,v,O.component?le?le.children:null:g,b,M),Fe&&le&&le.outlet&&le.outlet.isActivated&&M.canDeactivateChecks.push(new qr(le.outlet.component,V))}else V&&Wo(v,le,M),M.canActivateChecks.push(new Da(b)),Wn(y,null,O.component?le?le.children:null:g,b,M)})(V,O[V.value.outlet],g,b.concat([V.value]),M),delete O[V.value.outlet]}),Xt(O,(V,le)=>Wo(V,g.getContext(le),M)),M}function Wo(y,v,g){const b=Yi(y),M=y.value;Xt(b,(O,V)=>{Wo(O,M.component?v?v.children.getContext(V):null:v,g)}),g.canDeactivateChecks.push(new qr(M.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,M))}function Gs(y){return"function"==typeof y}function mo(y){return y instanceof De||"EmptyError"===y?.name}const Cr=Symbol("INITIAL_VALUE");function Rr(){return ht(y=>Et(y.map(v=>v.pipe((0,rn.q)(1),function Pn(...y){const v=(0,ae.yG)(y);return(0,oe.e)((g,b)=>{(v?Pe(y,g,v):Pe(y,g)).subscribe(b)})}(Cr)))).pipe((0,be.U)(v=>{for(const g of v)if(!0!==g){if(g===Cr)return Cr;if(!1===g||g instanceof Ae)return g}return!0}),mt(v=>v!==Cr),(0,rn.q)(1)))}function Xi(y){return(0,dt.z)((0,On.b)(v=>{if(ri(v))throw lo(0,v)}),(0,be.U)(v=>!0===v))}const ha={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xa(y,v,g,b,M){const O=Ma(y,v,g);return O.matched?function Ko(y,v,g,b){const M=v.canMatch;return M&&0!==M.length?ne(M.map(V=>{const le=Kt(V,y);return vn(function go(y){return y&&Gs(y.canMatch)}(le)?le.canMatch(v,g):y.runInContext(()=>le(v,g)))})).pipe(Rr(),Xi()):ne(!0)}(b=Ri(v,b),v,g).pipe((0,be.U)(V=>!0===V?O:{...ha})):ne(O)}function Ma(y,v,g){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||g.length>0)?{...ha}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const M=(v.matcher||nr)(g,y,v);if(!M)return{...ha};const O={};Xt(M.posParams,(le,Fe)=>{O[Fe]=le.path});const V=M.consumed.length>0?{...O,...M.consumed[M.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:M.consumed,remainingSegments:g.slice(M.consumed.length),parameters:V,positionalParamSegments:M.posParams??{}}}function Ao(y,v,g,b){if(g.length>0&&function Qa(y,v,g){return g.some(b=>Pi(y,v,b)&&Lr(b)!==Dt)}(y,g,b)){const O=new ke(v,function Ra(y,v,g,b){const M={};M[Dt]=b,b._sourceSegment=y,b._segmentIndexShift=v.length;for(const O of g)if(""===O.path&&Lr(O)!==Dt){const V=new ke([],{});V._sourceSegment=y,V._segmentIndexShift=v.length,M[Lr(O)]=V}return M}(y,v,b,new ke(g,y.children)));return O._sourceSegment=y,O._segmentIndexShift=v.length,{segmentGroup:O,slicedSegments:[]}}if(0===g.length&&function Jr(y,v,g){return g.some(b=>Pi(y,v,b))}(y,g,b)){const O=new ke(y.segments,function Zo(y,v,g,b,M){const O={};for(const V of b)if(Pi(y,g,V)&&!M[Lr(V)]){const le=new ke([],{});le._sourceSegment=y,le._segmentIndexShift=v.length,O[Lr(V)]=le}return{...M,...O}}(y,v,g,b,y.children));return O._sourceSegment=y,O._segmentIndexShift=v.length,{segmentGroup:O,slicedSegments:g}}const M=new ke(y.segments,y.children);return M._sourceSegment=y,M._segmentIndexShift=v.length,{segmentGroup:M,slicedSegments:g}}function Pi(y,v,g){return(!(y.hasChildren()||v.length>0)||"full"!==g.pathMatch)&&""===g.path}function Ji(y,v,g,b){return!!(Lr(y)===b||b!==Dt&&Pi(v,g,y))&&("**"===y.path||Ma(v,y,g).matched)}function Zs(y,v,g){return 0===v.length&&!y.children[g]}const ps=!1;class rt{constructor(v){this.segmentGroup=v||null}}class pr{constructor(v){this.urlTree=v}}function jn(y){return Se(new rt(y))}function Yo(y){return Se(new pr(y))}class _{constructor(v,g,b,M,O){this.injector=v,this.configLoader=g,this.urlSerializer=b,this.urlTree=M,this.config=O,this.allowRedirects=!0}apply(){const v=Ao(this.urlTree.root,[],[],this.config).segmentGroup,g=new ke(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,g,Dt).pipe((0,be.U)(O=>this.createUrlTree(yr(O),this.urlTree.queryParams,this.urlTree.fragment))).pipe(er(O=>{if(O instanceof pr)return this.allowRedirects=!1,this.match(O.urlTree);throw O instanceof rt?this.noMatchError(O):O}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,Dt).pipe((0,be.U)(M=>this.createUrlTree(yr(M),v.queryParams,v.fragment))).pipe(er(M=>{throw M instanceof rt?this.noMatchError(M):M}))}noMatchError(v){return new C.vHH(4002,ps)}createUrlTree(v,g,b){const M=ni(v);return new Ae(M,g,b)}expandSegmentGroup(v,g,b,M){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(v,g,b).pipe((0,be.U)(O=>new ke([],O))):this.expandSegment(v,b,g,b.segments,M,!0)}expandChildren(v,g,b){const M=[];for(const O of Object.keys(b.children))"primary"===O?M.unshift(O):M.push(O);return(0,$.D)(M).pipe(Wt(O=>{const V=b.children[O],le=ds(g,O);return this.expandSegmentGroup(v,le,V,O).pipe((0,be.U)(Fe=>({segment:Fe,outlet:O})))}),Ft((O,V)=>(O[V.outlet]=V.segment,O),{}),ci())}expandSegment(v,g,b,M,O,V){return(0,$.D)(b).pipe(Wt(le=>this.expandSegmentAgainstRoute(v,g,b,le,M,O,V).pipe(er(bt=>{if(bt instanceof rt)return ne(null);throw bt}))),Qt(le=>!!le),er((le,Fe)=>{if(mo(le))return Zs(g,M,O)?ne(new ke([],{})):jn(g);throw le}))}expandSegmentAgainstRoute(v,g,b,M,O,V,le){return Ji(M,g,O,V)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(v,g,M,O,V):le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,g,b,M,O,V):jn(g):jn(g)}expandSegmentAgainstRouteUsingRedirect(v,g,b,M,O,V){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,b,M,V):this.expandRegularSegmentAgainstRouteUsingRedirect(v,g,b,M,O,V)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,g,b,M){const O=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?Yo(O):this.lineralizeSegments(b,O).pipe((0,Yt.z)(V=>{const le=new ke(V,{});return this.expandSegment(v,le,g,V,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,g,b,M,O,V){const{matched:le,consumedSegments:Fe,remainingSegments:bt,positionalParamSegments:ct}=Ma(g,M,O);if(!le)return jn(g);const bn=this.applyRedirectCommands(Fe,M.redirectTo,ct);return M.redirectTo.startsWith("/")?Yo(bn):this.lineralizeSegments(M,bn).pipe((0,Yt.z)(sr=>this.expandSegment(v,g,b,sr.concat(bt),V,!1)))}matchSegmentAgainstRoute(v,g,b,M,O){return"**"===b.path?(v=Ri(b,v),b.loadChildren?(b._loadedRoutes?ne({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(v,b)).pipe((0,be.U)(le=>(b._loadedRoutes=le.routes,b._loadedInjector=le.injector,new ke(M,{})))):ne(new ke(M,{}))):xa(g,b,M,v).pipe(ht(({matched:V,consumedSegments:le,remainingSegments:Fe})=>V?this.getChildConfig(v=b._injector??v,b,M).pipe((0,Yt.z)(ct=>{const bn=ct.injector??v,sr=ct.routes,{segmentGroup:Ps,slicedSegments:ko}=Ao(g,le,Fe,sr),to=new ke(Ps.segments,Ps.children);if(0===ko.length&&to.hasChildren())return this.expandChildren(bn,sr,to).pipe((0,be.U)(A=>new ke(le,A)));if(0===sr.length&&0===ko.length)return ne(new ke(le,{}));const fi=Lr(b)===O;return this.expandSegment(bn,to,sr,ko,fi?Dt:O,!0).pipe((0,be.U)(no=>new ke(le.concat(no.segments),no.children)))})):jn(g)))}getChildConfig(v,g,b){return g.children?ne({routes:g.children,injector:v}):g.loadChildren?void 0!==g._loadedRoutes?ne({routes:g._loadedRoutes,injector:g._loadedInjector}):function So(y,v,g,b){const M=v.canLoad;return void 0===M||0===M.length?ne(!0):ne(M.map(V=>{const le=Kt(V,y);return vn(function da(y){return y&&Gs(y.canLoad)}(le)?le.canLoad(v,g):y.runInContext(()=>le(v,g)))})).pipe(Rr(),Xi())}(v,g,b).pipe((0,Yt.z)(M=>M?this.configLoader.loadChildren(v,g).pipe((0,On.b)(O=>{g._loadedRoutes=O.routes,g._loadedInjector=O.injector})):function wt(y){return Se(jo(ps,3))}())):ne({routes:[],injector:v})}lineralizeSegments(v,g){let b=[],M=g.root;for(;;){if(b=b.concat(M.segments),0===M.numberOfChildren)return ne(b);if(M.numberOfChildren>1||!M.children[Dt])return Se(new C.vHH(4e3,ps));M=M.children[Dt]}}applyRedirectCommands(v,g,b){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),v,b)}applyRedirectCreateUrlTree(v,g,b,M){const O=this.createSegmentGroup(v,g.root,b,M);return new Ae(O,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(v,g){const b={};return Xt(v,(M,O)=>{if("string"==typeof M&&M.startsWith(":")){const le=M.substring(1);b[O]=g[le]}else b[O]=M}),b}createSegmentGroup(v,g,b,M){const O=this.createSegments(v,g.segments,b,M);let V={};return Xt(g.children,(le,Fe)=>{V[Fe]=this.createSegmentGroup(v,le,b,M)}),new ke(O,V)}createSegments(v,g,b,M){return g.map(O=>O.path.startsWith(":")?this.findPosParam(v,O,M):this.findOrReturn(O,b))}findPosParam(v,g,b){const M=b[g.path.substring(1)];if(!M)throw new C.vHH(4001,ps);return M}findOrReturn(v,g){let b=0;for(const M of g){if(M.path===v.path)return g.splice(b),M;b++}return v}}class U{}class We{constructor(v,g,b,M,O,V,le){this.injector=v,this.rootComponentType=g,this.config=b,this.urlTree=M,this.url=O,this.paramsInheritanceStrategy=V,this.urlSerializer=le}recognize(){const v=Ao(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,Dt).pipe((0,be.U)(g=>{if(null===g)return null;const b=new co([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new Zi(b,g),O=new Ya(this.url,M);return this.inheritParamsAndData(O._root),O}))}inheritParamsAndData(v){const g=v.value,b=xi(g,this.paramsInheritanceStrategy);g.params=Object.freeze(b.params),g.data=Object.freeze(b.data),v.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(v,g,b,M){return 0===b.segments.length&&b.hasChildren()?this.processChildren(v,g,b):this.processSegment(v,g,b,b.segments,M)}processChildren(v,g,b){return(0,$.D)(Object.keys(b.children)).pipe(Wt(M=>{const O=b.children[M],V=ds(g,M);return this.processSegmentGroup(v,V,O,M)}),Ft((M,O)=>M&&O?(M.push(...O),M):null),function $r(y,v=!1){return(0,oe.e)((g,b)=>{let M=0;g.subscribe((0,Ne.x)(b,O=>{const V=y(O,M++);(V||v)&&b.next(O),!V&&b.complete()}))})}(M=>null!==M),pn(null),ci(),(0,be.U)(M=>{if(null===M)return null;const O=Sn(M);return function gt(y){y.sort((v,g)=>v.value.outlet===Dt?-1:g.value.outlet===Dt?1:v.value.outlet.localeCompare(g.value.outlet))}(O),O}))}processSegment(v,g,b,M,O){return(0,$.D)(g).pipe(Wt(V=>this.processSegmentAgainstRoute(V._injector??v,V,b,M,O)),Qt(V=>!!V),er(V=>{if(mo(V))return Zs(b,M,O)?ne([]):ne(null);throw V}))}processSegmentAgainstRoute(v,g,b,M,O){if(g.redirectTo||!Ji(g,b,M,O))return ne(null);let V;if("**"===g.path){const le=M.length>0?xt(M).parameters:{},Fe=Rn(b)+M.length;V=ne({snapshot:new co(M,le,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ht(g),Lr(g),g.component??g._loadedComponent??null,g,gr(b),Fe,Nr(g)),consumedSegments:[],remainingSegments:[]})}else V=xa(b,g,M,v).pipe((0,be.U)(({matched:le,consumedSegments:Fe,remainingSegments:bt,parameters:ct})=>{if(!le)return null;const bn=Rn(b)+Fe.length;return{snapshot:new co(Fe,ct,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ht(g),Lr(g),g.component??g._loadedComponent??null,g,gr(b),bn,Nr(g)),consumedSegments:Fe,remainingSegments:bt}}));return V.pipe(ht(le=>{if(null===le)return ne(null);const{snapshot:Fe,consumedSegments:bt,remainingSegments:ct}=le;v=g._injector??v;const bn=g._loadedInjector??v,sr=function Mn(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:Ps,slicedSegments:ko}=Ao(b,bt,ct,sr.filter(fi=>void 0===fi.redirectTo));if(0===ko.length&&Ps.hasChildren())return this.processChildren(bn,sr,Ps).pipe((0,be.U)(fi=>null===fi?null:[new Zi(Fe,fi)]));if(0===sr.length&&0===ko.length)return ne([new Zi(Fe,[])]);const to=Lr(g)===O;return this.processSegment(bn,sr,Ps,ko,to?Dt:O).pipe((0,be.U)(fi=>null===fi?null:[new Zi(Fe,fi)]))}))}}function Tn(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function Sn(y){const v=[],g=new Set;for(const b of y){if(!Tn(b)){v.push(b);continue}const M=v.find(O=>b.value.routeConfig===O.value.routeConfig);void 0!==M?(M.children.push(...b.children),g.add(M)):v.push(b)}for(const b of g){const M=Sn(b.children);v.push(new Zi(b.value,M))}return v.filter(b=>!g.has(b))}function gr(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Rn(y){let v=y,g=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,g+=v._segmentIndexShift??0;return g-1}function Ht(y){return y.data||{}}function Nr(y){return y.resolve||{}}function Xn(y){return"string"==typeof y.title||null===y.title}function lt(y){return ht(v=>{const g=y(v);return g?(0,$.D)(g).pipe((0,be.U)(()=>v)):ne(v)})}const ji=new C.OlP("ROUTES");let yo=(()=>{class y{constructor(g,b){this.injector=g,this.compiler=b,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return ne(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const b=vn(g.loadComponent()).pipe((0,be.U)(Qo),(0,On.b)(O=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=O}),ar(()=>{this.componentLoaders.delete(g)})),M=new ye(b,()=>new pe.x).pipe(xe());return this.componentLoaders.set(g,M),M}loadChildren(g,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return ne({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const O=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,be.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Fe,bt,ct=!1;Array.isArray(le)?bt=le:(Fe=le.create(g).injector,bt=on(Fe.get(ji,[],C.XFs.Self|C.XFs.Optional)));return{routes:bt.map(zo),injector:Fe}}),ar(()=>{this.childrenLoaders.delete(b)})),V=new ye(O,()=>new pe.x).pipe(xe());return this.childrenLoaders.set(b,V),V}loadModuleFactoryOrRoutes(g){return vn(g()).pipe((0,be.U)(Qo),(0,Yt.z)(M=>M instanceof C.YKP||Array.isArray(M)?ne(M):(0,$.D)(this.compiler.compileModuleAsync(M))))}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(C.zs3),C.LFG(C.Sil))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Qo(y){return function vo(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let ms=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new pe.x,this.configLoader=(0,C.f3M)(yo),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(Z),this.rootContexts=(0,C.f3M)(js),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new _u(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Zn(M))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:b})}setupNavigations(g){return this.transitions=new Le({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:di,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(b=>0!==b.id),(0,be.U)(b=>({...b,extractedUrl:g.urlHandlingStrategy.extract(b.rawUrl)})),ht(b=>{let M=!1,O=!1;return ne(b).pipe((0,On.b)(V=>{this.currentNavigation={id:V.id,initialUrl:V.rawUrl,extractedUrl:V.extractedUrl,trigger:V.source,extras:V.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ht(V=>{const le=g.browserUrlTree.toString(),Fe=!g.navigated||V.extractedUrl.toString()!==le||le!==g.currentUrlTree.toString();if(!Fe&&"reload"!==(V.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const ct="";return this.events.next(new lr(V.id,g.serializeUrl(b.rawUrl),ct,0)),g.rawUrlTree=V.rawUrl,V.resolve(null),ie.E}if(g.urlHandlingStrategy.shouldProcessUrl(V.rawUrl))return Js(V.source)&&(g.browserUrlTree=V.extractedUrl),ne(V).pipe(ht(ct=>{const bn=this.transitions?.getValue();return this.events.next(new _i(ct.id,this.urlSerializer.serialize(ct.extractedUrl),ct.source,ct.restoredState)),bn!==this.transitions?.getValue()?ie.E:Promise.resolve(ct)}),function x(y,v,g,b){return ht(M=>function Ys(y,v,g,b,M){return new _(y,v,g,b,M).apply()}(y,v,g,M.extractedUrl,b).pipe((0,be.U)(O=>({...M,urlAfterRedirects:O}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,On.b)(ct=>{this.currentNavigation={...this.currentNavigation,finalUrl:ct.urlAfterRedirects},b.urlAfterRedirects=ct.urlAfterRedirects}),function Bi(y,v,g,b,M){return(0,Yt.z)(O=>function Re(y,v,g,b,M,O,V="emptyOnly"){return new We(y,v,g,b,M,V,O).recognize().pipe(ht(le=>null===le?function Y(y){return new $e.y(v=>v.error(y))}(new U):ne(le)))}(y,v,g,O.urlAfterRedirects,b.serialize(O.urlAfterRedirects),b,M).pipe((0,be.U)(V=>({...O,targetSnapshot:V}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,On.b)(ct=>{if(b.targetSnapshot=ct.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!ct.extras.skipLocationChange){const sr=g.urlHandlingStrategy.merge(ct.urlAfterRedirects,ct.rawUrl);g.setBrowserUrl(sr,ct)}g.browserUrlTree=ct.urlAfterRedirects}const bn=new As(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(bn)}));if(Fe&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:ct,extractedUrl:bn,source:sr,restoredState:Ps,extras:ko}=V,to=new _i(ct,this.urlSerializer.serialize(bn),sr,Ps);this.events.next(to);const fi=Ui(bn,this.rootComponentType).snapshot;return ne(b={...V,targetSnapshot:fi,urlAfterRedirects:bn,extras:{...ko,skipLocationChange:!1,replaceUrl:!1}})}{const ct="";return this.events.next(new lr(V.id,g.serializeUrl(b.extractedUrl),ct,1)),g.rawUrlTree=V.rawUrl,V.resolve(null),ie.E}}),(0,On.b)(V=>{const le=new ss(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot);this.events.next(le)}),(0,be.U)(V=>b={...V,guards:fo(V.targetSnapshot,V.currentSnapshot,this.rootContexts)}),function Ws(y,v){return(0,Yt.z)(g=>{const{targetSnapshot:b,currentSnapshot:M,guards:{canActivateChecks:O,canDeactivateChecks:V}}=g;return 0===V.length&&0===O.length?ne({...g,guardsResult:!0}):function Sa(y,v,g,b){return(0,$.D)(y).pipe((0,Yt.z)(M=>function Ks(y,v,g,b,M){const O=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return O&&0!==O.length?ne(O.map(le=>{const Fe=hr(v)??M,bt=Kt(le,Fe);return vn(function Dn(y){return y&&Gs(y.canDeactivate)}(bt)?bt.canDeactivate(y,v,g,b):Fe.runInContext(()=>bt(y,v,g,b))).pipe(Qt())})).pipe(Rr()):ne(!0)}(M.component,M.route,g,v,b)),Qt(M=>!0!==M,!0))}(V,b,M,y).pipe((0,Yt.z)(le=>le&&function zs(y){return"boolean"==typeof y}(le)?function Aa(y,v,g,b){return(0,$.D)(v).pipe(Wt(M=>Pe(function Qr(y,v){return null!==y&&v&&v(new ao(y)),ne(!0)}(M.route.parent,b),function qs(y,v){return null!==y&&v&&v(new Bo(y)),ne(!0)}(M.route,b),function ki(y,v,g){const b=v[v.length-1],O=v.slice(0,v.length-1).reverse().map(V=>function po(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}(V)).filter(V=>null!==V).map(V=>Ze(()=>ne(V.guards.map(Fe=>{const bt=hr(V.node)??g,ct=Kt(Fe,bt);return vn(function qe(y){return y&&Gs(y.canActivateChild)}(ct)?ct.canActivateChild(b,y):bt.runInContext(()=>ct(b,y))).pipe(Qt())})).pipe(Rr())));return ne(O).pipe(Rr())}(y,M.path,g),function Xr(y,v,g){const b=v.routeConfig?v.routeConfig.canActivate:null;if(!b||0===b.length)return ne(!0);const M=b.map(O=>Ze(()=>{const V=hr(v)??g,le=Kt(O,V);return vn(function Ca(y){return y&&Gs(y.canActivate)}(le)?le.canActivate(v,y):V.runInContext(()=>le(v,y))).pipe(Qt())}));return ne(M).pipe(Rr())}(y,M.route,g))),Qt(M=>!0!==M,!0))}(b,O,y,v):ne(le)),(0,be.U)(le=>({...g,guardsResult:le})))})}(this.environmentInjector,V=>this.events.next(V)),(0,On.b)(V=>{if(b.guardsResult=V.guardsResult,ri(V.guardsResult))throw lo(0,V.guardsResult);const le=new Mr(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(V.urlAfterRedirects),V.targetSnapshot,!!V.guardsResult);this.events.next(le)}),mt(V=>!!V.guardsResult||(g.restoreHistory(V),this.cancelNavigationTransition(V,"",3),!1)),lt(V=>{if(V.guards.canActivateChecks.length)return ne(V).pipe((0,On.b)(le=>{const Fe=new Gr(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(Fe)}),ht(le=>{let Fe=!1;return ne(le).pipe(function An(y,v){return(0,Yt.z)(g=>{const{targetSnapshot:b,guards:{canActivateChecks:M}}=g;if(!M.length)return ne(g);let O=0;return(0,$.D)(M).pipe(Wt(V=>function Pt(y,v,g,b){const M=y.routeConfig,O=y._resolve;return void 0!==M?.title&&!Xn(M)&&(O[$n]=M.title),function Qs(y,v,g,b){const M=function _n(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return ne({});const O={};return(0,$.D)(M).pipe((0,Yt.z)(V=>function Iu(y,v,g,b){const M=hr(v)??b,O=Kt(y,M);return vn(O.resolve?O.resolve(v,g):M.runInContext(()=>O(v,g)))}(y[V],v,g,b).pipe(Qt(),(0,On.b)(le=>{O[V]=le}))),Zr(1),function yn(y){return(0,be.U)(()=>y)}(O),er(V=>mo(V)?ie.E:Se(V)))}(O,y,v,b).pipe((0,be.U)(V=>(y._resolvedData=V,y.data=xi(y,g).resolve,M&&Xn(M)&&(y.data[$n]=M.title),null)))}(V.route,b,y,v)),(0,On.b)(()=>O++),Zr(1),(0,Yt.z)(V=>O===M.length?ne(g):ie.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,On.b)({next:()=>Fe=!0,complete:()=>{Fe||(g.restoreHistory(le),this.cancelNavigationTransition(le,"",2))}}))}),(0,On.b)(le=>{const Fe=new oo(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(Fe)}))}),lt(V=>{const le=Fe=>{const bt=[];Fe.routeConfig?.loadComponent&&!Fe.routeConfig._loadedComponent&&bt.push(this.configLoader.loadComponent(Fe.routeConfig).pipe((0,On.b)(ct=>{Fe.component=ct}),(0,be.U)(()=>{})));for(const ct of Fe.children)bt.push(...le(ct));return bt};return Et(le(V.targetSnapshot.root)).pipe(pn(),(0,rn.q)(1))}),lt(()=>this.afterPreactivation()),(0,be.U)(V=>{const le=function $o(y,v,g){const b=xs(y,v._root,g?g._root:void 0);return new aa(b,v)}(g.routeReuseStrategy,V.targetSnapshot,V.currentRouterState);return b={...V,targetRouterState:le}}),(0,On.b)(V=>{g.currentUrlTree=V.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl),g.routerState=V.targetRouterState,"deferred"===g.urlUpdateStrategy&&(V.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,V),g.browserUrlTree=V.urlAfterRedirects)}),((y,v,g)=>(0,be.U)(b=>(new fs(v,b.targetRouterState,b.currentRouterState,g).activate(y),b)))(this.rootContexts,g.routeReuseStrategy,V=>this.events.next(V)),(0,On.b)({next:V=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new Ii(V.id,this.urlSerializer.serialize(V.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(V.targetRouterState.snapshot),V.resolve(!0)},complete:()=>{M=!0}}),ar(()=>{M||O||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),er(V=>{if(O=!0,Ho(V)){Mi(V)||(g.navigated=!0,g.restoreHistory(b,!0));const le=new To(b.id,this.urlSerializer.serialize(b.extractedUrl),V.message,V.cancellationCode);if(this.events.next(le),Mi(V)){const Fe=g.urlHandlingStrategy.merge(V.url,g.rawUrlTree),bt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||Js(b.source)};g.scheduleNavigation(Fe,di,null,bt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{g.restoreHistory(b,!0);const le=new _r(b.id,this.urlSerializer.serialize(b.extractedUrl),V,b.targetSnapshot??void 0);this.events.next(le);try{b.resolve(g.errorHandler(V))}catch(Fe){b.reject(Fe)}}return ie.E}))}))}cancelNavigationTransition(g,b,M){const O=new To(g.id,this.urlSerializer.serialize(g.extractedUrl),b,M);this.events.next(O),g.resolve(!1)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Js(y){return y!==di}let Oi=(()=>{class y{buildTitle(g){let b,M=g.root;for(;void 0!==M;)b=this.getResolvedTitleForRoute(M)??b,M=M.children.find(O=>O.outlet===Dt);return b}getResolvedTitleForRoute(g){return g.data[$n]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return(0,C.f3M)(fa)},providedIn:"root"}),y})(),fa=(()=>{class y extends Oi{constructor(g){super(),this.title=g}updateTitle(g){const b=this.buildTitle(g);void 0!==b&&this.title.setTitle(b)}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(Fr.Dx))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),wu=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return(0,C.f3M)(ii)},providedIn:"root"}),y})();class Xa{shouldDetach(v){return!1}store(v,g){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,g){return v.routeConfig===g.routeConfig}}let ii=(()=>{class y extends Xa{}return y.\u0275fac=function(){let v;return function(b){return(v||(v=C.n5z(y)))(b||y)}}(),y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ce=new C.OlP("",{providedIn:"root",factory:()=>({})});let hi=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return(0,C.f3M)(Hi)},providedIn:"root"}),y})(),Hi=(()=>{class y{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,b){return g}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function ys(y){throw y}function eo(y,v,g){return v.parse("/")}const Ja={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ei=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this.options=(0,C.f3M)(Ce,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ys,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(hi),this.routeReuseStrategy=(0,C.f3M)(wu),this.urlCreationStrategy=(0,C.f3M)(Ki),this.titleStrategy=(0,C.f3M)(Oi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=on((0,C.f3M)(ji,{optional:!0})??[]),this.navigationTransitions=(0,C.f3M)(ms),this.urlSerializer=(0,C.f3M)(Z),this.location=(0,C.f3M)(Ge.Ye),this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ae,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ui(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=g.targetPageId},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),di,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const b="popstate"===g.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,b,g.state)},0)}))}navigateToSyncWithBrowser(g,b,M){const O={replaceUrl:!0},V=M?.navigationId?M:null;if(M){const Fe={...M};delete Fe.navigationId,delete Fe.\u0275routerPageId,0!==Object.keys(Fe).length&&(O.state=Fe)}const le=this.parseUrl(g);this.scheduleNavigation(le,b,V,O)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(zo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,b={}){const{relativeTo:M,queryParams:O,fragment:V,queryParamsHandling:le,preserveFragment:Fe}=b,bt=Fe?this.currentUrlTree.fragment:V;let ct=null;switch(le){case"merge":ct={...this.currentUrlTree.queryParams,...O};break;case"preserve":ct=this.currentUrlTree.queryParams;break;default:ct=O||null}return null!==ct&&(ct=this.removeEmptyProps(ct)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,g,ct,bt??null)}navigateByUrl(g,b={skipLocationChange:!1}){const M=ri(g)?g:this.parseUrl(g),O=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(O,di,null,b)}navigate(g,b={skipLocationChange:!1}){return function eu(y){for(let v=0;v<y.length;v++){if(null==y[v])throw new C.vHH(4008,!1)}}(g),this.navigateByUrl(this.createUrlTree(g,b),b)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let b;try{b=this.urlSerializer.parse(g)}catch(M){b=this.malformedUriErrorHandler(M,this.urlSerializer,g)}return b}isActive(g,b){let M;if(M=!0===b?{...Ja}:!1===b?{...Kr}:b,ri(g))return dn(this.currentUrlTree,g,M);const O=this.parseUrl(g);return dn(this.currentUrlTree,O,M)}removeEmptyProps(g){return Object.keys(g).reduce((b,M)=>{const O=g[M];return null!=O&&(b[M]=O),b},{})}scheduleNavigation(g,b,M,O,V){if(this.disposed)return Promise.resolve(!1);let le,Fe,bt,ct;return V?(le=V.resolve,Fe=V.reject,bt=V.promise):bt=new Promise((bn,sr)=>{le=bn,Fe=sr}),ct="computed"===this.canceledNavigationResolution?M&&M.\u0275routerPageId?M.\u0275routerPageId:O.replaceUrl||O.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:ct,source:b,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:O,resolve:le,reject:Fe,promise:bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),bt.catch(bn=>Promise.reject(bn))}setBrowserUrl(g,b){const M=this.urlSerializer.serialize(g),O={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.isCurrentPathEqualTo(M)||b.extras.replaceUrl?this.location.replaceState(M,"",O):this.location.go(M,"",O)}restoreHistory(g,b=!1){if("computed"===this.canceledNavigationResolution){const M=this.currentPageId-g.targetPageId;"popstate"!==g.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===M?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===M&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(M)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,b){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:b}:{navigationId:g}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Na=(()=>{class y{constructor(g,b,M,O,V,le){this.router=g,this.route=b,this.tabIndexAttribute=M,this.renderer=O,this.el=V,this.locationStrategy=le,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new pe.x;const Fe=V.nativeElement.tagName;this.isAnchorElement="A"===Fe||"AREA"===Fe,this.isAnchorElement?this.subscription=g.events.subscribe(bt=>{bt instanceof Ii&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,C.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,C.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,C.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,b,M,O,V){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||b||M||O||V||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,C.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,b){const M=this.renderer,O=this.el.nativeElement;null!==b?M.setAttribute(O,g,b):M.removeAttribute(O,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(C.Y36(ei),C.Y36(us),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Ge.S$))},y.\u0275dir=C.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,b){1&g&&C.NdJ("click",function(O){return b.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&g&&C.uIk("target",b.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[C.TTD]}),y})(),xo=(()=>{class y{get isActive(){return this._isActive}constructor(g,b,M,O,V){this.router=g,this.element=b,this.renderer=M,this.cdr=O,this.link=V,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new C.vpe,this.routerEventsSubscription=g.events.subscribe(le=>{le instanceof Ii&&this.update()})}ngAfterContentInit(){ne(this.links.changes,ne(null)).pipe((0,St.J)()).subscribe(g=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const g=[...this.links.toArray(),this.link].filter(b=>!!b).map(b=>b.onChanges);this.linkInputChangesSubscription=(0,$.D)(g).pipe((0,St.J)()).subscribe(b=>{this._isActive!==this.isLinkActive(this.router)(b)&&this.update()})}set routerLinkActive(g){const b=Array.isArray(g)?g:g.split(" ");this.classes=b.filter(M=>!!M)}ngOnChanges(g){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const g=this.hasActiveLinks();this._isActive!==g&&(this._isActive=g,this.cdr.markForCheck(),this.classes.forEach(b=>{g?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}),g&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(g))})}isLinkActive(g){const b=function ti(y){return!!y.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return M=>!!M.urlTree&&g.isActive(M.urlTree,b)}hasActiveLinks(){const g=this.isLinkActive(this.router);return this.link&&g(this.link)||this.links.some(g)}}return y.\u0275fac=function(g){return new(g||y)(C.Y36(ei),C.Y36(C.SBq),C.Y36(C.Qsj),C.Y36(C.sBO),C.Y36(Na,8))},y.\u0275dir=C.lG2({type:y,selectors:[["","routerLinkActive",""]],contentQueries:function(g,b,M){if(1&g&&C.Suo(M,Na,5),2&g){let O;C.iGM(O=C.CRH())&&(b.links=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[C.TTD]}),y})();class Eu{}let vs=(()=>{class y{constructor(g,b,M,O,V){this.router=g,this.injector=M,this.preloadingStrategy=O,this.loader=V}setUpPreloading(){this.subscription=this.router.events.pipe(mt(g=>g instanceof Ii),Wt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,b){const M=[];for(const O of b){O.providers&&!O._injector&&(O._injector=(0,C.MMx)(O.providers,g,`Route: ${O.path}`));const V=O._injector??g,le=O._loadedInjector??V;O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent?M.push(this.preloadConfig(V,O)):(O.children||O._loadedRoutes)&&M.push(this.processRoutes(le,O.children??O._loadedRoutes))}return(0,$.D)(M).pipe((0,St.J)())}preloadConfig(g,b){return this.preloadingStrategy.preload(b,()=>{let M;M=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(g,b):ne(null);const O=M.pipe((0,Yt.z)(V=>null===V?ne(void 0):(b._loadedRoutes=V.routes,b._loadedInjector=V.injector,this.processRoutes(V.injector??g,V.routes))));if(b.loadComponent&&!b._loadedComponent){const V=this.loader.loadComponent(b);return(0,$.D)([O,V]).pipe((0,St.J)())}return O})}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(ei),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(Eu),C.LFG(yo))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Pa=new C.OlP("");let Jo=(()=>{class y{constructor(g,b,M,O,V={}){this.urlSerializer=g,this.transitions=b,this.viewportScroller=M,this.zone=O,this.options=V,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},V.scrollPositionRestoration=V.scrollPositionRestoration||"disabled",V.anchorScrolling=V.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Ii&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Ir&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ir(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(g){C.$Z()},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac}),y})();function ir(y,v){return{\u0275kind:y,\u0275providers:v}}function _o(){const y=(0,C.f3M)(C.zs3);return v=>{const g=y.get(C.z2F);if(v!==g.components[0])return;const b=y.get(ei),M=y.get(zi);1===y.get(Io)&&b.initialNavigation(),y.get(Ur,null,C.XFs.Optional)?.setUpPreloading(),y.get(Pa,null,C.XFs.Optional)?.init(),b.resetRootComponentType(g.componentTypes[0]),M.closed||(M.next(),M.unsubscribe())}}const zi=new C.OlP("",{factory:()=>new pe.x}),Io=new C.OlP("",{providedIn:"root",factory:()=>1});const Ur=new C.OlP("");function Ro(y){return ir(0,[{provide:Ur,useExisting:vs},{provide:Eu,useExisting:y}])}const es=new C.OlP("ROUTER_FORROOT_GUARD"),nu=[Ge.Ye,{provide:Z,useClass:te},ei,js,{provide:us,useFactory:function Oa(y){return y.routerState.root},deps:[ei]},yo,[]];function Fa(){return new C.PXZ("Router",ei)}let Er=(()=>{class y{constructor(g){}static forRoot(g,b){return{ngModule:y,providers:[nu,[],{provide:ji,multi:!0,useValue:g},{provide:es,useFactory:si,deps:[[ei,new C.FiY,new C.tp0]]},{provide:Ce,useValue:b||{}},b?.useHash?{provide:Ge.S$,useClass:Ge.Do}:{provide:Ge.S$,useClass:Ge.b0},{provide:Pa,useFactory:()=>{const y=(0,C.f3M)(Ge.EM),v=(0,C.f3M)(C.R0b),g=(0,C.f3M)(Ce),b=(0,C.f3M)(ms),M=(0,C.f3M)(Z);return g.scrollOffset&&y.setOffset(g.scrollOffset),new Jo(M,b,y,v,g)}},b?.preloadingStrategy?Ro(b.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:Fa},b?.initialNavigation?Is(b):[],[{provide:ga,useFactory:_o},{provide:C.tb,multi:!0,useExisting:ga}]]}}static forChild(g){return{ngModule:y,providers:[{provide:ji,multi:!0,useValue:g}]}}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(es,8))},y.\u0275mod=C.oAB({type:y}),y.\u0275inj=C.cJS({imports:[Ms]}),y})();function si(y){return"guarded"}function Is(y){return["disabled"===y.initialNavigation?ir(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const v=(0,C.f3M)(ei);return()=>{v.setUpLocationChangeListener()}}},{provide:Io,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ir(2,[{provide:Io,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:v=>{const g=v.get(Ge.V_,Promise.resolve());return()=>g.then(()=>new Promise(M=>{const O=v.get(ei),V=v.get(zi);(function b(M){v.get(ei).events.pipe(mt(V=>V instanceof Ii||V instanceof To||V instanceof _r),(0,be.U)(V=>V instanceof Ii||V instanceof To&&(0===V.code||1===V.code)&&null),mt(V=>null!==V),(0,rn.q)(1)).subscribe(()=>{M()})})(()=>{M(!0)}),v.get(ms).afterPreactivation=()=>(M(!0),V.closed?ne(void 0):V),O.initialNavigation()}))}}]).\u0275providers:[]]}const ga=new C.OlP("")},9681:(zt,Ye,H)=>{H.d(Ye,{C6:()=>ar,Jn:()=>ci,KN:()=>$n,Mq:()=>yn,Xd:()=>Qt,ZF:()=>$r,qX:()=>Wt});var C=H(5861),$=H(4859),ae=H(1877),ne=H(2090),pe=H(8766);class Le{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function Be(it){return"VERSION"===it.getComponent()?.type}(ke)){const Tt=ke.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(ke=>ke).join(" ")}}const De="@firebase/app",K=new ae.Yd("@firebase/app"),Pn="[DEFAULT]",mt={[De]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,pn=new Map;function un(it,Ae){try{it.container.addComponent(Ae)}catch(ke){K.debug(`Component ${Ae.name} failed to register with FirebaseApp ${it.name}`,ke)}}function Qt(it){const Ae=it.name;if(pn.has(Ae))return K.debug(`There were multiple attempts to register component ${Ae}.`),!1;pn.set(Ae,it);for(const ke of Yt.values())un(ke,it);return!0}function Wt(it,Ae){const ke=it.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),it.container.getProvider(Ae)}const Ft=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zr{constructor(Ae,ke,Tt){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}const ci="9.16.0";function $r(it,Ae={}){let ke=it;"object"!=typeof Ae&&(Ae={name:Ae});const Tt=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},Ae),Lt=Tt.name;if("string"!=typeof Lt||!Lt)throw Ft.create("bad-app-name",{appName:String(Lt)});if(ke||(ke=(0,ne.aH)()),!ke)throw Ft.create("no-options");const Jt=Yt.get(Lt);if(Jt){if((0,ne.vZ)(ke,Jt.options)&&(0,ne.vZ)(Tt,Jt.config))return Jt;throw Ft.create("duplicate-app",{appName:Lt})}const X=new $.H0(Lt);for(const te of pn.values())X.addComponent(te);const Z=new Zr(ke,Tt,X);return Yt.set(Lt,Z),Z}function yn(it=Pn){const Ae=Yt.get(it);if(!Ae&&it===Pn)return $r();if(!Ae)throw Ft.create("no-app",{appName:it});return Ae}function ar(){return Array.from(Yt.values())}function $n(it,Ae,ke){var Tt;let Lt=null!==(Tt=mt[it])&&void 0!==Tt?Tt:it;ke&&(Lt+=`-${ke}`);const Jt=Lt.match(/\s|\//),X=Ae.match(/\s|\//);if(Jt||X){const Z=[`Unable to register library "${Lt}" with version "${Ae}":`];return Jt&&Z.push(`library name "${Lt}" contains illegal characters (whitespace or "/")`),Jt&&X&&Z.push("and"),X&&Z.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void K.warn(Z.join(" "))}Qt(new $.wA(`${Lt}-version`,()=>({library:Lt,version:Ae}),"VERSION"))}const wn="firebase-heartbeat-store";let ur=null;function on(){return ur||(ur=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(it,Ae)=>{0===Ae&&it.createObjectStore(wn)}}).catch(it=>{throw Ft.create("idb-open",{originalErrorMessage:it.message})})),ur}function nt(){return(nt=(0,C.Z)(function*(it){try{return(yield on()).transaction(wn).objectStore(wn).get(cn(it))}catch(Ae){if(Ae instanceof ne.ZR)K.warn(Ae.message);else{const ke=Ft.create("idb-get",{originalErrorMessage:Ae?.message});K.warn(ke.message)}}})).apply(this,arguments)}function Xt(it,Ae){return vn.apply(this,arguments)}function vn(){return(vn=(0,C.Z)(function*(it,Ae){try{const Tt=(yield on()).transaction(wn,"readwrite");return yield Tt.objectStore(wn).put(Ae,cn(it)),Tt.done}catch(ke){if(ke instanceof ne.ZR)K.warn(ke.message);else{const Tt=Ft.create("idb-set",{originalErrorMessage:ke?.message});K.warn(Tt.message)}}})).apply(this,arguments)}function cn(it){return`${it.name}!${it.options.appId}`}class dn{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new gn(ke),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var Ae=this;return(0,C.Z)(function*(){const Tt=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Lt=xn();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==Lt&&!Ae._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Lt))return Ae._heartbeatsCache.heartbeats.push({date:Lt,agent:Tt}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Jt=>{const X=new Date(Jt.date).valueOf();return Date.now()-X<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,C.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const ke=xn(),{heartbeatsToSend:Tt,unsentEntries:Lt}=function yi(it,Ae=1024){const ke=[];let Tt=it.slice();for(const Lt of it){const Jt=ke.find(X=>X.agent===Lt.agent);if(Jt){if(Jt.dates.push(Lt.date),Sr(ke)>Ae){Jt.dates.pop();break}}else if(ke.push({agent:Lt.agent,dates:[Lt.date]}),Sr(ke)>Ae){ke.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:ke,unsentEntries:Tt}}(Ae._heartbeatsCache.heartbeats),Jt=(0,ne.L)(JSON.stringify({version:2,heartbeats:Tt}));return Ae._heartbeatsCache.lastSentHeartbeatDate=ke,Lt.length>0?(Ae._heartbeatsCache.heartbeats=Lt,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Jt})()}}function xn(){return(new Date).toISOString().substring(0,10)}class gn{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,C.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function xt(it){return nt.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var ke=this;return(0,C.Z)(function*(){var Tt;if(yield ke._canUseIndexedDBPromise){const Jt=yield ke.read();return Xt(ke.app,{lastSentHeartbeatDate:null!==(Tt=Ae.lastSentHeartbeatDate)&&void 0!==Tt?Tt:Jt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var ke=this;return(0,C.Z)(function*(){var Tt;if(yield ke._canUseIndexedDBPromise){const Jt=yield ke.read();return Xt(ke.app,{lastSentHeartbeatDate:null!==(Tt=Ae.lastSentHeartbeatDate)&&void 0!==Tt?Tt:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ae.heartbeats]})}})()}}function Sr(it){return(0,ne.L)(JSON.stringify({version:2,heartbeats:it})).length}!function br(it){Qt(new $.wA("platform-logger",Ae=>new Le(Ae),"PRIVATE")),Qt(new $.wA("heartbeat",Ae=>new dn(Ae),"PRIVATE")),$n(De,"0.9.1",it),$n(De,"0.9.1","esm2017"),$n("fire-js","")}("")},4859:(zt,Ye,H)=>{H.d(Ye,{H0:()=>De,wA:()=>ae});var C=H(5861),$=H(2090);class ae{constructor(K,ee,Me){this.name=K,this.instanceFactory=ee,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ne="[DEFAULT]";class pe{constructor(K,ee){this.name=K,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ee=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ee)){const Me=new $.BH;if(this.instancesDeferred.set(ee,Me),this.isInitialized(ee)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ee});Qe&&Me.resolve(Qe)}catch{}}return this.instancesDeferred.get(ee).promise}getImmediate(K){var ee;const Me=this.normalizeInstanceIdentifier(K?.identifier),Qe=null!==(ee=K?.optional)&&void 0!==ee&&ee;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(Ne){if(Qe)return null;throw Ne}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function Be($e){return"EAGER"===$e.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[ee,Me]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ee);try{const Ne=this.getOrInitializeService({instanceIdentifier:Qe});Me.resolve(Ne)}catch{}}}}clearInstance(K=ne){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,C.Z)(function*(){const ee=Array.from(K.instances.values());yield Promise.all([...ee.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ee.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ne){return this.instances.has(K)}getOptions(K=ne){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ee={}}=K,Me=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:Me,options:ee});for(const[Ne,at]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(Ne)&&at.resolve(Qe);return Qe}onInit(K,ee){var Me;const Qe=this.normalizeInstanceIdentifier(ee),Ne=null!==(Me=this.onInitCallbacks.get(Qe))&&void 0!==Me?Me:new Set;Ne.add(K),this.onInitCallbacks.set(Qe,Ne);const at=this.instances.get(Qe);return at&&K(at,Qe),()=>{Ne.delete(K)}}invokeOnInitCallbacks(K,ee){const Me=this.onInitCallbacks.get(ee);if(Me)for(const Qe of Me)try{Qe(K,ee)}catch{}}getOrInitializeService({instanceIdentifier:K,options:ee={}}){let Me=this.instances.get(K);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:($e=K,$e===ne?void 0:$e),options:ee}),this.instances.set(K,Me),this.instancesOptions.set(K,ee),this.invokeOnInitCallbacks(Me,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,Me)}catch{}var $e;return Me||null}normalizeInstanceIdentifier(K=ne){return this.component?this.component.multipleInstances?K:ne:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ee=this.getProvider(K.name);if(ee.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ee.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ee=new pe(K,this);return this.providers.set(K,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(zt,Ye,H)=>{H.d(Ye,{Yd:()=>Be,in:()=>$});const C=[];var $=(()=>{return(K=$||($={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",$;var K})();const ae={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ne=$.INFO,pe={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Le=(K,ee,...Me)=>{if(ee<K.logLevel)return;const Qe=(new Date).toISOString(),Ne=pe[ee];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ne](`[${Qe}]  ${K.name}:`,...Me)};class Be{constructor(ee){this.name=ee,this._logLevel=ne,this._logHandler=Le,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in $))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?ae[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...ee),this._logHandler(this,$.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...ee),this._logHandler(this,$.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,$.INFO,...ee),this._logHandler(this,$.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,$.WARN,...ee),this._logHandler(this,$.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...ee),this._logHandler(this,$.ERROR,...ee)}}},259:(zt,Ye,H)=>{H.d(Ye,{C6:()=>C.C6,KN:()=>C.KN,Mq:()=>C.Mq,ZF:()=>C.ZF});var C=H(9681);(0,C.KN)("firebase","9.16.0","app")},1434:(zt,Ye,H)=>{H.d(Ye,{hJ:()=>Si,Xb:()=>fo,v0:()=>su,MX:()=>Ao,e5:()=>Kt,rh:()=>Fa,w7:()=>Pi});var C=H(5861),$=H(2090),ae=H(9681),ne=H(1877),pe=H(655),Le=H(4859);const at=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new ne.Yd("@firebase/auth");function St(I,...h){Ct.logLevel<=ne.in.ERROR&&Ct.error(`Auth (${ae.Jn}): ${I}`,...h)}function tt(I,...h){throw dt(I,...h)}function Pe(I,...h){return dt(I,...h)}function je(I,h,f){const T=Object.assign(Object.assign({},at()),{[h]:f});return new $.LL("auth","Firebase",T).create(h,{appName:I.name})}function Ze(I,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&tt(I,"argument-error"),je(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(I,...h){if("string"!=typeof I){const f=h[0],T=[...h.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(f,...T)}return Et.create(I,...h)}function ce(I,h,...f){if(!I)throw dt(h,...f)}function Se(I){const h="INTERNAL ASSERTION FAILED: "+I;throw St(h),new Error(h)}function ie(I,h){I||Se(h)}const Q=new Map;function oe(I){ie(I instanceof Function,"Expected a class definition");let h=Q.get(I);return h?(ie(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,Q.set(I,h),h)}function Ge(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function ht(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class mt{constructor(h,f){this.shortDelay=h,this.longDelay=f,ie(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function be(){return"http:"===ht()||"https:"===ht()}()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yt(I,h){ie(I.emulator,"Emulator should always be set here");const{url:f}=I.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class pn{static initialize(h,f,T){this.fetchImpl=h,f&&(this.headersImpl=f),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Tr=new mt(3e4,6e4);function Qt(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function Wt(I,h,f,T){return On.apply(this,arguments)}function On(){return(On=(0,C.Z)(function*(I,h,f,T,L={}){return er(I,L,(0,C.Z)(function*(){let G={},Ie={};T&&("GET"===h?Ie=T:G={body:JSON.stringify(T)});const Je=(0,$.xO)(Object.assign({key:I.config.apiKey},Ie)).slice(1),Nt=yield I._getAdditionalHeaders();return Nt["Content-Type"]="application/json",I.languageCode&&(Nt["X-Firebase-Locale"]=I.languageCode),pn.fetch()(ci(I,I.config.apiHost,f,Je),Object.assign({method:h,headers:Nt,referrerPolicy:"no-referrer"},G))}))})).apply(this,arguments)}function er(I,h,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,C.Z)(function*(I,h,f){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},un),h);try{const L=new $r(I),G=yield Promise.race([f(),L.promise]);L.clearNetworkTimeout();const Ie=yield G.json();if("needConfirmation"in Ie)throw yn(I,"account-exists-with-different-credential",Ie);if(G.ok&&!("errorMessage"in Ie))return Ie;{const Je=G.ok?Ie.errorMessage:Ie.error.message,[Nt,Gt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nt)throw yn(I,"credential-already-in-use",Ie);if("EMAIL_EXISTS"===Nt)throw yn(I,"email-already-in-use",Ie);if("USER_DISABLED"===Nt)throw yn(I,"user-disabled",Ie);const ln=T[Nt]||Nt.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw je(I,ln,Gt);tt(I,ln)}}catch(L){if(L instanceof $.ZR)throw L;tt(I,"network-request-failed")}})).apply(this,arguments)}function Ft(I,h,f,T){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,C.Z)(function*(I,h,f,T,L={}){const G=yield Wt(I,h,f,T,L);return"mfaPendingCredential"in G&&tt(I,"multi-factor-auth-required",{_serverResponse:G}),G})).apply(this,arguments)}function ci(I,h,f,T){const L=`${h}${f}?${T}`;return I.config.emulator?Yt(I.config,L):`${I.config.apiScheme}://${L}`}class $r{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,T)=>{this.timer=setTimeout(()=>T(Pe(this.auth,"network-request-failed")),Tr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yn(I,h,f){const T={appName:I.name};f.email&&(T.email=f.email),f.phoneNumber&&(T.phoneNumber=f.phoneNumber);const L=Pe(I,h,T);return L.customData._tokenResponse=f,L}function Fr(){return(Fr=(0,C.Z)(function*(I,h){return Wt(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ti(I,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,C.Z)(function*(I,h){return Wt(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function nr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function ur(){return(ur=(0,C.Z)(function*(I,h=!1){const f=(0,$.m9)(I),T=yield f.getIdToken(h),L=xt(T);ce(L&&L.exp&&L.auth_time&&L.iat,f.auth,"internal-error");const G="object"==typeof L.firebase?L.firebase:void 0,Ie=G?.sign_in_provider;return{claims:L,token:T,authTime:nr(on(L.auth_time)),issuedAtTime:nr(on(L.iat)),expirationTime:nr(on(L.exp)),signInProvider:Ie||null,signInSecondFactor:G?.sign_in_second_factor||null}})).apply(this,arguments)}function on(I){return 1e3*Number(I)}function xt(I){const[h,f,T]=I.split(".");if(void 0===h||void 0===f||void 0===T)return St("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,$.tV)(f);return L?JSON.parse(L):(St("Failed to decode base64 JWT payload"),null)}catch(L){return St("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Xt(I,h){return vn.apply(this,arguments)}function vn(){return(vn=(0,C.Z)(function*(I,h,f=!1){if(f)return h;try{return yield h}catch(T){throw T instanceof $.ZR&&cn(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}function cn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class jr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const L=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const T=this.getInterval(h);this.timerId=setTimeout((0,C.Z)(function*(){yield f.iteration()}),T)}iteration(){var h=this;return(0,C.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class Un{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=nr(this.lastLoginAt),this.creationTime=nr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(I){return xn.apply(this,arguments)}function xn(){return(xn=(0,C.Z)(function*(I){var h;const f=I.auth,T=yield I.getIdToken(),L=yield Xt(I,Ti(f,{idToken:T}));ce(L?.users.length,f,"internal-error");const G=L.users[0];I._notifyReloadListener(G);const Ie=null!==(h=G.providerUserInfo)&&void 0!==h&&h.length?br(G.providerUserInfo):[],Je=Sr(I.providerData,Ie),ln=!!I.isAnonymous&&!(I.email&&G.passwordHash||Je?.length),Hn={uid:G.localId,displayName:G.displayName||null,photoURL:G.photoUrl||null,email:G.email||null,emailVerified:G.emailVerified||!1,phoneNumber:G.phoneNumber||null,tenantId:G.tenantId||null,providerData:Je,metadata:new Un(G.createdAt,G.lastLoginAt),isAnonymous:ln};Object.assign(I,Hn)})).apply(this,arguments)}function gn(){return(gn=(0,C.Z)(function*(I){const h=(0,$.m9)(I);yield dn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Sr(I,h){return[...I.filter(T=>!h.some(L=>L.providerId===T.providerId)),...h]}function br(I){return I.map(h=>{var{providerId:f}=h,T=(0,pe._T)(h,["providerId"]);return{providerId:f,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function Ae(){return(Ae=(0,C.Z)(function*(I,h){const f=yield er(I,{},(0,C.Z)(function*(){const T=(0,$.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:L,apiKey:G}=I.config,Ie=ci(I,L,"/v1/token",`key=${G}`),Je=yield I._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(Ie,{method:"POST",headers:Je,body:T})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class ke{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ce(h.idToken,"internal-error"),ce(typeof h.idToken<"u","internal-error"),ce(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function nt(I){const h=xt(I);return ce(h,"internal-error"),ce(typeof h.exp<"u","internal-error"),ce(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var T=this;return(0,C.Z)(function*(){return ce(!T.accessToken||T.refreshToken,h,"user-token-expired"),f||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(h,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var T=this;return(0,C.Z)(function*(){const{accessToken:L,refreshToken:G,expiresIn:Ie}=yield function it(I,h){return Ae.apply(this,arguments)}(h,f);T.updateTokensAndExpiration(L,G,Number(Ie))})()}updateTokensAndExpiration(h,f,T){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(h,f){const{refreshToken:T,accessToken:L,expirationTime:G}=f,Ie=new ke;return T&&(ce("string"==typeof T,"internal-error",{appName:h}),Ie.refreshToken=T),L&&(ce("string"==typeof L,"internal-error",{appName:h}),Ie.accessToken=L),G&&(ce("number"==typeof G,"internal-error",{appName:h}),Ie.expirationTime=G),Ie}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ke,this.toJSON())}_performRefresh(){return Se("not implemented")}}function Tt(I,h){ce("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class Lt{constructor(h){var{uid:f,auth:T,stsTokenManager:L}=h,G=(0,pe._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=T,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new Un(G.createdAt||void 0,G.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,C.Z)(function*(){const T=yield Xt(f,f.stsTokenManager.getToken(f.auth,h));return ce(T,f.auth,"internal-error"),f.accessToken!==T&&(f.accessToken=T,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),T})()}getIdTokenResult(h){return function wn(I){return ur.apply(this,arguments)}(this,h)}reload(){return function yi(I){return gn.apply(this,arguments)}(this)}_assign(h){this!==h&&(ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Lt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var T=this;return(0,C.Z)(function*(){let L=!1;h.idToken&&h.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(h),L=!0),f&&(yield dn(T)),yield T.auth._persistUserIfCurrent(T),L&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var h=this;return(0,C.Z)(function*(){const f=yield h.getIdToken();return yield Xt(h,function ar(I,h){return Fr.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var T,L,G,Ie,Je,Nt,Gt,ln;const Hn=null!==(T=f.displayName)&&void 0!==T?T:void 0,Oo=null!==(L=f.email)&&void 0!==L?L:void 0,va=null!==(G=f.phoneNumber)&&void 0!==G?G:void 0,ou=null!==(Ie=f.photoURL)&&void 0!==Ie?Ie:void 0,_a=null!==(Je=f.tenantId)&&void 0!==Je?Je:void 0,Zu=null!==(Nt=f._redirectEventId)&&void 0!==Nt?Nt:void 0,Cu=null!==(Gt=f.createdAt)&&void 0!==Gt?Gt:void 0,ai=null!==(ln=f.lastLoginAt)&&void 0!==ln?ln:void 0,{uid:Fn,emailVerified:Yu,isAnonymous:Qu,providerData:Fo,stsTokenManager:au}=f;ce(Fn&&au,h,"internal-error");const ts=ke.fromJSON(this.name,au);ce("string"==typeof Fn,h,"internal-error"),Tt(Hn,h.name),Tt(Oo,h.name),ce("boolean"==typeof Yu,h,"internal-error"),ce("boolean"==typeof Qu,h,"internal-error"),Tt(va,h.name),Tt(ou,h.name),Tt(_a,h.name),Tt(Zu,h.name),Tt(Cu,h.name),Tt(ai,h.name);const Xu=new Lt({uid:Fn,auth:h,email:Oo,emailVerified:Yu,displayName:Hn,isAnonymous:Qu,photoURL:ou,phoneNumber:va,tenantId:_a,stsTokenManager:ts,createdAt:Cu,lastLoginAt:ai});return Fo&&Array.isArray(Fo)&&(Xu.providerData=Fo.map(Ju=>Object.assign({},Ju))),Zu&&(Xu._redirectEventId=Zu),Xu}static _fromIdTokenResponse(h,f,T=!1){return(0,C.Z)(function*(){const L=new ke;L.updateFromServerResponse(f);const G=new Lt({uid:f.localId,auth:h,stsTokenManager:L,isAnonymous:T});return yield dn(G),G})()}}const X=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(f,T){var L=this;return(0,C.Z)(function*(){L.storage[f]=T})()}_get(f){var T=this;return(0,C.Z)(function*(){const L=T.storage[f];return void 0===L?null:L})()}_remove(f){var T=this;return(0,C.Z)(function*(){delete T.storage[f]})()}_addListener(f,T){}_removeListener(f,T){}}return I.type="NONE",I})();function Z(I,h,f){return`firebase:${I}:${h}:${f}`}class te{constructor(h,f,T){this.persistence=h,this.auth=f,this.userKey=T;const{config:L,name:G}=this.auth;this.fullUserKey=Z(this.userKey,L.apiKey,G),this.fullPersistenceKey=Z("persistence",L.apiKey,G),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,C.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?Lt._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,C.Z)(function*(){if(f.persistence===h)return;const T=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,T?f.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,T="authUser"){return(0,C.Z)(function*(){if(!f.length)return new te(oe(X),h,T);const L=(yield Promise.all(f.map(function(){var Gt=(0,C.Z)(function*(ln){if(yield ln._isAvailable())return ln});return function(ln){return Gt.apply(this,arguments)}}()))).filter(Gt=>Gt);let G=L[0]||oe(X);const Ie=Z(T,h.config.apiKey,h.name);let Je=null;for(const Gt of f)try{const ln=yield Gt._get(Ie);if(ln){const Hn=Lt._fromJSON(h,ln);Gt!==G&&(Je=Hn),G=Gt;break}}catch{}const Nt=L.filter(Gt=>Gt._shouldAllowMigration);return G._shouldAllowMigration&&Nt.length?(G=Nt[0],Je&&(yield G._set(Ie,Je.toJSON())),yield Promise.all(f.map(function(){var Gt=(0,C.Z)(function*(ln){if(ln!==G)try{yield ln._remove(Ie)}catch{}});return function(ln){return Gt.apply(this,arguments)}}())),new te(G,h,T)):new te(G,h,T)})()}}function He(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(an(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Te(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(me(h))return"Blackberry";if(re(h))return"Webos";if(yt(h))return"Safari";if((h.includes("chrome/")||qt(h))&&!h.includes("edge/"))return"Chrome";if(mr(h))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function Te(I=(0,$.z$)()){return/firefox\//i.test(I)}function yt(I=(0,$.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function qt(I=(0,$.z$)()){return/crios\//i.test(I)}function an(I=(0,$.z$)()){return/iemobile/i.test(I)}function mr(I=(0,$.z$)()){return/android/i.test(I)}function me(I=(0,$.z$)()){return/blackberry/i.test(I)}function re(I=(0,$.z$)()){return/webos/i.test(I)}function z(I=(0,$.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ve(I=(0,$.z$)()){return z(I)||mr(I)||re(I)||me(I)||/windows phone/i.test(I)||an(I)}function vt(I,h=[]){let f;switch(I){case"Browser":f=He((0,$.z$)());break;case"Worker":f=`${He((0,$.z$)())}-${I}`;break;default:f=I}const T=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.Jn}/${T}`}class rr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const T=G=>new Promise((Ie,Je)=>{try{Ie(h(G))}catch(Nt){Je(Nt)}});T.onAbort=f,this.queue.push(T);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,C.Z)(function*(){if(f.auth.currentUser===h)return;const T=[];try{for(const L of f.queue)yield L(h),L.onAbort&&T.push(L.onAbort)}catch(L){T.reverse();for(const G of T)try{G()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Ar{constructor(h,f,T){this.app=h,this.heartbeatServiceProvider=f,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Li(this),this.idTokenSubscription=new Li(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(h,f){var T=this;return f&&(this._popupRedirectResolver=oe(f)),this._initializationPromise=this.queue((0,C.Z)(function*(){var L,G;if(!T._deleted&&(T.persistenceManager=yield te.create(T,h),!T._deleted)){if(null!==(L=T._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(f),T.lastNotifiedUid=(null===(G=T.currentUser)||void 0===G?void 0:G.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,C.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,C.Z)(function*(){var T;const L=yield f.assertedPersistence.getCurrentUser();let G=L,Ie=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Je=null===(T=f.redirectUser)||void 0===T?void 0:T._redirectEventId,Nt=G?._redirectEventId,Gt=yield f.tryRedirectSignIn(h);(!Je||Je===Nt)&&Gt?.user&&(G=Gt.user,Ie=!0)}if(!G)return f.directlySetCurrentUser(null);if(!G._redirectEventId){if(Ie)try{yield f.beforeStateQueue.runMiddleware(G)}catch(Je){G=L,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Je))}return G?f.reloadAndSetCurrentUserOrClear(G):f.directlySetCurrentUser(null)}return ce(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===G._redirectEventId?f.directlySetCurrentUser(G):f.reloadAndSetCurrentUserOrClear(G)})()}tryRedirectSignIn(h){var f=this;return(0,C.Z)(function*(){let T=null;try{T=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,C.Z)(function*(){try{yield dn(h)}catch(T){if("auth/network-request-failed"!==T?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Pn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,C.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,C.Z)(function*(){const T=h?(0,$.m9)(h):null;return T&&ce(T.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(T&&T._clone(f))})()}_updateCurrentUser(h,f=!1){var T=this;return(0,C.Z)(function*(){if(!T._deleted)return h&&ce(T.tenantId===h.tenantId,T,"tenant-id-mismatch"),f||(yield T.beforeStateQueue.runMiddleware(h)),T.queue((0,C.Z)(function*(){yield T.directlySetCurrentUser(h),T.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,C.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,C.Z)(function*(){yield f.assertedPersistence.setPersistence(oe(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new $.LL("auth","Firebase",h())}onAuthStateChanged(h,f,T){return this.registerStateListener(this.authStateSubscription,h,f,T)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,T){return this.registerStateListener(this.idTokenSubscription,h,f,T)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var T=this;return(0,C.Z)(function*(){const L=yield T.getOrInitRedirectPersistenceManager(f);return null===h?L.removeCurrentUser():L.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,C.Z)(function*(){if(!f.redirectPersistenceManager){const T=h&&oe(h)||f._popupRedirectResolver;ce(T,f,"argument-error"),f.redirectPersistenceManager=yield te.create(f,[oe(T._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,C.Z)(function*(){var T,L;return f._isInitialized&&(yield f.queue((0,C.Z)(function*(){}))),(null===(T=f._currentUser)||void 0===T?void 0:T._redirectEventId)===h?f._currentUser:(null===(L=f.redirectUser)||void 0===L?void 0:L._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,C.Z)(function*(){if(h===f.currentUser)return f.queue((0,C.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,T,L){if(this._deleted)return()=>{};const G="function"==typeof f?f:f.next.bind(f),Ie=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(Ie,this,"internal-error"),Ie.then(()=>G(this.currentUser)),"function"==typeof f?h.addObserver(f,T,L):h.addObserver(f)}directlySetCurrentUser(h){var f=this;return(0,C.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,C.Z)(function*(){var f;const T={"X-Client-Version":h.clientVersion};h.app.options.appId&&(T["X-Firebase-gmpid"]=h.app.options.appId);const L=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return L&&(T["X-Firebase-Client"]=L),T})()}}function Vn(I){return(0,$.m9)(I)}class Li{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,$.ne)(f=>this.observer=f)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function ri(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class Cs{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Se("not implemented")}_getIdTokenResponse(h){return Se("not implemented")}_linkToIdToken(h,f){return Se("not implemented")}_getReauthenticationResolver(h){return Se("not implemented")}}function vi(){return(vi=(0,C.Z)(function*(I,h){return Wt(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Gn(){return(Gn=(0,C.Z)(function*(I,h){return Ft(I,"POST","/v1/accounts:signInWithPassword",Qt(I,h))})).apply(this,arguments)}function zn(){return(zn=(0,C.Z)(function*(I,h){return Ft(I,"POST","/v1/accounts:signInWithEmailLink",Qt(I,h))})).apply(this,arguments)}function di(){return(di=(0,C.Z)(function*(I,h){return Ft(I,"POST","/v1/accounts:signInWithEmailLink",Qt(I,h))})).apply(this,arguments)}class Vt extends Cs{constructor(h,f,T,L=null){super("password",T),this._email=h,this._password=f,this._tenantId=L}static _fromEmailAndPassword(h,f){return new Vt(h,f,"password")}static _fromEmailAndCode(h,f,T=null){return new Vt(h,f,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,C.Z)(function*(){switch(f.signInMethod){case"password":return function mn(I,h){return Gn.apply(this,arguments)}(h,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Yr(I,h){return zn.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:tt(h,"internal-error")}})()}_linkToIdToken(h,f){var T=this;return(0,C.Z)(function*(){switch(T.signInMethod){case"password":return function Us(I,h){return vi.apply(this,arguments)}(h,{idToken:f,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Hr(I,h){return di.apply(this,arguments)}(h,{idToken:f,email:T._email,oobCode:T._password});default:tt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function _i(I,h){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,C.Z)(function*(I,h){return Ft(I,"POST","/v1/accounts:signInWithIdp",Qt(I,h))})).apply(this,arguments)}class lr extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new lr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):tt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:T,signInMethod:L}=f,G=(0,pe._T)(f,["providerId","signInMethod"]);if(!T||!L)return null;const Ie=new lr(T,L);return Ie.idToken=G.idToken||void 0,Ie.accessToken=G.accessToken||void 0,Ie.secret=G.secret,Ie.nonce=G.nonce,Ie.pendingToken=G.pendingToken||null,Ie}_getIdTokenResponse(h){return _i(h,this.buildRequest())}_linkToIdToken(h,f){const T=this.buildRequest();return T.idToken=f,_i(h,T)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,_i(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,$.xO)(f)}return h}}class Ir{constructor(h){var f,T,L,G,Ie,Je;const Nt=(0,$.zd)((0,$.pd)(h)),Gt=null!==(f=Nt.apiKey)&&void 0!==f?f:null,ln=null!==(T=Nt.oobCode)&&void 0!==T?T:null,Hn=function Bo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Nt.mode)&&void 0!==L?L:null);ce(Gt&&ln&&Hn,"argument-error"),this.apiKey=Gt,this.operation=Hn,this.code=ln,this.continueUrl=null!==(G=Nt.continueUrl)&&void 0!==G?G:null,this.languageCode=null!==(Ie=Nt.languageCode)&&void 0!==Ie?Ie:null,this.tenantId=null!==(Je=Nt.tenantId)&&void 0!==Je?Je:null}static parseLink(h){const f=function os(I){const h=(0,$.zd)((0,$.pd)(I)).link,f=h?(0,$.zd)((0,$.pd)(h)).deep_link_id:null,T=(0,$.zd)((0,$.pd)(I)).deep_link_id;return(T?(0,$.zd)((0,$.pd)(T)).link:null)||T||f||h||I}(h);try{return new Ir(f)}catch{return null}}}let bo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(f,T){return Vt._fromEmailAndPassword(f,T)}static credentialWithLink(f,T){const L=Ir.parseLink(T);return ce(L,"argument-error"),Vt._fromEmailAndCode(f,L.code,L.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class wr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class En extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}let Si=(()=>{class I extends En{constructor(){super("google.com"),this.addScope("profile")}static credential(f,T){return lr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:T})}static credentialFromResult(f){return I.credentialFromTaggedObject(f)}static credentialFromError(f){return I.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:T,oauthAccessToken:L}=f;if(!T&&!L)return null;try{return I.credential(T,L)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})();function us(I,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,C.Z)(function*(I,h){return Ft(I,"POST","/v1/accounts:signUp",Qt(I,h))})).apply(this,arguments)}class wi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,T,L=!1){return(0,C.Z)(function*(){const G=yield Lt._fromIdTokenResponse(h,T,L),Ie=co(T);return new wi({user:G,providerId:Ie,_tokenResponse:T,operationType:f})})()}static _forOperation(h,f,T){return(0,C.Z)(function*(){yield h._updateTokensIfNecessary(T,!0);const L=co(T);return new wi({user:h,providerId:L,_tokenResponse:T,operationType:f})})()}}function co(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}class ua extends $.ZR{constructor(h,f,T,L){var G;super(f.code,f.message),this.operationType=T,this.user=L,Object.setPrototypeOf(this,ua.prototype),this.customData={appName:h.name,tenantId:null!==(G=h.tenantId)&&void 0!==G?G:void 0,_serverResponse:f.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(h,f,T,L){return new ua(h,f,T,L)}}function Ea(I,h,f,T){return("reauthenticate"===h?f._getReauthenticationResolver(I):f._getIdTokenResponse(I)).catch(G=>{throw"auth/multi-factor-auth-required"===G.code?ua._fromErrorAndOperation(I,G,h,T):G})}function Bs(I,h){return $s.apply(this,arguments)}function $s(){return($s=(0,C.Z)(function*(I,h,f=!1){const T=yield Xt(I,h._linkToIdToken(I.auth,yield I.getIdToken()),f);return wi._forOperation(I,"link",T)})).apply(this,arguments)}function Mi(){return(Mi=(0,C.Z)(function*(I,h,f=!1){const{auth:T}=I,L="reauthenticate";try{const G=yield Xt(I,Ea(T,L,h,I),f);ce(G.idToken,T,"internal-error");const Ie=xt(G.idToken);ce(Ie,T,"internal-error");const{sub:Je}=Ie;return ce(I.uid===Je,T,"user-mismatch"),wi._forOperation(I,L,G)}catch(G){throw"auth/user-not-found"===G?.code&&tt(T,"user-mismatch"),G}})).apply(this,arguments)}function Ho(I,h){return cs.apply(this,arguments)}function cs(){return(cs=(0,C.Z)(function*(I,h,f=!1){const T="signIn",L=yield Ea(I,T,h),G=yield wi._fromIdTokenResponse(I,T,L);return f||(yield I._updateCurrentUser(G.user)),G})).apply(this,arguments)}function Yn(){return(Yn=(0,C.Z)(function*(I,h){return Ho(Vn(I),h)})).apply(this,arguments)}function fo(I,h,f){return po.apply(this,arguments)}function po(){return(po=(0,C.Z)(function*(I,h,f){const T=Vn(I),L=yield us(T,{returnSecureToken:!0,email:h,password:f}),G=yield wi._fromIdTokenResponse(T,"signIn",L);return yield T._updateCurrentUser(G.user),G})).apply(this,arguments)}function Kt(I,h,f){return function js(I,h){return Yn.apply(this,arguments)}((0,$.m9)(I),bo.credential(h,f))}function Ao(I,h,f,T){return(0,$.m9)(I).onIdTokenChanged(h,f,T)}function Pi(I){return(0,$.m9)(I).signOut()}const x="__sak";class D{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(x,"1"),this.storage.removeItem(x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const gt=(()=>{class I extends D{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,T)=>this.onStorageEvent(f,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function U(){const I=(0,$.z$)();return yt(I)||z(I)}()&&function pt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ve(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const T of Object.keys(this.listeners)){const L=this.storage.getItem(T),G=this.localCache[T];L!==G&&f(T,G,L)}}onStorageEvent(f,T=!1){if(!f.key)return void this.forAllChangedKeys((Je,Nt,Gt)=>{this.notifyListeners(Je,Gt)});const L=f.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(L);if(f.newValue!==Je)null!==f.newValue?this.storage.setItem(L,f.newValue):this.storage.removeItem(L);else if(this.localCache[L]===f.newValue&&!T)return}const G=()=>{const Je=this.storage.getItem(L);!T&&this.localCache[L]===Je||this.notifyListeners(L,Je)},Ie=this.storage.getItem(L);!function Ue(){return(0,$.w1)()&&10===document.documentMode}()||Ie===f.newValue||f.newValue===f.oldValue?G():setTimeout(G,10)}notifyListeners(f,T){this.localCache[f]=T;const L=this.listeners[f];if(L)for(const G of Array.from(L))G(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,T,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:T,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(T)}_removeListener(f,T){this.listeners[f]&&(this.listeners[f].delete(T),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,T){var L=()=>super._set,G=this;return(0,C.Z)(function*(){yield L().call(G,f,T),G.localCache[f]=JSON.stringify(T)})()}_get(f){var T=()=>super._get,L=this;return(0,C.Z)(function*(){const G=yield T().call(L,f);return L.localCache[f]=JSON.stringify(G),G})()}_remove(f){var T=()=>super._remove,L=this;return(0,C.Z)(function*(){yield T().call(L,f),delete L.localCache[f]})()}}return I.type="LOCAL",I})(),Tn=(()=>{class I extends D{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,T){}_removeListener(f,T){}}return I.type="SESSION",I})();let hn=(()=>{class I{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const T=this.receivers.find(G=>G.isListeningto(f));if(T)return T;const L=new I(f);return this.receivers.push(L),L}isListeningto(f){return this.eventTarget===f}handleEvent(f){var T=this;return(0,C.Z)(function*(){const L=f,{eventId:G,eventType:Ie,data:Je}=L.data,Nt=T.handlersMap[Ie];if(!Nt?.size)return;L.ports[0].postMessage({status:"ack",eventId:G,eventType:Ie});const Gt=Array.from(Nt).map(function(){var Hn=(0,C.Z)(function*(Oo){return Oo(L.origin,Je)});return function(Oo){return Hn.apply(this,arguments)}}()),ln=yield function Sn(I){return Promise.all(I.map(function(){var h=(0,C.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(T){return{fulfilled:!1,reason:T}}});return function(f){return h.apply(this,arguments)}}()))}(Gt);L.ports[0].postMessage({status:"done",eventId:G,eventType:Ie,response:ln})})()}_subscribe(f,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(T)}_unsubscribe(f,T){this.handlersMap[f]&&T&&this.handlersMap[f].delete(T),(!T||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function gr(I="",h=10){let f="";for(let T=0;T<h;T++)f+=Math.floor(10*Math.random());return I+f}class Rn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,T=50){var L=this;return(0,C.Z)(function*(){const G=typeof MessageChannel<"u"?new MessageChannel:null;if(!G)throw new Error("connection_unavailable");let Ie,Je;return new Promise((Nt,Gt)=>{const ln=gr("",20);G.port1.start();const Hn=setTimeout(()=>{Gt(new Error("unsupported_event"))},T);Je={messageChannel:G,onMessage(Oo){const va=Oo;if(va.data.eventId===ln)switch(va.data.status){case"ack":clearTimeout(Hn),Ie=setTimeout(()=>{Gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ie),Nt(va.data.response);break;default:clearTimeout(Hn),clearTimeout(Ie),Gt(new Error("invalid_response"))}}},L.handlers.add(Je),G.port1.addEventListener("message",Je.onMessage),L.target.postMessage({eventType:h,eventId:ln,data:f},[G.port2])}).finally(()=>{Je&&L.removeMessageHandler(Je)})})()}}function sn(){return window}function Nr(){return typeof sn().WorkerGlobalScope<"u"&&"function"==typeof sn().importScripts}function An(){return(An=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _n="firebaseLocalStorageDb",Xn="firebaseLocalStorage",lt="fbase_key";class Xs{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function $i(I,h){return I.transaction([Xn],h?"readwrite":"readonly").objectStore(Xn)}function yo(){const I=indexedDB.open(_n,1);return new Promise((h,f)=>{I.addEventListener("error",()=>{f(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(Xn,{keyPath:lt})}catch(L){f(L)}}),I.addEventListener("success",(0,C.Z)(function*(){const T=I.result;T.objectStoreNames.contains(Xn)?h(T):(T.close(),yield function ji(){const I=indexedDB.deleteDatabase(_n);return new Xs(I).toPromise()}(),h(yield yo()))}))})}function vo(I,h,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,C.Z)(function*(I,h,f){const T=$i(I,!0).put({[lt]:h,value:f});return new Xs(T).toPromise()})).apply(this,arguments)}function ms(){return(ms=(0,C.Z)(function*(I,h){const f=$i(I,!1).get(h),T=yield new Xs(f).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Js(I,h){const f=$i(I,!0).delete(h);return new Xs(f).toPromise()}const Xa=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,C.Z)(function*(){return f.db||(f.db=yield yo()),f.db})()}_withRetries(f){var T=this;return(0,C.Z)(function*(){let L=0;for(;;)try{const G=yield T._openDb();return yield f(G)}catch(G){if(L++>3)throw G;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,C.Z)(function*(){return Nr()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,C.Z)(function*(){f.receiver=hn._getInstance(function Qs(){return Nr()?self:null}()),f.receiver._subscribe("keyChanged",function(){var T=(0,C.Z)(function*(L,G){return{keyProcessed:(yield f._poll()).includes(G.key)}});return function(L,G){return T.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var T=(0,C.Z)(function*(L,G){return["keyChanged"]});return function(L,G){return T.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,C.Z)(function*(){var T,L;if(f.activeServiceWorker=yield function Bi(){return An.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Rn(f.activeServiceWorker);const G=yield f.sender._send("ping",{},800);G&&null!==(T=G[0])&&void 0!==T&&T.fulfilled&&null!==(L=G[0])&&void 0!==L&&L.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var T=this;return(0,C.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Pt(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:f},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const f=yield yo();return yield vo(f,x,"1"),yield Js(f,x),!0}catch{}return!1})()}_withPendingWrite(f){var T=this;return(0,C.Z)(function*(){T.pendingWrites++;try{yield f()}finally{T.pendingWrites--}})()}_set(f,T){var L=this;return(0,C.Z)(function*(){return L._withPendingWrite((0,C.Z)(function*(){return yield L._withRetries(G=>vo(G,f,T)),L.localCache[f]=T,L.notifyServiceWorker(f)}))})()}_get(f){var T=this;return(0,C.Z)(function*(){const L=yield T._withRetries(G=>function gs(I,h){return ms.apply(this,arguments)}(G,f));return T.localCache[f]=L,L})()}_remove(f){var T=this;return(0,C.Z)(function*(){return T._withPendingWrite((0,C.Z)(function*(){return yield T._withRetries(L=>Js(L,f)),delete T.localCache[f],T.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,C.Z)(function*(){const T=yield f._withRetries(Ie=>{const Je=$i(Ie,!1).getAll();return new Xs(Je).toPromise()});if(!T)return[];if(0!==f.pendingWrites)return[];const L=[],G=new Set;for(const{fbase_key:Ie,value:Je}of T)G.add(Ie),JSON.stringify(f.localCache[Ie])!==JSON.stringify(Je)&&(f.notifyListeners(Ie,Je),L.push(Ie));for(const Ie of Object.keys(f.localCache))f.localCache[Ie]&&!G.has(Ie)&&(f.notifyListeners(Ie,null),L.push(Ie));return L})()}notifyListeners(f,T){this.localCache[f]=T;const L=this.listeners[f];if(L)for(const G of Array.from(L))G(T)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(T)}_removeListener(f,T){this.listeners[f]&&(this.listeners[f].delete(T),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ys(I){return`__${I}${Math.floor(1e6*Math.random())}`}function Ur(I,h){return h?oe(h):(ce(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}ys("rcb"),new mt(3e4,6e4);class Ro extends Cs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return _i(h,this._buildIdpRequest())}_linkToIdToken(h,f){return _i(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return _i(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function na(I){return Ho(I.auth,new Ro(I),I.bypassAuthState)}function xc(I){const{auth:h,user:f}=I;return ce(f,h,"internal-error"),function jo(I,h){return Mi.apply(this,arguments)}(f,new Ro(I),I.bypassAuthState)}function Eo(I){return tu.apply(this,arguments)}function tu(){return(tu=(0,C.Z)(function*(I){const{auth:h,user:f}=I;return ce(f,h,"internal-error"),Bs(f,new Ro(I),I.bypassAuthState)})).apply(this,arguments)}class es{constructor(h,f,T,L,G=!1){this.auth=h,this.resolver=T,this.user=L,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,C.Z)(function*(T,L){h.pendingPromise={resolve:T,reject:L};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(G){h.reject(G)}});return function(T,L){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,C.Z)(function*(){const{urlResponse:T,sessionId:L,postBody:G,tenantId:Ie,error:Je,type:Nt}=h;if(Je)return void f.reject(Je);const Gt={auth:f.auth,requestUri:T,sessionId:L,tenantId:Ie||void 0,postBody:G||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Nt)(Gt))}catch(ln){f.reject(ln)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return na;case"linkViaPopup":case"linkViaRedirect":return Eo;case"reauthViaPopup":case"reauthViaRedirect":return xc;default:tt(this.auth,"internal-error")}}resolve(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nu=new mt(2e3,1e4);function Fa(I,h,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,C.Z)(function*(I,h,f){const T=Vn(I);Ze(I,h,wr);const L=Ur(T,f);return new Is(T,"signInViaPopup",h,L).executeNotNull()})).apply(this,arguments)}let Is=(()=>{class I extends es{constructor(f,T,L,G,Ie){super(f,T,G,Ie),this.provider=L,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var f=this;return(0,C.Z)(function*(){const T=yield f.execute();return ce(T,f.auth,"internal-error"),T})()}onExecution(){var f=this;return(0,C.Z)(function*(){ie(1===f.filter.length,"Popup operations only handle one event");const T=gr();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],T),f.authWindow.associatedEvent=T,f.resolver._originValidation(f.auth).catch(L=>{f.reject(L)}),f.resolver._isIframeWebStorageSupported(f.auth,L=>{L||f.reject(Pe(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const f=()=>{var T,L;this.pollId=null!==(L=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,nu.get())};f()}}return I.currentPopupAction=null,I})();const ws=new Map;class No extends es{constructor(h,f,T=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,T),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,C.Z)(function*(){let T=ws.get(f.auth._key());if(!T){try{const G=(yield function y(I,h){return v.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;T=()=>Promise.resolve(G)}catch(L){T=()=>Promise.reject(L)}ws.set(f.auth._key(),T)}return f.bypassAuthState||ws.set(f.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,T=this;return(0,C.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(T,h);if("unknown"!==h.type){if(h.eventId){const L=yield T.auth._redirectUserForId(h.eventId);if(L)return T.user=L,f().call(T,h);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function v(){return(v=(0,C.Z)(function*(I,h){const f=le(h),T=V(I);if(!(yield T._isAvailable()))return!1;const L="true"===(yield T._get(f));return yield T._remove(f),L})).apply(this,arguments)}function O(I,h){ws.set(I._key(),h)}function V(I){return oe(I._redirectPersistence)}function le(I){return Z("pendingRedirect",I.config.apiKey,I.name)}function A(I,h){return R.apply(this,arguments)}function R(){return(R=(0,C.Z)(function*(I,h,f=!1){const T=Vn(I),L=Ur(T,h),Ie=yield new No(T,L,f).execute();return Ie&&!f&&(delete Ie.user._redirectEventId,yield T._persistUserIfCurrent(Ie.user),yield T._setRedirectUser(null,h)),Ie})).apply(this,arguments)}class ge{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(h,T)&&(f=!0,this.sendToConsumer(h,T),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ft(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _t(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var T;if(h.error&&!_t(h)){const L=(null===(T=h.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";f.onError(Pe(this.auth,L))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const T=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&T}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(et(h))}saveEventToCache(h){this.cachedEventUids.add(et(h)),this.lastProcessedEventTime=Date.now()}}function et(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function _t({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Bt(I){return tn.apply(this,arguments)}function tn(){return(tn=(0,C.Z)(function*(I,h={}){return Wt(I,"GET","/v1/projects",h)})).apply(this,arguments)}const $t=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^https?/;function Kn(){return(Kn=(0,C.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield Bt(I);for(const f of h)try{if(Mc(f))return}catch{}tt(I,"unauthorized-domain")})).apply(this,arguments)}function Mc(I){const h=Ge(),{protocol:f,hostname:T}=new URL(h);if(I.startsWith("chrome-extension://")){const Ie=new URL(I);return""===Ie.hostname&&""===T?"chrome-extension:"===f&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&Ie.hostname===T}if(!or.test(f))return!1;if($t.test(I))return T===I;const L=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(T)}const ma=new mt(3e4,6e4);function pi(){const I=sn().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let f=0;f<I.CP.length;f++)I.CP[f]=null}let ro=null;function Gu(I){return ro=ro||function Os(I){return new Promise((h,f)=>{var T,L,G;function Ie(){pi(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{pi(),f(Pe(I,"network-request-failed"))},timeout:ma.get()})}if(null!==(L=null===(T=sn().gapi)||void 0===T?void 0:T.iframes)&&void 0!==L&&L.Iframe)h(gapi.iframes.getContext());else{if(null===(G=sn().gapi)||void 0===G||!G.load){const Je=ys("iframefcb");return sn()[Je]=()=>{gapi.load?Ie():f(Pe(I,"network-request-failed"))},function Xo(I){return new Promise((h,f)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=h,T.onerror=L=>{const G=Pe("internal-error");G.customData=L,f(G)},T.type="text/javascript",T.charset="UTF-8",function Hi(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(T)})}(`https://apis.google.com/js/api.js?onload=${Je}`).catch(Nt=>f(Nt))}Ie()}}).catch(h=>{throw ro=null,h})}(I),ro}const hd=new mt(5e3,15e3),ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fd(I){const h=I.config;ce(h.authDomain,I,"auth-domain-config-required");const f=h.emulator?Yt(h,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,T={apiKey:h.apiKey,appName:I.name,v:ae.Jn},L=zu.get(I.config.apiHost);L&&(T.eid=L);const G=I._getFrameworks();return G.length&&(T.fw=G.join(",")),`${f}?${(0,$.xO)(T).slice(1)}`}function Va(){return Va=(0,C.Z)(function*(I){const h=yield Gu(I),f=sn().gapi;return ce(f,I,"internal-error"),h.open({where:document.body,url:fd(I),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ll,dontclear:!0},T=>new Promise(function(){var L=(0,C.Z)(function*(G,Ie){yield T.restyle({setHideOnLeave:!1});const Je=Pe(I,"network-request-failed"),Nt=sn().setTimeout(()=>{Ie(Je)},hd.get());function Gt(){sn().clearTimeout(Nt),G(T)}T.ping(Gt).then(Gt,()=>{Ie(Je)})});return function(G,Ie){return L.apply(this,arguments)}}()))}),Va.apply(this,arguments)}const pd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wu{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qu(I,h,f,T,L,G){ce(I.config.authDomain,I,"auth-domain-config-required"),ce(I.config.apiKey,I,"invalid-api-key");const Ie={apiKey:I.config.apiKey,appName:I.name,authType:f,redirectUrl:T,v:ae.Jn,eventId:L};if(h instanceof wr){h.setDefaultLanguage(I.languageCode),Ie.providerId=h.providerId||"",(0,$.xb)(h.getCustomParameters())||(Ie.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Nt,Gt]of Object.entries(G||{}))Ie[Nt]=Gt}if(h instanceof En){const Nt=h.getScopes().filter(Gt=>""!==Gt);Nt.length>0&&(Ie.scopes=Nt.join(","))}I.tenantId&&(Ie.tid=I.tenantId);const Je=Ie;for(const Nt of Object.keys(Je))void 0===Je[Nt]&&delete Je[Nt];return`${function yd({config:I}){return I.emulator?Yt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,$.xO)(Je).slice(1)}`}const Ku="webStorageSupport",Po=class gl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tn,this._completeRedirectFn=A,this._overrideRedirectResult=O}_openPopup(h,f,T,L){var G=this;return(0,C.Z)(function*(){var Ie;ie(null===(Ie=G.eventManagers[h._key()])||void 0===Ie?void 0:Ie.manager,"_initialize() not called before _openPopup()");const Je=qu(h,f,T,Ge(),L);return function kh(I,h,f,T=500,L=600){const G=Math.max((window.screen.availHeight-L)/2,0).toString(),Ie=Math.max((window.screen.availWidth-T)/2,0).toString();let Je="";const Nt=Object.assign(Object.assign({},pd),{width:T.toString(),height:L.toString(),top:G,left:Ie}),Gt=(0,$.z$)().toLowerCase();f&&(Je=qt(Gt)?"_blank":f),Te(Gt)&&(h=h||"http://localhost",Nt.scrollbars="yes");const ln=Object.entries(Nt).reduce((Oo,[va,ou])=>`${Oo}${va}=${ou},`,"");if(function Xe(I=(0,$.z$)()){var h;return z(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Gt)&&"_self"!==Je)return function md(I,h){const f=document.createElement("a");f.href=I,f.target=h;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(T)}(h||"",Je),new Wu(null);const Hn=window.open(h||"",Je,ln);ce(Hn,I,"popup-blocked");try{Hn.focus()}catch{}return new Wu(Hn)}(h,Je,gr())})()}_openRedirect(h,f,T,L){var G=this;return(0,C.Z)(function*(){return yield G._originValidation(h),function Ht(I){sn().location.href=I}(qu(h,f,T,Ge(),L)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:L,promise:G}=this.eventManagers[f];return L?Promise.resolve(L):(ie(G,"If manager is not set, promise should be"),G)}const T=this.initAndGetManager(h);return this.eventManagers[f]={promise:T},T.catch(()=>{delete this.eventManagers[f]}),T}initAndGetManager(h){var f=this;return(0,C.Z)(function*(){const T=yield function dl(I){return Va.apply(this,arguments)}(h),L=new ge(h);return T.register("authEvent",G=>(ce(G?.authEvent,h,"invalid-auth-event"),{status:L.onEvent(G.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:L},f.iframes[h._key()]=T,L})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Ku,{type:Ku},L=>{var G;const Ie=null===(G=L?.[0])||void 0===G?void 0:G[Ku];void 0!==Ie&&f(!!Ie),tt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function oi(I){return Kn.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ve()||yt()||z()}};var Rc="@firebase/auth";class ru{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,C.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(T=>{h(T?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bu=(0,$.Pz)("authIdTokenMaxAge")||300;let vl=null;const Es=I=>function(){var h=(0,C.Z)(function*(f){const T=f&&(yield f.getIdTokenResult()),L=T&&((new Date).getTime()-Date.parse(T.issuedAtTime))/1e3;if(L&&L>bu)return;const G=T?.token;vl!==G&&(vl=G,yield fetch(I,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}}))});return function(f){return h.apply(this,arguments)}}();function su(I=(0,ae.Mq)()){const h=(0,ae.qX)(I,"auth");if(h.isInitialized())return h.getImmediate();const f=function xe(I,h){const f=(0,ae.qX)(I,"auth");if(f.isInitialized()){const L=f.getImmediate(),G=f.getOptions();if((0,$.vZ)(G,h??{}))return L;tt(L,"already-initialized")}return f.initialize({options:h})}(I,{popupRedirectResolver:Po,persistence:[Xa,gt,Tn]}),T=(0,$.Pz)("authTokenSyncURL");if(T){const G=Es(T);(function Zo(I,h,f){(0,$.m9)(I).beforeAuthStateChanged(h,f)})(f,G,()=>G(f.currentUser)),Ao(f,Ie=>G(Ie))}const L=(0,$.q4)("auth");return L&&function ni(I,h,f){const T=Vn(I);ce(T._canInitEmulator,T,"emulator-config-failed"),ce(/^https?:\/\//.test(h),T,"invalid-emulator-scheme");const L=!!f?.disableWarnings,G=yr(h),{host:Ie,port:Je}=function bs(I){const h=yr(I),f=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!f)return{host:"",port:null};const T=f[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(T);if(L){const G=L[1];return{host:G,port:ri(T.substr(G.length+1))}}{const[G,Ie]=T.split(":");return{host:G,port:ri(Ie)}}}(h);T.config.emulator={url:`${G}//${Ie}${null===Je?"":`:${Je}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ie,port:Je,protocol:G.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function bi(){function I(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(f,`http://${L}`),f}!function iu(I){(0,ae.Xd)(new Le.wA("auth",(h,{options:f})=>{const T=h.getProvider("app").getImmediate(),L=h.getProvider("heartbeat"),{apiKey:G,authDomain:Ie}=T.options;return((Je,Nt)=>{ce(G&&!G.includes(":"),"invalid-api-key",{appName:Je.name}),ce(!Ie?.includes(":"),"argument-error",{appName:Je.name});const Gt={apiKey:G,authDomain:Ie,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vt(I)},ln=new Ar(Je,Nt,Gt);return function ye(I,h){const f=h?.persistence||[],T=(Array.isArray(f)?f:[f]).map(oe);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(T,h?.popupRedirectResolver)}(ln,f),ln})(T,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,T)=>{h.getProvider("auth-internal").initialize()})),(0,ae.Xd)(new Le.wA("auth-internal",h=>{const f=Vn(h.getProvider("auth").getImmediate());return new ru(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.KN)(Rc,"0.21.1",function _d(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,ae.KN)(Rc,"0.21.1","esm2017")}("Browser")},8766:(zt,Ye,H)=>{H.d(Ye,{Lj:()=>Pe,X3:()=>tt});var C=H(5861);let ae,ne;const Be=new WeakMap,De=new WeakMap,$e=new WeakMap,K=new WeakMap,ee=new WeakMap;let Ne={get(Se,ie,Q){if(Se instanceof IDBTransaction){if("done"===ie)return De.get(Se);if("objectStoreNames"===ie)return Se.objectStoreNames||$e.get(Se);if("store"===ie)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return Ct(Se[ie])},set:(Se,ie,Q)=>(Se[ie]=Q,!0),has:(Se,ie)=>Se instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in Se};function kt(Se){return"function"==typeof Se?function Et(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...ie){return Se.apply(St(this),ie),Ct(Be.get(this))}:function(...ie){return Ct(Se.apply(St(this),ie))}:function(ie,...Q){const oe=Se.call(St(this),ie,...Q);return $e.set(oe,ie.sort?ie.sort():[ie]),Ct(oe)}}(Se):(Se instanceof IDBTransaction&&function Qe(Se){if(De.has(Se))return;const ie=new Promise((Q,oe)=>{const xe=()=>{Se.removeEventListener("complete",ye),Se.removeEventListener("error",Ge),Se.removeEventListener("abort",Ge)},ye=()=>{Q(),xe()},Ge=()=>{oe(Se.error||new DOMException("AbortError","AbortError")),xe()};Se.addEventListener("complete",ye),Se.addEventListener("error",Ge),Se.addEventListener("abort",Ge)});De.set(Se,ie)}(Se),((Se,ie)=>ie.some(Q=>Se instanceof Q))(Se,function pe(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,Ne):Se)}function Ct(Se){if(Se instanceof IDBRequest)return function Me(Se){const ie=new Promise((Q,oe)=>{const xe=()=>{Se.removeEventListener("success",ye),Se.removeEventListener("error",Ge)},ye=()=>{Q(Ct(Se.result)),xe()},Ge=()=>{oe(Se.error),xe()};Se.addEventListener("success",ye),Se.addEventListener("error",Ge)});return ie.then(Q=>{Q instanceof IDBCursor&&Be.set(Q,Se)}).catch(()=>{}),ee.set(ie,Se),ie}(Se);if(K.has(Se))return K.get(Se);const ie=kt(Se);return ie!==Se&&(K.set(Se,ie),ee.set(ie,Se)),ie}const St=Se=>ee.get(Se);function tt(Se,ie,{blocked:Q,upgrade:oe,blocking:xe,terminated:ye}={}){const Ge=indexedDB.open(Se,ie),be=Ct(Ge);return oe&&Ge.addEventListener("upgradeneeded",ht=>{oe(Ct(Ge.result),ht.oldVersion,ht.newVersion,Ct(Ge.transaction))}),Q&&Ge.addEventListener("blocked",()=>Q()),be.then(ht=>{ye&&ht.addEventListener("close",()=>ye()),xe&&ht.addEventListener("versionchange",()=>xe())}).catch(()=>{}),be}function Pe(Se,{blocked:ie}={}){const Q=indexedDB.deleteDatabase(Se);return ie&&Q.addEventListener("blocked",()=>ie()),Ct(Q).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],dt=new Map;function ce(Se,ie){if(!(Se instanceof IDBDatabase)||ie in Se||"string"!=typeof ie)return;if(dt.get(ie))return dt.get(ie);const Q=ie.replace(/FromIndex$/,""),oe=ie!==Q,xe=Ze.includes(Q);if(!(Q in(oe?IDBIndex:IDBObjectStore).prototype)||!xe&&!je.includes(Q))return;const ye=function(){var Ge=(0,C.Z)(function*(be,...ht){const rn=this.transaction(be,xe?"readwrite":"readonly");let Pn=rn.store;return oe&&(Pn=Pn.index(ht.shift())),(yield Promise.all([Pn[Q](...ht),xe&&rn.done]))[0]});return function(ht){return Ge.apply(this,arguments)}}();return dt.set(ie,ye),ye}!function at(Se){Ne=Se(Ne)}(Se=>({...Se,get:(ie,Q,oe)=>ce(ie,Q)||Se.get(ie,Q,oe),has:(ie,Q)=>!!ce(ie,Q)||Se.has(ie,Q)}))},5861:(zt,Ye,H)=>{function C(ae,ne,pe,Le,Be,De,$e){try{var K=ae[De]($e),ee=K.value}catch(Me){return void pe(Me)}K.done?ne(ee):Promise.resolve(ee).then(Le,Be)}function $(ae){return function(){var ne=this,pe=arguments;return new Promise(function(Le,Be){var De=ae.apply(ne,pe);function $e(ee){C(De,Le,Be,$e,K,"next",ee)}function K(ee){C(De,Le,Be,$e,K,"throw",ee)}$e(void 0)})}}H.d(Ye,{Z:()=>$})}},zt=>{zt(zt.s=526)}]);